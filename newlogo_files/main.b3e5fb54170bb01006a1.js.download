"use strict";(self.webpackChunk_fld_editor=self.webpackChunk_fld_editor||[]).push([[179],{1957:function(){},8978:function(e,t,n){n.d(t,{u:function(){return o}});var r=n(3313),i=n(4012),o=function(e){var t=e.children,n=e.className;return(0,r.useLayoutEffect)((function(){if(n){try{document.body.classList.add(n)}catch(e){}return function(){try{document.body.classList.remove(n)}catch(e){}}}}),[n]),(0,i.createPortal)(t,document.body)}},1714:function(e,t,n){n.d(t,{z:function(){return f}});var r=n(9312),i=n(4246),o=n(3313),s=n(845),a=n(2211),c=n(2987),u=n(1256),l=n(6269),d=n(4860),f=(0,o.forwardRef)((function(e,t){var n=e.children,s=e.titleAlignment,a=(0,r._T)(e,["children","titleAlignment"]),c=a.title,d=(a.icon||a.iconSrc||a.iconSvg)&&0===o.Children.count(n)?"string"==typeof c?(0,i.jsx)(l.L,{id:c}):c||n:c;return d?(0,i.jsx)(u.e,(0,r.pi)({component:p,componentProps:(0,r.pi)((0,r.pi)({},a),{ref:t}),alignment:s,delayEnter:300,delayExit:0,render:function(){return d}},{children:n})):(0,i.jsx)(p,(0,r.pi)({},a,{ref:t},{children:n}))})),h="fl-button-",p=(0,o.forwardRef)((function(e,t){var n=e.children,s=(e.title,e.titleAlignment,e.icon),u=e.iconSrc,l=e.iconSvg,f=e.iconProps,p=e.primary,g=e.active,m=e.loading,y=e.secondary,x=e.danger,b=e.link,w=e.small,C=e.large,_=e.className,k=e.disabled,E=e.transparent,S=e.outlined,j=e.href,N=e.color,L=e.skin,A=e.collapse,O=e.target,T=e.onClick,D=(0,r._T)(e,["children","title","titleAlignment","icon","iconSrc","iconSvg","iconProps","primary","active","loading","secondary","danger","link","small","large","className","disabled","transparent","outlined","href","color","skin","collapse","target","onClick"]),M=!!(s||u||l),R=M&&0===o.Children.count(n),P=h+(N||x&&"danger"||p&&"primary"||y&&"secondary"||"default"),I=L||E&&"transparent"||S&&"outlined"||b&&"link";return(0,i.jsxs)("button",(0,r.pi)({},D,{onClick:function(e){T&&T(e),e.defaultPrevented||"string"!=typeof j||("_blank"===O?window.open(j):"object"==typeof O?(0,d.gk)(j,O):location.href=j)},ref:t,disabled:k,className:(0,a.cn)("fl-button",A&&"fl-button-collapse",w?"fl-button-small":C&&"fl-button-large",M&&"fl-button-icon",R&&"fl-button-icon-only",P,I&&h+I,g&&"fl-button-active",m&&"fl-button-loading",k&&"fl-button-disabled",_)},{children:[m&&(0,i.jsx)(c.t,{}),v(f,s,u,l),n]}))}));function v(e,t,n,o){return t?(0,i.jsx)(s.JO,(0,r.pi)({},e,{ref:null,fa:t})):n?(0,i.jsx)(s.EV,(0,r.pi)({},e,{src:n})):o?(0,i.jsx)(s.le,(0,r.pi)({},e,{src:o})):void 0}},3714:function(e,t,n){n.d(t,{U:function(){return g}});var r=n(9312),i=n(4246),o=n(3313),s=n(8978);function a(e){var t=(0,o.useState)(!1),n=t[0],r=t[1],i=(0,o.useState)(),s=i[0],a=i[1];return(0,o.useLayoutEffect)((function(){n||null==e.current||r(!0)}),[n,e]),(0,o.useLayoutEffect)((function(){if(e.current){var t=function(e){var t=e.getBoundingClientRect();return{top:t.top,left:t.left,width:t.width,height:t.height}}(e.current);s&&t.width===s.width&&t.height===s.height&&t.top===s.top&&t.left===s.left||a(t)}}),[n,s,e]),s}var c={top:0,left:0};function u(e,t,n){void 0===n&&(n=[]);var r=e?function(e,t){void 0===t&&(t=l());var n=e.left,r=e.top,i=e.width,o=e.height,s=r+o,a=n+i;return s>t.height&&(r+=t.top+t.height-s),a>t.width&&(n+=t.left+t.width-a),r<t.top&&(r+=t.top-r),n<t.left&&(n+=t.left-n),{top:r,left:n,width:i,height:o}}({top:t?t.top||0:e.top,left:t?t.left||0:e.left,width:e.width,height:e.height},l()):null;return r?{top:r.top,left:r.left}:void 0}function l(){return{top:0,left:0,width:window.innerWidth,height:window.innerHeight}}var d=n(6004),f=n(7065),h=n(2211),p=n(8908),v=n(7699),g=function(e){var t=e.className,n=e.active,a=e.onChange,c=e.disabled,u=e.render,l=e.component,g=void 0===l?"div":l,x=e.componentProps,w=void 0===x?{}:x,C=e.alignment,_=void 0===C?"right-top":C,k=e.spacing,E=e.obfuscator,S=e.onClick,j=e.onMouseOver,N=e.onMouseOut,L=e.onObfuscatorClick,A=e.children,O=e.delayEnter,T=void 0===O?300:O,D=e.delayExit,M=void 0===D?100:D,R=e.passive,P=e.hover,I=e.ignoreCancel,F=(0,o.useRef)(null),G=(0,o.useState)(!1),z=G[0],U=G[1],Z=(0,o.useState)(!1),J=Z[0],B=Z[1],K="boolean"==typeof n,Y=K&&a||B,V=K?n:J||z,W=y(w.onClick,S),H=y(w.onMouseOver,j),X=y(w.onMouseOut,N),q=(0,o.useRef)(void 0),Q=(0,o.useRef)(null),$=(0,d.N)(),ee=$[0],te=$[1];P||(P=void 0);var ne=P?function(e){var t="touchstart"===e.type;q.current&&!t||(null==q.current&&(q.current=t),ee((function(){U(!0)}),T),H&&H(e))}:H,re=P?function(e){te(),q.current&&"touchend"!==e.type||(ee((function(){U(!1)}),M),X&&X(e))}:X;(0,o.useEffect)((function(){return te}),[te]),(0,o.useEffect)((function(){var e=Q.current;if(e){var t=function(e){return e.preventDefault()};return e.addEventListener("touchmove",t,{passive:!1}),function(){e.removeEventListener("touchmove",t)}}}),[]),(0,f.I)("click",(function(e){E||!I&&e.defaultPrevented||!V&&!R||Y(!1)}),[V]);var ie="fl-drop-"+_;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g,(0,r.pi)({},w,{ref:F,className:(0,h.cn)("fl-drop-activator",ie,t),onClick:function(e){e.defaultPrevented||c||(R||Y(!V),W&&W(e))},onMouseOver:ne,onMouseOut:re,onTouchStart:ne,onTouchEnd:re,children:A})),(0,i.jsxs)(s.u,{children:[V&&E&&(0,i.jsx)("div",{ref:Q,className:"fl-obfuscator",onClick:function(e){e.preventDefault(),I||!V&&!R||Y(!1),L&&L(e)}}),(0,i.jsx)(p.Z,(0,r.pi)({component:null},{children:V&&u?(0,i.jsx)(v.Z,(0,r.pi)({classNames:"drop",timeout:200},{children:(0,i.jsx)(b,(0,r.pi)({sourceRef:F,alignment:_,spacing:k,onMouseOver:P&&te,onMouseOut:P&&re,className:(0,h.cn)("fl-drop",ie,m(_),t)},{children:u()}))})):null}))]})]})};function m(e){switch(e.split("-")[0]){case"top":return"drop-up";case"left":return"drop-left";case"right":return"drop-right";default:return"drop-down"}}function y(e,t){return e?t&&e!==t?function(n){e(n),t(n)}:e:t}var x="fl:drop-resize",b=function(e){var t=e.alignment,n=void 0===t?"right-top":t,s=e.sourceRef,l=e.children,d=e.spacing,f=e.onMouseOut,h=(0,r._T)(e,["alignment","sourceRef","children","spacing","onMouseOut"]),p=(0,o.useRef)(null),v=function(e,t,n,r){void 0===r&&(r=[]);var i=a(e),s=a(t),l=(0,o.useMemo)((function(){return"object"==typeof n?n:{alignment:n}}),[n]),d=function(e,t,n){return void 0===n&&(n=[]),null==t&&(t=c),(0,o.useMemo)((function(){return u(e,t)||{display:"none"}}),n)}(i,function(e,t,n,r){if(void 0===r&&(r=0),t)switch(n||(n={top:0,left:0,height:0,width:0}),e){case"bottom-left":return{top:t.top+t.height+r,left:t.left};case"bottom-center":return{top:t.top+t.height+r,left:t.left+.5*t.width-.5*n.width};case"bottom-right":return{top:t.top+t.height+r,left:t.left+t.width-n.width};case"bottom-justify":case"top-left":case"top-right":case"top-justify":case"left-bottom":case"right-center":case"right-bottom":throw new Error("TODO: Unimplemented tooltip direction");case"top-center":return{top:t.top-n.height-r,left:t.left+.5*t.width-.5*n.width};case"left-top":return{top:t.top,left:t.left-(n.width+r)};case"left-center":return{top:t.top+.5*t.height-.5*n.height,left:t.left-(n.width+r)};case"right-top":return{top:t.top,left:t.left+t.width+r};default:return}}(l.alignment,s,i,l.spacing),[s,i,n]);return[d,s,i]}(p,s,{alignment:n,spacing:d})[0];return(0,o.useEffect)((function(){var e=function(){var e=p.current;if(e){var t=u(e.getBoundingClientRect());for(var n in t)e.style[n]=t[n]+"px"}};return document.addEventListener(x,e),function(){document.removeEventListener(x,e)}}),[p]),(0,i.jsx)("div",(0,r.pi)({ref:p},h,{onMouseOut:f,onTouchEnd:f,style:v},{children:l}))}},614:function(e,t,n){n.d(t,{X:function(){return s}});var r=n(9312),i=n(4246),o=n(2211),s=function(e){var t=e.children,n=e.title,s=e.subtitle,a=e.small,c=e.style,u=e.className;return(0,i.jsx)("h1",(0,r.pi)({style:c,className:(0,o.cn)("fl-heading","fl-heading-"+(n?"title":a?"small":s?"subtitle":"default"),u)},{children:t}))}},845:function(e,t,n){n.d(t,{EV:function(){return l},JO:function(){return u},le:function(){return d}});var r,i=n(9312),o=n(4246),s=n(3313),a=n(2211),c="fl-icon",u=(0,s.forwardRef)((function(e,t){var n=e.fa,r=e.brand,s=e.className,u=(0,i._T)(e,["fa","brand","className"]),l=r?"fab":"fas";return(0,o.jsx)("i",(0,i.pi)({},u,{ref:t,className:(0,a.cn)(c,l+" fa-"+n,s)}))})),l=function(e){var t=e.src,n=e.className,r=(0,i._T)(e,["src","className"]);return(0,o.jsx)("img",(0,i.pi)({},r,{src:t,className:(0,a.cn)(c,n)}))},d=function(e){var t=e.src,n=e.className,r=(0,i._T)(e,["src","className"]),s=f(t);return(0,o.jsx)("i",(0,i.pi)({},r,{dangerouslySetInnerHTML:{__html:s},className:(0,a.cn)(c,n)}))},f=(r={},function(e){var t=(0,s.useState)(""),n=t[0],i=t[1];return(0,s.useLayoutEffect)((function(){var t,n=!0,o=r[e];return o||(o=r[e]=(t=e,new Promise((function(e){var n=new XMLHttpRequest;n.onreadystatechange=function(){4==this.readyState&&200==this.status&&e(n.responseText)},n.open("GET",t,!0),n.send()})))),o.then((function(e){return n&&i(e)})),function(){n=!1}}),[e]),n})},4241:function(e,t,n){n.d(t,{f:function(){return l}});var r=n(9312),i=n(4246),o=(n(3313),n(8978)),s=n(2987),a=n(2211),c=n(8908),u=n(7699),l=function(e){var t=e.active,n=e.fullscreen,l=e.large,d=e.className,f=e.text,h=e.children,p=(0,i.jsx)(c.Z,(0,r.pi)({component:null},{children:t&&(0,i.jsx)(u.Z,(0,r.pi)({classNames:"fl-loading-overlay",timeout:1e3},{children:(0,i.jsxs)("div",(0,r.pi)({className:(0,a.cn)("fl-loading-overlay",n&&"fl-fullscreen",l&&"fl-large",d)},{children:[(0,i.jsx)(s.$,{}),f&&(0,i.jsx)("h1",{children:f}),h]}))}))}));return n?(0,i.jsx)(o.u,{children:p}):p}},298:function(e,t,n){n.d(t,{Cl:function(){return l},sN:function(){return u},v2:function(){return c}});var r=n(9312),i=n(4246),o=n(3313),s=n(845),a=n(2211),c=function(e){var t=e.className,n=e.component,i=void 0===n?"div":n,s=e.children,c=(0,r._T)(e,["className","component","children"]);return(0,o.createElement)(i,(0,r.pi)({className:(0,a.cn)("fl-menu",t)},c),s)},u=function(e){var t=e.component,n=void 0===t?"a":t,c=e.active,u=e.disabled,l=e.icon,d=e.className,f=e.children,h=e.onClick,p=(0,r._T)(e,["component","active","disabled","icon","className","children","onClick"]);return(0,o.createElement)(n,(0,r.pi)({className:(0,a.cn)("fl-menu-item",c&&"fl-active",u&&"fl-disabled",d),onClick:function(e){u&&e.preventDefault(),h&&h(e)}},p),l&&(0,i.jsx)(s.JO,{fa:l}),f)},l=function(){return(0,i.jsx)("div",{className:"fl-menu-separator",onClick:function(e){return e.preventDefault}})}},6997:function(e,t,n){n.d(t,{h:function(){return s},l:function(){return a}});var r=n(4246),i=n(3313),o=n(4012),s=function(e){var t=e.to,n=e.children,r=(0,i.useRef)(null),s=(0,i.useState)(!1),a=s[0],c=s[1];return(0,i.useLayoutEffect)((function(){a||(r.current=document.getElementById(t),c(!0))}),[t,a]),r.current&&(0,o.createPortal)(n,r.current)},a=function(e){var t=e.id;return(0,r.jsx)("div",{id:t})}},3557:function(e,t,n){n.d(t,{j:function(){return c}});var r=n(9312),i=n(3313),o=n(765),s=n(823),a=n(2211),c=function(e){var t=e.value,n=e.className,r=(e.style,e.options),c=void 0===r?[]:r,l=e.placeholder,d=e.multi,f=e.creatable,h=e.loading,p=e.disabled,v=e.styles,g=e.open,m=e.onChange,y=e.onOpenChange,x=(0,i.useMemo)((function(){return d?void 0:c.find((function(e){return e.value===t}))||null}),[t,c,d]),b=(0,i.useMemo)((function(){return d&&t?c.filter((function(e){return t.indexOf(e.value)>-1})):[]}),[t,c,d]),w="fl-select",C=m&&(d?function(e){return m(Array.isArray(e)?e.map((function(e){return e.value})):[])}:function(e){return m(e.value)});return(0,i.createElement)(f?o.Z:s.ZP,{isDisabled:p,isLoading:h,isMulti:d,options:c,defaultValue:d?b:void 0,value:x,onChange:C,theme:u,styles:v,placeholder:l,className:(0,a.cn)(w,d&&"fl-select-multi",n),classNamePrefix:w,menuIsOpen:g,onMenuOpen:y&&function(){return y(!0)},onMenuClose:y&&function(){return y(!1)}})},u=function(e){return(0,r.pi)((0,r.pi)({},e),{spacing:(0,r.pi)((0,r.pi)({},e.spacing),{controlHeight:40}),colors:(0,r.pi)((0,r.pi)({},e.colors),{primary25:"#3db1ff",primary:"#3BE2AB"})})}},2987:function(e,t,n){n.d(t,{$:function(){return s},t:function(){return a}});var r=n(9312),i=n(4246),o=n(2211),s=function(e){var t=e.className;return(0,i.jsx)("img",{className:(0,o.cn)("fl-spinner fl-spinner-default",t),src:"/assets/img/spinner.svg"})},a=function(e){var t=e.visible,n=void 0===t||t,s=e.className;return n?(0,i.jsxs)("div",(0,r.pi)({className:(0,o.cn)("fl-spinner fl-spinner-dots",s)},{children:[c(1),c(2),c(3)]})):null},c=function(e){return(0,i.jsx)("div",{className:"fl-spinner-dot bounce"+e})}},5554:function(e,t,n){n.d(t,{z:function(){return c}});var r=n(9312),i=n(4246),o=n(3313),s=n(2211),a=n(845),c=function(e){var t,n,c=e.autoSelect,u=e.autoFocus,l=e.className,d=e.disabled,f=e.inputClassName,h=e.theme,p=void 0===h?"default":h,v=e.placeholder,g=e.password,m=e.readOnly,y=e.defaultValue,x=e.value,b=e.type,w=void 0===b?"text":b,C=e.icon,_=e.iconProps,k=e.iconPosition,E=void 0===k?"left":k,S=e.format,j=void 0===S?function(e){return e}:S,N=e.onChange,L=e.onSubmit,A=e.onFocus,O=e.onBlur,T=e.onKeyPress,D=e.inputRef,M=e.children,R=(0,r._T)(e,["autoSelect","autoFocus","className","disabled","inputClassName","theme","placeholder","password","readOnly","defaultValue","value","type","icon","iconProps","iconPosition","format","onChange","onSubmit","onFocus","onBlur","onKeyPress","inputRef","children"]),P=(0,o.useRef)(null),I=(0,o.useState)(!1),F=I[0],G=I[1],z=C?"fl-icon-"+E:"",U=function(e){"function"!=typeof P&&null!=P&&setTimeout((function(){P.current&&P.current.focus()}))};return(0,o.useEffect)((function(){u&&P.current&&P.current.focus()}),[P,u]),(0,o.useLayoutEffect)((function(){null!=D&&(D.current=P.current),void 0!==y&&P.current&&(P.current.value=y||"")}),[y,P,D]),(0,i.jsxs)("div",(0,r.pi)({className:(0,s.cn)("fl-textbox","fl-textbox-"+p,!x&&!y&&"fl-empty",d&&"fl-disabled",m&&"fl-readonly",F&&"fl-focused",l)},{children:[C&&(0,i.jsx)(a.JO,(0,r.pi)({},_,{fa:C,className:(0,s.cn)("fl-textbox-icon","left"===E?"fl-left":"fl-right")})),(0,i.jsx)("input",(0,r.pi)({},R,{ref:P,readOnly:m,autoComplete:null!==(t=R.autoComplete)&&void 0!==t?t:m?"off":void 0,formNoValidate:null!==(n=R.formNoValidate)&&void 0!==n?n:m,disabled:d,type:g?"password":w,value:x||(void 0===y?"":void 0),defaultValue:y,className:(0,s.cn)("fl-textbox-input",f,z),onChange:N&&function(e){return function(e){N(j(e))}(e.currentTarget.value)},onFocus:function(e){"function"!=typeof P&&null!=P&&(c&&P.current&&P.current.select(),G(!0),A&&A(e))},onBlur:function(e){G(!1),O&&O(e)},onKeyPress:function(e){T&&T(e),13===e.nativeEvent.keyCode&&(L&&L(e.currentTarget.value),e.currentTarget.blur())}})),v&&(0,i.jsx)("span",(0,r.pi)({onMouseDown:U,onTouchStart:U,className:(0,s.cn)("fl-textbox-placeholder",C&&"left"===E?"fl-icon":"")},{children:v})),M]}))}},1256:function(e,t,n){n.d(t,{e:function(){return c}});var r=n(9312),i=n(4246),o=n(3714),s=n(2211),a=n(6269),c=function(e){var t=e.render,n=(0,r._T)(e,["render"]);if("string"==typeof t){var c=t;t=function(){return(0,i.jsx)(a.L,{id:c})}}else"boolean"==typeof t&&(t=void 0);return(0,i.jsx)(o.U,(0,r.pi)({},n,{hover:!0,passive:!0,spacing:10,alignment:n.alignment||"top-center",className:(0,s.cn)("fl-tooltip",n.className),delayEnter:n.delayEnter||0,delayExit:n.delayExit||0,render:t},{children:n.children}))}},6124:function(e,t,n){n.d(t,{t:function(){return a}});var r=n(9312),i=n(4246),o=n(7759),s=n(3313),a=function(e){var t=function(e){var t=(0,s.useState)(c),n=t[0],r=t[1];return(0,s.useEffect)((function(){var t=!0;return e||n||u().then((function(e){t&&r(e)})),function(){t=!1}}),[e,n]),n||void 0}(e.disabled);return(0,i.jsx)("svg",{pointerEvents:"none",style:{pointerEvents:"none",width:"100%",height:"100%",backgroundImage:t&&'url("'+t+'")',backgroundRepeat:"repeat",backgroundPosition:"center center",position:"absolute",top:0,left:0}})},c=null,u=(0,o.F)((function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,n.e(359).then(n.t.bind(n,4359,17))];case 1:return e=t.sent(),[2,c=e.default]}}))}))}))},4934:function(e,t,n){n.d(t,{a:function(){return d}});var r=n(9312),i=n(4246),o=n(3313),s=n(3831),a=n(2211),c=n(6269),u=(0,a.C)("fl-field"),l=function(e){var t=e.children,n=e.label,o=e.fieldVariant,s=(0,r._T)(e,["children","label","fieldVariant"]),l=s.error,d=s.touched;return(0,i.jsxs)("div",(0,r.pi)({className:(0,a.cn)(u(o),d&&l&&"fl-error")},{children:[n&&(0,i.jsx)("div",(0,r.pi)({className:"fl-field-label"},{children:"function"==typeof n?n(s):n})),(0,i.jsx)("div",(0,r.pi)({className:"fl-field-body"},{children:t})),d&&l&&(0,i.jsx)(c.L,{className:"fl-field-error",id:l,component:"div"})]}))};function d(e){return(0,s.Q2)((function(t){var n=t.label,s=t.error,a=t.touched,c=t.fieldVariant,u=t.onTouchChange,d=t.onChange,f=(0,r._T)(t,["label","error","touched","fieldVariant","onTouchChange","onChange"]),h=(0,o.useRef)(!1),p=u&&h.current||void 0;return(0,i.jsx)(l,(0,r.pi)({label:n,error:s,touched:a,fieldVariant:c},{children:(0,o.createElement)(e,(0,r.pi)((0,r.pi)({},f),{onBlur:p&&function(){return u(!0)},onChange:d&&function(e){h.current||(h.current=!0),d(e)}}))}))}))}},1598:function(e,t,n){n.d(t,{T:function(){return s}});var r=n(9312),i=n(4246),o=n(2211),s=function(e){var t=e.className,n=e.children,s=(0,r._T)(e,["className","children"]);return(0,i.jsx)("div",(0,r.pi)({},s,{className:(0,o.cn)("fl-page",t)},{children:n}))}},6269:function(e,t,n){n.d(t,{L:function(){return s},N:function(){return o.NC}});var r=n(9312),i=n(3313),o=n(4066),s=function(e){var t=e.id,n=e.component,s=void 0===n?"span":n,l=e.values,d=e.html,f=(0,r._T)(e,["id","component","values","html"]),h=d?u:c;return(0,i.createElement)(s,f,l?function(e,t,n){return e.split(a).map((function(e,r){if(r%2==0)return e;var i,o,s=e.indexOf(":");s>0?(i=+e.substr(0,s),o=e.substr(s+1)):(i=+e,o=void 0);var a=t[i];return void 0===a?"":"function"==typeof a?a(i,o):n(a.toString())}))}((0,o.NC)(t),l,h):h((0,o.NC)(t)))},a=/[{}]/g;function c(e){return e}function u(e){return(0,i.createElement)("span",{dangerouslySetInnerHTML:{__html:e}})}},3129:function(e,t,n){function r(e,t){for(var n=e.length,r=0;r<n;r++)t(e.item(r),r)}function i(e,t){var n=document.createElement("div"),r=n.style,i=e.parentNode,o=e.nextSibling;n.id="__ensureDOM__container__",r.position="absolute",r.top="-100%",r.left="-100%",r.visibility="hidden",n.appendChild(e),document.body.appendChild(n);var s=t(e,n);return document.body.removeChild(n),i?i.insertBefore(e,o):n.removeChild(e),s}n.d(t,{Ku:function(){return i},aD:function(){return r}})},7364:function(e,t,n){n.d(t,{NS:function(){return r},PL:function(){return s},XL:function(){return a},rS:function(){return o},tj:function(){return i}});var r="http://www.w3.org/2000/svg";function i(e){for(var t=e.childNodes,n=t.length,r=0;r<n;r++){var i=t.item(r);if(i instanceof SVGElement&&i.hasAttribute("data-fl-background"))return i}}function o(e){return document.createElementNS(r,e)}function s(e){return(new XMLSerializer).serializeToString(e)}function a(e){var t=o("svg");return t.innerHTML=s(e),t.childNodes.item(0)}},1668:function(e,t,n){n.d(t,{Rd:function(){return o},F6:function(){return a},yF:function(){return c},cr:function(){return i},vw:function(){return s}});var r=n(9312),i=(0,n(1753).y)(window.__global);function o(e){return i.get()[e]}function s(e){i.set(window.__global=(0,r.pi)((0,r.pi)({},i.get()),e))}function a(){return o("user")}function c(e){return(o("viewData")||{})[e]}},3778:function(e,t,n){function r(e,t){void 0===t&&(t=r.defaultGetter);var n={};return e.forEach((function(e){n[t(e)]=e})),Object.keys(n).map((function(e){return n[e]}))}function i(e){return Array.isArray(e)?e:[e]}function o(e,t){return e.slice().sort((function(e,n){var r=t(e),i=t(n);return r>i?1:r<i?-1:0}))}n.d(t,{MR:function(){return o},Nb:function(){return r},rY:function(){return i}}),r.defaultGetter=function(e){return e+"::"+typeof e}},2211:function(e,t,n){function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0,i=e;r<i.length;r++){var o=i[r];"string"!=typeof o&&0!==o||(n+=" "+o.toString().trim())}return n.trim()}function i(e,t){var n=" "+e+"-";return function(){for(var r=t?"":e,i=0;i<arguments.length;i++){var o=arguments[i];"string"!=typeof o&&0!==o||(r+=n+o.toString().trim())}return r.trim()}}n.d(t,{C:function(){return i},cn:function(){return r}})},7759:function(e,t,n){function r(e){var t=null;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t||(t=e.apply(void 0,n))}}n.d(t,{F:function(){return r}})},4860:function(e,t,n){function r(e,t){void 0===t&&(t={});var n=t.title,r=t.width,i=void 0===r?670:r,o=t.height,s=void 0===o?340:o,a=t.scrollbars,c=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,u=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,l=("number"==typeof window.screenX?window.screenX:window.screenLeft)||0,d=["width="+i,"height="+s,"top="+((u-s)/2+(("number"==typeof window.screenY?window.screenY:window.screenTop)||0)),"left="+((c-i)/2+l)];null!=a&&d.push("scrollbars="+(a?"yes":"no"));var f=window.open(e,n,d.join(","));"function"==typeof window.focus&&f&&f.focus()}function i(e){var t=!0,n=function(){window.removeEventListener("touchstart",r),window.removeEventListener("mousedown",r)};function r(r){r.stopImmediatePropagation&&r.stopImmediatePropagation(),window.onbeforeunload=function(n){if(t&&e(n)&&!window.__unloadSkipped)return"Changes you made may not be saved."},n()}return window.addEventListener("touchstart",r),window.addEventListener("mousedown",r),function(){t=!1,n()}}function o(e){void 0===e&&(e=!0),window.__unloadSkipped=e}n.d(t,{XS:function(){return i},gk:function(){return r},ko:function(){return o}}),window.__unloadSkipped=!1},4965:function(e,t,n){function r(e){return btoa(unescape(encodeURIComponent(e)))}function i(e){return decodeURIComponent(escape(atob(e)))}function o(e){return r(JSON.stringify(e))}function s(e){try{return JSON.parse(i(e))}catch(e){return null}}function a(e){if(!(e.indexOf("url(")<0)){for(e=e.substr(4);'"'===e[0]||"'"===e[0]||"#"===e[0];)e=e.substr(1);for(var t=0,n=e.length;t<n&&")"!==e[t]&&"'"!==e[t]&&'"'!==e[t];)t++;return e.substr(0,t)||void 0}}n.d(t,{cB:function(){return o},h$:function(){return r},iD:function(){return s},nN:function(){return a},tV:function(){return i}})},7010:function(e,t,n){function r(e,t){void 0===t&&(t=8e3);var n=0,r=!1;return new Promise((function(i,o){var s=function(e){r||(r=!0,clearTimeout(n),o(e))};n=setTimeout((function(){var e=new Error("Promise expired");e.name="PromiseTimeoutError",s(e)}),t);try{e((function(e){clearTimeout(n),i(e)}),s)}catch(e){o(e)}}))}n.d(t,{G:function(){return r}})},9675:function(e,t,n){n.d(t,{i:function(){return o}});var r,i,o=(r=(new Date).getTime().toString(24),i=0,function(){return r+"_"+i++})},4405:function(e,t,n){n.d(t,{D5:function(){return u},E6:function(){return s},Ph:function(){return a},XO:function(){return f},cZ:function(){return i},ge:function(){return l},mB:function(){return o},sM:function(){return c}});var r=n(9312);function i(e){if(!e)return"";if("string"==typeof e)return"?"+e.replace("?","");var t=[];for(var n in e)null!=e[n]&&t.push(n+"="+encodeURIComponent(e[n]+""));var r=t.join("&");return""!==r?"?"+r:r}function o(e){if("object"==typeof e)return e;if(!(e=(e||"").replace("?","")))return{};for(var t={},n=0,r=e.split("&");n<r.length;n++){var i=r[n].split("=");i.length>1&&(t[i[0]]=decodeURIComponent(i[1]))}return t}function s(e,t){var n=o(t);return e.split("?")[0]+i((0,r.pi)((0,r.pi)({},o(e)),n))}function a(e,t){void 0===t&&(t=window.location.search);var n=o(location.search)[e];return n&&decodeURIComponent(n)}function c(e,t){if(null==t)return e;var n=function(n){n&&(e=e.replace(new RegExp("(:"+n+")(?:/|$)"),(function(){return(""+t[n]).toLowerCase()+"/"||0})))};for(var r in t)n(r);return e}function u(e){var t=e.split("?");return t[0].toLowerCase()+(t[1]?"?"+t[1]:"")}function l(e){var t=e.replace("http://","").replace("https://","").replace("www.","").split(/[/?#]/)[0].split(":")[0].split("."),n=t[t.length-2];return(n?n+".":"")+t[t.length-1]}var d=/(?:^(?:[A-Za-z0-9]+)?:\/\/)[^\/]*/gi;function f(e,t){var n=function(e){return e.replace(d,"")}(e)||"/",r=n.split("?")[0];return t?r===location.pathname:0===location.pathname.indexOf(r)}},7859:function(e,t,n){n.d(t,{gR:function(){return c},hs:function(){return l},o7:function(){return u},wN:function(){return a}});var r=n(3313);function i(e,t){for(var n in e)if(t[n]!==e[n])return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}var o=function(e){return e},s=function(e,t){return e===t};function a(e,t){var n=(0,r.useState)(e.get),i=n[0],o=n[1],s=(0,r.useRef)(i);return s.current=e.get(),(0,r.useEffect)((function(){var t=!0,n=e.subscribe((function(e){t&&s.current!==e&&(s.current=e,o(e))}));return function(){t=!1,n()}}),[e,s,t]),s.current}function c(e){return function(t,n){return function(e,t,n){void 0===t&&(t=o);var a=(0,r.useCallback)(t,[]),c=n?i:s,u=(0,r.useState)((function(){return a(e.get())})),l=u[0],d=u[1],f=(0,r.useRef)(l);return(0,r.useEffect)((function(){return e.subscribe((function(e){var t=a(e);c(t,f.current)||d(f.current=t)}))}),[e,a,c]),l}(e,t,n)}}function u(e,t){return function(){return e(t)}}function l(e){return function(){return a(e)}}},7774:function(e,t,n){n.d(t,{U:function(){return i}});var r=n(3313);function i(e,t){(0,r.useRef)(!1);var n=(0,r.useState)(!1),i=n[0],o=n[1],s=(0,r.useRef)(null),a=(0,r.useCallback)(e,t),c=(0,r.useCallback)((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=s.current;if(n){var r=a.apply(void 0,e);return n(r),r}throw new Error("Used async callback before mount")}),[a]);return(0,r.useLayoutEffect)((function(){var e=!0;return s.current=function(t){e&&(o(!0),t.then((function(){e&&o(!1)})))},function(){e=!1}}),[]),[c,i]}},6004:function(e,t,n){n.d(t,{N:function(){return i}});var r=n(3313);function i(){var e=(0,r.useRef)(0),t=(0,r.useCallback)((function(){e.current&&clearTimeout(e.current)}),[]),n=(0,r.useCallback)((function(n,r){t(),e.current=setTimeout(n,r)}),[e,t]);return(0,r.useEffect)((function(){return t}),[t]),[n,t]}},7065:function(e,t,n){n.d(t,{I:function(){return i}});var r=n(3313);function i(e,t,n){var i=(0,r.useCallback)(t,n);(0,r.useEffect)((function(){return document.addEventListener(e,i),function(){document.removeEventListener(e,i)}}),[i,e])}},1862:function(e,t,n){n.d(t,{z:function(){return o}});var r=n(3778),i=n(3313);function o(e,t){var n=(0,r.rY)(e);(0,i.useEffect)((function(){var e=function(e){if(!(n.indexOf(e.key)<0)){var r="keydown"===e.type;t(r,e)}};return document.addEventListener("keydown",e),document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e),document.removeEventListener("keydown",e)}}),[n,t])}},5239:function(e,t,n){n.d(t,{EF:function(){return s},zL:function(){return r}});var r,i=n(3313);function o(e){return void 0===e&&(e=window.innerWidth),e>r.XL?r.XL:e>r.LG?r.LG:e>r.MD?r.MD:e>r.SM?r.SM:r.XS}!function(e){e[e.XS=0]="XS",e[e.SM=600]="SM",e[e.MD=960]="MD",e[e.LG=1280]="LG",e[e.XL=1920]="XL"}(r||(r={}));var s=function(){var e=(0,i.useState)((function(){return o()})),t=e[0],n=e[1],r=(0,i.useCallback)((function(){var e=o(window.innerWidth);e!==t&&n(e)}),[t]);return(0,i.useEffect)((function(){return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}}),[t,r]),t}},2301:function(e,t,n){n.d(t,{K:function(){return a},b:function(){return s}});var r=n(9312),i=n(3313),o={clientX:0,clientY:0,clientX1:0,clientY1:0};function s(e){var t=(0,i.useRef)((0,r.pi)({},o)),n=(0,i.useRef)(e);n.current.start=e.start,n.current.move=e.move,n.current.end=e.end;var s=(0,i.useCallback)((function(e){return t.current=e}),[t]);return(0,i.useCallback)((function(e){var i=e.type.indexOf("touch")>=0,o=a(e),c=s({clientX:o.clientX,clientX1:o.clientX,clientY:o.clientY,clientY1:o.clientY}),u=function(e){var i=a(e);n.current.move&&n.current.move(s((0,r.pi)((0,r.pi)({},t.current),{clientX:i.clientX,clientY:i.clientY})))},l=function(e){n.current.end&&n.current.end(s(t.current)),document.removeEventListener(i?"touchmove":"mousemove",u),document.removeEventListener(i?"touchend":"mouseup",l)};n.current.start&&n.current.start(c),document.addEventListener(i?"touchmove":"mousemove",u),document.addEventListener(i?"touchend":"mouseup",l)}),[t,n,s])}function a(e){return function(e){if(e.type.indexOf("touch")<0)return[{clientX:e.clientX,clientY:e.clientY}];for(var t=e.touches,n=t.length,r=new Array(n),i=0;i<n;i++){var o=t.item(i);r[i]={clientX:o.clientX,clientY:o.clientY}}return r}(e)[0]}},7275:function(e,t,n){n.d(t,{Wd:function(){return a},Yd:function(){return c},tA:function(){return u}});var r=n(9312),i=n(3313),o=n(4405),s=n(9635);function a(e){var t=(0,s.k6)(),n=(0,o.Ph)(e,t.location.search),r=(0,i.useState)((function(){return n})),a=r[0],c=r[1];return(0,i.useEffect)((function(){n!==a&&c(n)}),[n,a]),a}function c(e,t){void 0===e&&(e="view"),void 0===t&&(t=function(e){return e});var n=(0,s.k6)(),r=location.search,a=(0,i.useCallback)((function(t){var r;n.push(l(((r={})[e]=t,r)))}),[n,e]),c=(0,i.useCallback)((function(t){var r;n.replace(l(((r={})[e]=t,r)))}),[n,e]),u=(0,i.useMemo)((function(){return(0,o.mB)(r)}),[r]);return[t?t(u[e]):u[e],a,c]}function u(e,t){var n=(0,s.k6)(),r=location.search,a=(0,i.useCallback)((function(t,r){var i,o=l(((i={})[e]=t,i));r?n.push(o):n.replace(o)}),[n,e]);return[(0,i.useMemo)((function(){var n=(0,o.mB)(r)[e];return void 0===n?t:n}),[r,e,t]),a]}function l(e){return location.pathname+(0,o.cZ)((0,r.pi)((0,r.pi)({},(0,o.mB)(location.search)),(0,o.mB)(e)))}},5516:function(e,t,n){n.d(t,{h:function(){return a}});var r,i=n(9312),o=n(1668),s=n(1701),a=(void 0===r&&(r=function(e){return e}),(0,s.j)((function(e){return r((0,i.pi)((0,i.pi)({},e),{baseUrl:(0,o.Rd)("urls").api}))})))},1701:function(e,t,n){n.d(t,{j:function(){return p}});var r=n(9312);function i(e){if("object"==typeof e)return e;if(!(e=(e||"").replace("?","")))return{};for(var t={},n=0,r=e.split("&");n<r.length;n++){var i=r[n].split("=");i.length>1&&(t[i[0]]=decodeURIComponent(i[1]))}return t}function o(e,t){var n=i(t);return e.split("?")[0]+function(e){if(!e)return"";if("string"==typeof e)return"?"+e.replace("?","");var t=[];for(var n in e)null!=e[n]&&t.push(n+"="+encodeURIComponent(e[n]+""));var r=t.join("&");return""!==r?"?"+r:r}((0,r.pi)((0,r.pi)({},i(e)),n))}function s(e){var t=0,n=e.length;return"/"!==e[t]&&"\\"!==e[t]||(t++,n--),"/"!==e[n]&&"\\"!==e[n]||n--,e.substr(t,n)}function a(e){var t=e.length-1;return"/"===e[t]||"\\"===e[t]?e.substr(0,t):e}var c=function(){function e(t){var n=t.middleware,i=(0,r._T)(t,["middleware"]);this.options=(0,r.pi)((0,r.pi)({},e.defaultOptions),i),this._handle=n(d)}return e.prototype.setDefaultHeaders=function(e){this.setOptions({defaultRequestOptions:{headers:e}})},e.prototype.setOptions=function(e){this.options=f(this.options,e)},e.prototype.request=function(e){var t=e.url,n=(0,r._T)(e,["url"]);return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,this._handle((0,r.pi)((0,r.pi)((0,r.pi)({},this.options.defaultRequestOptions),n),{headers:(0,r.pi)((0,r.pi)({},this.options.defaultRequestOptions.headers),n.headers),url:this.getUrl(t)}))];case 1:return[2,e.sent()]}}))}))},e.prototype.post=function(e,t){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){return[2,this.request({url:e,method:"POST",body:t})]}))}))},e.prototype.get=function(e,t){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){return[2,this.request({url:void 0!==t?o(e,t):e,method:"GET"})]}))}))},e.prototype.put=function(e,t){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){return[2,this.request({url:e,method:"PUT",body:t})]}))}))},e.prototype.delete=function(e,t){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){return[2,this.request({url:e,method:"DELETE",body:t})]}))}))},e.prototype.getUrl=function(e){return e.indexOf("://")>-1?e:function(){for(var e=arguments.length,t=arguments[0],n=a(t),r=1;r<e;r++){var i=s(arguments[r]);""!==i&&(n+="/"+i)}return""!==n||"/"!==t[0]&&"\\"!==t[0]?n:"/"}(this.options.baseUrl,e)},e.createClient=function(t){var n;return void 0===t&&(t={}),new e((0,r.pi)({middleware:null!==(n=t.middleware)&&void 0!==n?n:function(e){return e}},t))},e.defaultOptions={baseUrl:"/",defaultRequestOptions:{headers:{"Access-Control-Allow-Origin":"*"},mode:"cors",cache:"default"}},e}(),u=c.createClient,l=window.fetch;function d(e){var t,n=e.url,i=e.body,o=(0,r._T)(e,["url","body"]),s=new Headers(o.headers);return i&&(i instanceof FormData?(s.set("Content-Type","application/x-www-form-urlencoded"),t=i):t="object"==typeof i?JSON.stringify(i):i),l(new Request(n,(0,r.pi)((0,r.pi)({},o),{headers:s,body:t})))}function f(e,t){for(var n in t){var i=e[n],o=t[n];"object"!=typeof o||null===o||Array.isArray(o)||Array.isArray(i)?e[n]=t[n]:e[n]=f((0,r.pi)({},i),o)}return e}var h=function(e){return function(t){return(0,r.mG)(void 0,void 0,void 0,(function(){var n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,e(t)];case 1:return(n=r.sent()).ok?n.redirected?(location.replace(n.url),[2,v(n)]):[2,g(n)]:[2,y(n)]}}))}))}};function p(e){void 0===e&&(e=function(e){return e});var t=u(e({middleware:h,defaultRequestOptions:{redirect:"follow",headers:{"Content-Type":"application/json; charset=utf-8","Access-Control-Allow-Origin":location.protocol+"//"+location.host}}}));return Object.assign(t,{postWithToken:function(e,n){return t.request({url:e,method:"POST",body:n,headers:{RequestVerificationToken:(r=document.querySelector('[name="__RequestVerificationToken"]'),(null==r?void 0:r.value)||"")}});var r}})}function v(e){return{ok:e.ok,redirected:e.redirected,status:e.status}}function g(e){return(0,r.mG)(this,void 0,void 0,(function(){var t,n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return t=v(e),n=t,[4,x(e)];case 1:return n.data=r.sent(),[2,t]}}))}))}var m={code:"unknown",detail:"",message:""};function y(e){return(0,r.mG)(this,void 0,void 0,(function(){var t,n,i;return(0,r.Jh)(this,(function(o){switch(o.label){case 0:return t=v(e),[4,e.text()];case 1:if("{"===(n=o.sent())[0])try{i=JSON.parse(n),t.error=(0,r.pi)((0,r.pi)((0,r.pi)({},m),i),{message:i.detail})}catch(e){t.error=(0,r.pi)((0,r.pi)({},m),{detail:n,message:n})}else t.error={code:"unknown",detail:n,message:n};return[2,t]}}))}))}function x(e){return(e.headers.get("Content-Type")||"text/plain").indexOf("json")>-1?e.json():e.text()}},6155:function(e,t,n){n.d(t,{$E:function(){return s},FV:function(){return c},QR:function(){return a}});var r=n(9312),i=n(8501);function o(e){var t=(0,r.pi)((0,r.pi)({},e),{dismiss:e.dismiss&&"boolean"==typeof e.dismiss?"OK":e.dismiss||void 0,id:e.id||(++u).toString(),message:e.message||"",type:e.type||i.k$.DEFAULT,timeout:e.timeout});(0,i.qh)().dispatch((function(e){var n=t.id,i=e.items.filter((function(e){return e.id!==n}));return i.push(t),(0,r.pi)((0,r.pi)({},e),{items:i})}))}function s(e){o((0,r.pi)((0,r.pi)({},e),{type:i.k$.SUCCESS}))}function a(e){o((0,r.pi)((0,r.pi)({},e),{type:i.k$.INFO}))}function c(e){(0,i.qh)().dispatch((function(t){var n="number"==typeof e?e:t.items.findIndex((function(t){return t.id===e}));if(null==n||n<0)return t;var i=t.items.slice();return i.splice(n,1),(0,r.pi)((0,r.pi)({},t),{items:i})}))}var u=0},8501:function(e,t,n){n.d(t,{k$:function(){return r},qh:function(){return c},tl:function(){return a}});var r,i=n(1753),o=n(7859);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INFO=1]="INFO",e[e.SUCCESS=2]="SUCCESS",e[e.WARNING=3]="WARNING",e[e.ERROR=4]="ERROR"}(r||(r={}));var s=(0,i.y)({items:[]}),a=function(){return(0,o.wN)(s)},c=function(){return s}},8270:function(e,t,n){n.d(t,{W:function(){return b}});var r=n(9312),i=n(4246),o=n(3313),s=n(8908),a=n(7699),c=n(8978),u=n(7859),l=n(860),d=n(1714),f=n(6269),h=n(5807),p=n(2211),v=n(845),g=n(1890),m=n(7774),y=n(2987),x=n(1862),b=function(e){var t,n=e.name,b=e.title,_=e.message,k=e.className,E=e.actions,S=(t=n,(0,u.wN)(l.Z)[0]===t&&null!=t),j=(0,m.U)((function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,(0,h.Yg)(n,e)];case 1:return[2,t.sent()]}}))}))}),[]),N=j[0],L=j[1],A=function(){return N(null)};return(0,o.useEffect)((function(){return(0,h.zl)(n)}),[n]),(0,x.z)("Enter",(function(){var e=E.find((function(e){return"object"==typeof e&&e.primary}));e&&N(e.key)})),(0,x.z)("Escape",A),(0,i.jsx)(c.u,{children:(0,i.jsx)(s.Z,(0,r.pi)({component:null},{children:S&&(0,i.jsx)(a.Z,(0,r.pi)({classNames:"fl-actionmodal-transition",timeout:500},{children:(0,i.jsxs)("div",(0,r.pi)({className:(0,p.cn)("fl-actionmodal-obfuscator",L&&"fl-resolving")},{children:[(0,i.jsxs)("div",(0,r.pi)({className:(0,p.cn)("fl-actionmodal",k)},{children:[w(b,(function(e){var t=e.props;return b&&(0,i.jsx)(f.L,(0,r.pi)({component:"h1",id:b},t))}),{props:{className:"fl-actionmodal-title"},resolve:N}),w(_,(function(e){var t=e.props;return _&&(0,i.jsx)(f.L,(0,r.pi)({component:"p",id:_},t))}),{props:{className:"fl-actionmodal-message"},resolve:N}),C(E,(function(e){var t=e.resolve,n=e.props;return(0,i.jsx)("div",(0,r.pi)({},n,{children:E.map((function(e,o){return"object"==typeof e?(0,i.jsx)(d.z,(0,r.pi)({primary:e.primary,autoFocus:e.primary,onClick:t.bind(void 0,e.key)},{children:(0,i.jsx)(f.L,{id:e.label})}),o):e({resolve:t,props:n})}))}))}),{props:{className:"fl-actionmodal-actions"},resolve:N})]})),(0,i.jsx)(y.$,{}),(0,i.jsx)(v.le,{src:g,className:"fl-close",onClick:A})]}))}))}))})},w=function(e,t,n){return e&&"string"!=typeof e?e(n):t?t(n):e},C=function(e,t,n){return Array.isArray(e)?t?t(n):e:e(n)}},5807:function(e,t,n){n.d(t,{C9:function(){return b},zl:function(){return x},Yg:function(){return g}});var r,i,o,s,a,c,u,l=n(9312),d=function(){function e(){this._events={}}return e.prototype.once=function(e,t){return this.on(e,(function n(r,i){i.off(e,n),t(r,i)})),this},e.prototype.on=function(e,t){return(this._events[e]||(this._events[e]=[])).push(t),this},e.prototype.off=function(e,t){return function(e,t){if(e){var n=e.indexOf(t);n<0||e.splice(n,1)}}(this._events[e],t),this},e.prototype.emit=function(e,t){if(!this._events[e])return 0;for(var n=this._events[e].slice(),r=n.length,i=0;i<r;i++)n[i].call(void 0,t,this);return r},e.prototype.dispose=function(){this._events={}},e}(),f=n(860),h=f.Z.addAction,p=f.Z.removeAction,v=(r=[],i=new d,o={},s={},a=function(e){var t=s[e];t&&(c(e),t.reject(null))},c=function(e){o[e]&&(o[e]=void 0),s[e]&&(s[e]=void 0)},u=function(e){return r.indexOf(e)>-1},{resolve:function(e,t){var n=o[e],r=s[e];return r&&n&&(c(e),r.resolve(t)),n},cancel:a,promise:function(e,t){return(0,l.mG)(void 0,void 0,void 0,(function(){var n;return(0,l.Jh)(this,(function(r){switch(r.label){case 0:if(!u(e))throw new Error('No action registered for "'+e+'"');return s[e]&&a(e),n=o[e]=new Promise((function(n,r){s[e]={resolve:n,reject:r,middleware:t}})).then((function(e){return(0,l.mG)(void 0,void 0,void 0,(function(){var n;return(0,l.Jh)(this,(function(r){switch(r.label){case 0:return t?[4,t(e)]:[3,2];case 1:"string"!=typeof(n=r.sent())&&null!==n||(e=n),r.label=2;case 2:return[2,e]}}))}))})),[4,n];case 1:return[2,r.sent()]}}))}))},register:function(e){r.push(e),i.emit(e)},unregister:function(e){var t=r.indexOf(e);t<0||r.splice(t,1)},getRegistration:function(e){return new Promise((function(t){u(e)?t():i.once(e,(function(){return t()}))}))},dispose:function(){var e;for(var t in s)null===(e=s[t])||void 0===e||e.reject(null);s={},o={}}}),g=v.resolve,m=(v.cancel,v.register),y=v.unregister;function x(e){return m(e),function(){y(e)}}function b(e,t){return(0,l.mG)(this,void 0,void 0,(function(){var n,r;return(0,l.Jh)(this,(function(i){switch(i.label){case 0:return[4,v.getRegistration(e)];case 1:i.sent(),h(e),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,v.promise(e,t)];case 3:return n=i.sent(),p(e),[2,n];case 4:return null==(r=i.sent())?[2,null]:(console.error(r),[2,"error"]);case 5:return[2]}}))}))}},860:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(9312),i=(0,n(6514).x8)([])({addAction:function(e,t){return t&&e.indexOf(t)<0?(0,r.ev)((0,r.ev)([],e,!0),[t],!1):e},removeAction:function(e,t){return e.filter((function(e){return e!==t}))}})},9045:function(e,t,n){n.d(t,{ep:function(){return s},lN:function(){return o}}),n(9312);var r=n(3313),i=n(6034);function o(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.retain();return Promise.resolve().then((function(){return t.apply(void 0,n)})).finally((function(){setTimeout(i,0)}))}}function s(e,t){void 0===t&&(t=[]);var n=(0,i._8)((function(t){var n=t.snapshot;return function(){return n.getLoadable(e).getValue()}}),t),o=(0,i.Zl)(e),s=(0,r.useState)(null),a=s[0],c=s[1],u=(0,r.useState)(n),l=u[0],d=u[1],f=(0,i._8)((function(e){var t=e.snapshot;return function(){return c(t.getID())}}),[]),h=(0,r.useCallback)((function(e){d(e),o(e)}),[o]);return(0,r.useEffect)((function(){d(n())}),[n,a]),[l,h,f]}},6842:function(e,t,n){n.d(t,{N:function(){return c},x:function(){return u}});var r=n(3313),i=n(6514),o=n(1753),s=n(7859),a=(0,o.y)(!1),c=function(e){var t=(0,r.useRef)(i.gO.isPending());return(0,r.useLayoutEffect)((function(){return i.gO.subscribe((function(){var e=i.gO.isPending();e!==t.current&&a.set(t.current=e)}))}),[]),(0,r.createElement)(r.Fragment,null,e.children)};function u(){return(0,s.wN)(a)}},9888:function(e,t,n){n.d(t,{Y:function(){return f}});var r=n(9312),i=n(9635),o=n(4405),s=n(3313),a=function(){function e(e,t){this.history=e,this._routeMap=t}return Object.defineProperty(e.prototype,"pathAndQuery",{get:function(){return this.history.location.pathname+this.history.location.search},enumerable:!1,configurable:!0}),e.prototype.push=function(e,t,n){var r=this._routeMap.getPath(e,t,n);this.isCurrent(r)||this.history.push(r)},e.prototype.pushQuery=function(e){var t=c.call(this,e);this.isCurrent(t)||this.history.push(t)},e.prototype.replace=function(e,t,n){this.history.replace(this._routeMap.getPath(e,t,n))},e.prototype.replaceQuery=function(e){this.history.replace(c.call(this,e))},e.prototype.getQueryParam=function(e){return(0,o.Ph)(e,this.history.location.search)},e.prototype.isCurrent=function(e){return this.pathAndQuery===e},e}();function c(e){return this.history.location.pathname+(0,o.cZ)((0,r.pi)((0,r.pi)({},(0,o.mB)(this.history.location.search)),(0,o.mB)(e)))}var u,l,d=n(2110),f=(u=d.n.routes,void 0===l&&(l=function(e){return e}),function(){var e=(0,i.k6)(),t=(0,s.useRef)(null);return t.current||(t.current=l(new a(e,u)))})},9934:function(e,t,n){n.d(t,{v:function(){return i}});var r=n(3129);function i(e){return function(e){return a.get(e)||a.register(e,new Promise((function(t,n){var r=document.createElement("script");r.type="application/javascript",r.src=e,r.onload=function(){return t()},r.onerror=n,document.body.appendChild(r)})))}(e)}var o,s,a=(o={},s=function(e,t){return e=c(e),o[e]=t},(0,r.aD)(document.getElementsByTagName("script"),(function(e){var t=e&&e.src;if(t){var n=c(t);s(n,Promise.resolve())}})),(0,r.aD)(document.getElementsByTagName("link"),(function(e){var t=e&&e.href;if(t){var n=c(t);s(n,Promise.resolve())}})),{register:s,get:function(e){return e=c(e),o[e]||null}});function c(e){var t=e.split("?"),n=t[0],r=t[1],i=n.toLowerCase();return"/"!==i[i.length-1]&&(i+="/"),i+(r?"?"+r:"")}},5123:function(e,t,n){var r,i,o,s;n.d(t,{OE:function(){return i},Sr:function(){return o}}),function(e){e[e.None=0]="None",e[e.Active=1]="Active",e[e.Review=2]="Review"}(r||(r={})),function(e){e[e.Name=0]="Name",e[e.CreatedAt=1]="CreatedAt",e[e.UpdatedAt=2]="UpdatedAt",e[e.Weight=3]="Weight"}(i||(i={})),function(e){e[e.ASC=0]="ASC",e[e.DESC=1]="DESC"}(o||(o={})),function(e){e[e.Unknown=0]="Unknown",e[e.Email=1]="Email"}(s||(s={}))},8689:function(e,t,n){n.d(t,{aL:function(){return i.aL},UA:function(){return i.UA},Qg:function(){return i.Qg}});var r,i=n(2012);!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ASC=1]="ASC",e[e.DESC=2]="DESC"}(r||(r={}))},2012:function(e,t,n){n.d(t,{aL:function(){return u},UA:function(){return l},Qg:function(){return d}});var r=n(9312),i=n(5516),o=n(6514),s=(0,o.hG)((function(e){var t=e.pageSize,n=void 0===t?50:t,o=e.pageIndex,s=void 0===o?0:o,a=e.filterTags;return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,i.h.get("/assets/shapes",{pageSize:n,pageIndex:s,filterTags:0===(!a||a.length)?void 0:a})];case 1:return[2,e.sent()]}}))}))})),a=((0,o.hG)((function(){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,i.h.get("/assets/shapes-logomaker")];case 1:return[2,e.sent()]}}))}))})),(0,o.hG)((function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,i.h.get("/assets/businesscategories",e)];case 1:return[2,t.sent()]}}))}))})),(0,o.hG)((function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,i.h.get("/assets/iconterms",e)];case 1:return[2,t.sent()]}}))}))})),n(1078)),c=n(4405);function u(e){return void 0===e&&(e={}),(0,r.mG)(this,void 0,void 0,(function(){var t,n,i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return(t=(0,a.Tk)()).initSearch({pageIndex:e.pageIndex,filterTags:e.filterTags}),n=t.get(),[4,s({pageIndex:n.pageIndex,pageSize:e.pageSize||50,filterTags:n.filterTags})];case 1:return(i=r.sent()).ok&&t.setShapes(i.data.items),[2]}}))}))}function l(){return(0,r.mG)(this,void 0,void 0,(function(){var e,t,n,i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return e=(0,a.Tk)(),t=e.get(),n=(t.pageIndex||0)+1,e.initSearch({pageIndex:n}),[4,s({pageIndex:n,pageSize:50,filterTags:t.filterTags})];case 1:return(i=r.sent()).ok&&e.addShapes(i.data.items),[2]}}))}))}function d(e){return(0,r.mG)(this,void 0,void 0,(function(){var t,n,o,s;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return t=(0,a.Tk)(),(n=t.get().shapes.find((function(t){return t.id===e})))?(o=(0,c.E6)(n.url,"?v=raw"),[4,i.h.get(o)]):[2];case 1:return(s=r.sent()).ok?[2,s.data]:[2,void 0]}}))}))}},1078:function(e,t,n){n.d(t,{F9:function(){return a},Tk:function(){return c}});var r=n(9312),i=n(7859),o=n(6514),s=(0,o.x8)({pageIndex:0,shapes:[],filterTags:[]})({initSearch:function(e,t){var n,i,o=t.filterTags||e.filterTags,s=(n=e.filterTags,i=t.filterTags,void 0===n&&(n=[]),void 0===i&&(i=[]),n.join(",")!==i.join(",")?0:"number"==typeof t.pageIndex?t.pageIndex:e.pageIndex);return(0,r.pi)((0,r.pi)({},e),{pageIndex:s,filterTags:o})},setShapes:function(e,t){return(0,r.pi)((0,r.pi)({},e),{shapes:t})},addShapes:function(e,t){return(0,r.pi)((0,r.pi)({},e),{shapes:(0,r.ev)((0,r.ev)([],e.shapes,!0),t,!0)})}}),a=function(){return(0,i.wN)(s)},c=function(){return s};function u(){return(0,o.x8)({startWith:"",pageIndex:0,languageCode:"EN",limitReached:!1,loading:!1,items:[]})({initSearch:function(e,t){var n=t.startWith!==e.startWith;return(0,r.pi)((0,r.pi)({},e),{pageIndex:n?0:"number"==typeof t.pageIndex?t.pageIndex:e.pageIndex,startWith:"string"==typeof t.startWith?t.startWith:e.startWith,loading:!0,limitReached:!n&&e.limitReached})},setPageIndex:function(e,t){return(0,r.pi)((0,r.pi)({},e),{pageIndex:t})},setItems:function(e,t){return(0,r.pi)((0,r.pi)({},e),{items:t})},completeSearch:function(e,t){return(0,r.pi)((0,r.pi)({},e),{loading:!1,items:0===e.pageIndex?t:(0,r.ev)((0,r.ev)([],e.items,!0),t,!0),limitReached:0===t.length})}})}u(),u()},6514:function(e,t,n){n.d(t,{gO:function(){return d},x8:function(){return i},hG:function(){return f},Z5:function(){return h}});var r=n(1753);function i(e){var t=(0,r.y)(e);return function(e){var n={},r=t.dispatch,i=function(t){var i=e[t];n[t]=function(e){return r(i,e)}};for(var o in e)i(o);return Object.assign(n,{subscribe:t.subscribe,get:t.get,dispose:t.dispose.bind(t)})}}var o,s,a,c,u=n(9312),l=n(7759),d=(o=[],s=[],a=(0,r.y)(0),c=function(){return(0,u.mG)(void 0,void 0,void 0,(function(){var e;return(0,u.Jh)(this,(function(t){switch(t.label){case 0:return 0!==(e=s.splice(0,s.length)).length?[3,1]:(a.set(0),[3,3]);case 1:return[4,Promise.all(e).then(c)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},{getCount:a.get,isPending:function(){return a.get()>0},subscribe:a.subscribe,enqueue:function(e,t){var n=[t,e],r=n[1]=e.then((function(e){var t=o.indexOf(n);return t>-1&&o.splice(t,1),e})),i=a.get();return o.push(n),s.push(r),a.set(i+1),0===i&&c(),e},promiseAll:function(e){return Promise.all(function(e,t){for(var n=[],r=0,i=e.slice();r<i.length;r++){var o=i[r];t.indexOf(o[0])>-1&&n.push(o[1])}return n}(o,e))}});function f(e){return function t(n){return d.enqueue(e(n),t)}}function h(e){var t=(0,l.F)((function(n){return d.enqueue(e(n),t)}));return t}Object.freeze({hasNextPage:!1,hasPreviousPage:!1,items:[],pageIndex:-1,totalCount:0,totalPages:0})},4681:function(e,t,n){n.d(t,{R:function(){return r}});var r={};n.r(r),n.d(r,{createError:function(){return a},log:function(){return o},validation:function(){return s}});var i=n(1718);function o(e,t){var n=a(e,t);return i.G.add(n),console.error(n),n}function s(e){return o(e,"validation_error")}function a(e,t){var n=function(e){return e instanceof Error||"string"==typeof e.message&&"string"==typeof e.stack}(e)?e:function(e){return!1===e.ok&&"number"==typeof e.status}(e)?function(e){var t,n=e.error.message,r="["+e.status+"] ";if("string"==typeof n)try{var i=JSON.parse(n);t=new Error(r+i.code+": "+i.detail)}catch(e){t=void 0}return null==t&&(t=new Error(r+n)),t.name="ResponseError",t}(e):new Error(String(e));return"string"==typeof t&&(n.name=t),n}},1718:function(e,t,n){n.d(t,{G:function(){return i}});var r=n(9312),i=(0,n(6514).x8)([])({add:function(e,t){return(0,r.ev)((0,r.ev)([],e,!0),[t],!1)},remove:function(e,t){if(t<0)return e;var n=e.slice();return n.splice(t,1),n},removeFirst:function(e){return e.slice(1,e.length)},clear:function(){return[]}})},6964:function(e,t,n){n.d(t,{vq:function(){return x},Ks:function(){return b},WS:function(){return m}});var r=n(9312),i=n(3058),o=n(4681),s=n(6514),a=n(5516),c=n(3924),u=(0,s.Z5)((function(){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,a.h.get("/assets/categories/"+c.pE.Font)];case 1:return[2,e.sent()]}}))}))})),l=(0,s.Z5)((function(){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,a.h.get("/assets/fonts")];case 1:return[2,e.sent()]}}))}))})),d=n(8881),f=n(8701);function h(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,l()];case 1:return(e=t.sent()).ok?[2,e.data&&e.data.map((function(e){return{categoryId:e.categoryId,family:e.family,src:e.src,style:(i.k[e.style]||"normal").toLowerCase(),weight:e.weight+""}}))]:(o.R.log(e),[2,[]])}}))}))}function p(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,u()];case 1:return(e=t.sent()).ok?[2,e.data.map((function(e){return{id:e.id,name:e.name,count:e.count,label:"font_"+e.name}}))]:(o.R.log(e),[2,[]])}}))}))}var v,g=(v=null,function(){if(v)return v;var e=function(){for(var e=document.styleSheets,t=0,n=e.length;t<n;t++){var r=e[t].href;if(r&&r.indexOf("fontstylesheet.css")>-1)return e[t]}return null}();return e?v=d.I7.extractFontFaces(e):[]});function m(e,t,n){return void 0===t&&(t="normal"),void 0===n&&(n="400"),g().find((function(r){return r.family===e&&r.style===t&&r.weight===n}))}var y=f.o.get;function x(e){return void 0===e&&(e=y().fonts),e.find((function(e){return"Open Sans"===e.family&&"normal"===e.style&&"400"===e.weight}))}function b(e){return e.family+"|"+e.weight+"|"+e.style}Promise.all([function(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return f.o.setPending(!0),[4,h()];case 1:return e=t.sent(),f.o.setFonts(e),[2,e]}}))}))}(),function(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return f.o.get().categories.length>0?[2]:[4,p()];case 1:return e=t.sent(),f.o.setFontCategories(e),[2]}}))}))}()])},8701:function(e,t,n){n.d(t,{o:function(){return i}});var r=n(9312),i=(0,n(6514).x8)({pending:!1,fonts:[],categories:[]})({setPending:function(e,t){return(0,r.pi)((0,r.pi)({},e),{pending:t})},setFonts:function(e,t){return(0,r.pi)((0,r.pi)({},e),{fonts:t,pending:!1})},setFontCategories:function(e,t){return(0,r.pi)((0,r.pi)({},e),{categories:t})}})},3058:function(e,t,n){var r;n.d(t,{k:function(){return r}}),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NORMAL=1]="NORMAL",e[e.ITALIC=2]="ITALIC",e[e.OBLIQUE=3]="OBLIQUE"}(r||(r={}))},7490:function(e,t,n){n.d(t,{Tu:function(){return m.T},UA:function(){return h},f4:function(){return g},X2:function(){return f},Tv:function(){return v},qP:function(){return p}});var r=n(9312),i=n(4066),o=n(5516),s=n(6514),a=((0,s.hG)((function(e){var t=e.keywords,n=e.pageIndex,s=void 0===n?0:n,a=e.pageSize,c=e.languageCode,u=void 0===c?(0,i.G3)():c;return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,o.h.post("/assets/icons/multiple",{terms:t,pageSize:a,pageIndex:s,languageCode:u})];case 1:return[2,e.sent()]}}))}))})),(0,s.hG)((function(e){var t=e.type,n=e.keywords,s=e.pageIndex,a=void 0===s?0:s,c=e.pageSize,u=void 0===c?200:c,l=e.languageCode,d=void 0===l?(0,i.G3)():l;return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,o.h.get("/assets/icons",{type:t,term:n.join(" "),pageSize:u,pageIndex:a,languageCode:d})];case 1:return[2,e.sent()]}}))}))}))),c=(0,s.hG)((function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,o.h.get("/assets/icons/".concat(e,"/svg"))];case 1:return[2,t.sent()]}}))}))})),u=((0,s.hG)((function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,o.h.post("/assets/icons/relatedsearch",e)];case 1:return[2,t.sent()]}}))}))})),n(5224)),l=n(4681),d=u.G.get;function f(e){return void 0===e&&(e={}),(0,r.mG)(this,void 0,void 0,(function(){var t,n,o,s,c,l;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return t=d(),n=t.type,o=(0,i.G3)(),s=function(e){for(var t={},n=e.length,r=[],i=0;i<n;i++){var o=e[i],s=o.toLowerCase();s in t||(t[s]=!0,r.push(o))}return r}(e.keywords||(t.search?[t.search]:t.keywords)),c=u.G.initSearch({type:n,pageIndex:e.pageIndex||0,searchLang:o,keywords:s}).pageIndex,[4,a({type:n,keywords:s,pageIndex:c,languageCode:o})];case 1:return(l=r.sent()).ok&&u.G.setIcons(l.data.items),[2]}}))}))}function h(){return(0,r.mG)(this,void 0,void 0,(function(){var e,t,n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return e=d(),t=e.pageIndex+1,u.G.initPageLoad(t),[4,a({type:e.type,keywords:e.keywords,pageIndex:t,languageCode:e.searchLang})];case 1:return(n=r.sent()).ok&&u.G.addIcons(n.data.items),[2]}}))}))}var p=u.G.setSearch,v=u.G.setFilter;function g(e){return(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,c(e)];case 1:return(t=n.sent()).ok?[2,t.data]:(l.R.log(t),[2,void 0])}}))}))}var m=n(348)},3238:function(e,t,n){n.d(t,{Qu:function(){return i},_7:function(){return o},_9:function(){return s}});var r=[];function i(e){r.indexOf(e)<0&&r.push(e)}function o(){r.splice(0,r.length)}function s(){return r.slice()}},5224:function(e,t,n){n.d(t,{G:function(){return s}});var r=n(9312),i=n(6514),o=n(348),s=(0,i.x8)({type:o.T.All,search:"",searchLang:"EN",pageIndex:0,keywords:[],icons:[]})({initSearch:function(e,t){return(0,r.pi)((0,r.pi)({},e),{type:t.type,pageIndex:t.pageIndex,searchLang:t.searchLang,keywords:t.keywords})},initPageLoad:function(e,t){return(0,r.pi)((0,r.pi)({},e),{pageIndex:t})},setIcons:function(e,t){return(0,r.pi)((0,r.pi)({},e),{icons:a(t)})},addIcons:function(e,t){return(0,r.pi)((0,r.pi)({},e),{icons:(0,r.ev)((0,r.ev)([],e.icons,!0),a(t),!0)})},setFilter:function(e,t){return(0,r.pi)((0,r.pi)({},e),{type:t})},setSearch:function(e,t){return(0,r.pi)((0,r.pi)({},e),{search:t})}});function a(e){return function(e,t){for(var n=[],r=e.length,i=new Array(r);e.length>0;)(a=e.splice(0,100)).length>0&&n.push(a);for(var o=n.length,s=0;s<r;s++){var a;0===(a=n[s%o]).length&&(a=n[s%--o]);var c=a.shift();i[s]=c}return i}(e)}},348:function(e,t,n){var r;n.d(t,{T:function(){return r}}),function(e){e[e.Unknown=0]="Unknown",e[e.Glyph=1]="Glyph",e[e.Line=2]="Line",e[e.Flat=3]="Flat",e[e.ColoredOutline=4]="ColoredOutline",e[e.Gradient=5]="Gradient",e[e.Dualtone=6]="Dualtone",e[e.Rounded=7]="Rounded",e[e.Isometric=8]="Isometric",e[e.All=9]="All"}(r||(r={}))},4066:function(e,t,n){n.d(t,{G3:function(){return r.G3},NC:function(){return r.NC}});var r=n(4318)},4318:function(e,t,n){n.d(t,{G3:function(){return u},NC:function(){return c},XP:function(){return a},vH:function(){return l}});var r=n(9312),i=n(5516),o=n(5880).e.get,s=null;function a(){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return s?[4,s]:[3,2];case 1:case 3:return[2,e.sent()];case 2:return[4,s=i.h.get("/locales/languages").then((function(e){return e.ok?e.data.map((function(e){return{code:e.code,displayName:e.displayName}})):[]}))]}}))}))}function c(e){return o().data[e]||e}function u(){return o().lang}function l(){return o().languages}},5880:function(e,t,n){n.d(t,{e:function(){return o}});var r=n(9312),i=n(1668),o=(0,n(6514).x8)({languages:[],lang:(0,i.Rd)("lang"),data:(0,i.Rd)("locale")})({setLanguageList:function(e,t){return(0,r.pi)((0,r.pi)({},e),{languages:t})}})},4413:function(e,t,n){n.d(t,{Z:function(){return d},o:function(){return f}});var r,i,o=n(7759),s=n(7859),a=n(4066),c=n(8968),u=n(3313),l=n(2797),d=(0,s.gR)(l.rz),f=(r=(0,o.F)((function(){return(0,c.Uy)((0,a.G3)())})),i=(0,s.hs)(l.rI),function(){var e=i();return(0,u.useEffect)((function(){r()}),[]),e})},3924:function(e,t,n){n.d(t,{MV:function(){return r.MV},Uy:function(){return r.Uy},aU:function(){return r.aU},f7:function(){return r.f7},m$:function(){return r.m$},pE:function(){return i.p},zE:function(){return r.zE}});var r=n(8968),i=n(4026)},8968:function(e,t,n){n.d(t,{MV:function(){return b},zE:function(){return y},Uy:function(){return v},aU:function(){return w},m$:function(){return m},f7:function(){return g}});var r=n(9312),i=n(5516),o=n(6514),s=n(5123),a=n(4066),c=(0,o.hG)((function(e){var t=e.accountId,n=e.categoryId,o=e.pageIndex,c=e.pageSize,u=e.search,l=e.sortBy,d=void 0===l?{key:s.OE.CreatedAt,direction:s.Sr.DESC}:l,f=e.weights,h=e.colors,p=e.types,v=e.styles,g=e.fonts,m=e.status,y=e.languageCode,x=void 0===y?(0,a.G3)():y;return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,i.h.post("/assets-management/logos",{accountId:t||0,categoryId:n||0,pageIndex:o,pageSize:c||10,search:u,sortBy:d,weights:f,colors:h,types:p,styles:v,fonts:g,status:m,languageCode:x})];case 1:return[2,e.sent()]}}))}))})),u=n(4026);function l(e){return 1e4*e.getTime()+621355968e9}var d=(0,o.hG)((function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,i.h.get("/assets/logos",{categoryId:e.categoryId||0,pageIndex:e.pageIndex,pageSize:e.pageSize||12,languageCode:e.languageCode||(0,a.G3)()})];case 1:return[2,t.sent()]}}))}))})),f=(0,o.Z5)((function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,i.h.get("/assets/categories/"+u.p.Logo+(e?"/"+e:""))];case 1:return[2,t.sent()]}}))}))})),h=(0,o.hG)((function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,i.h.get("/assets/logos/svg/"+e.logoName+".svg"+(e.updatedAt?"?t=".concat(l(e.updatedAt)):""))];case 1:return[2,t.sent()]}}))}))})),p=n(2797);function v(e){return(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,f(e)];case 1:return(t=n.sent()).ok?p.rI.setItems(t.data):console.error(t.error),[2]}}))}))}function g(e){var t=e.detailed,n=(0,r._T)(e,["detailed"]);return(0,r.mG)(this,void 0,void 0,(function(){var e,i,o;return(0,r.Jh)(this,(function(s){switch(s.label){case 0:return e=p.rz.get(),i=(0,r.pi)((0,r.pi)({},n),{categoryId:"number"==typeof n.categoryId?n.categoryId:e.categoryId,pageIndex:"number"==typeof n.pageIndex?n.pageIndex:e.pageIndex,pageSize:n.pageSize||e.pageSize}),p.rz.initSearch({detailed:t,categoryId:i.categoryId,pageIndex:i.pageIndex,pageSize:i.pageSize,search:i.search,sortBy:i.sortBy,status:i.status,weights:i.weights}),t?[4,c(i)]:[3,2];case 1:return(o=s.sent()).ok&&p.rz.setItems(o.data.items.map(w)),[3,4];case 2:return[4,d(i)];case 3:(o=s.sent()).ok&&p.rz.setItems(o.data.items.map(w)),s.label=4;case 4:return[2]}}))}))}function m(){return(0,r.mG)(this,void 0,void 0,(function(){var e,t,n,i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return(e=p.rz.get()).limitReached?[2]:(t=(e.pageIndex||0)+1,p.rz.initSearch({pageIndex:t,detailed:e.detailed,categoryId:e.categoryId,pageSize:e.pageSize,search:e.search,sortBy:e.sortBy,status:e.status,weights:e.weights}),n={categoryId:e.categoryId,pageIndex:t,pageSize:e.pageSize,search:e.search,sortBy:e.sortBy,weights:e.weights,status:e.status},e.detailed?[4,c(n)]:[3,2]);case 1:return(i=r.sent()).ok&&(i.data&&0!==i.data.items.length?p.rz.addItems(i.data.items.map(w)):p.rz.setLimitReached(!0)),[3,4];case 2:return[4,d(n)];case 3:(i=r.sent()).ok&&(i.data&&0!==i.data.items.length?p.rz.addItems(i.data.items.map(w)):p.rz.setLimitReached(!0)),r.label=4;case 4:return[2]}}))}))}function y(e,t){return(0,r.mG)(this,void 0,void 0,(function(){var n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,h({logoName:e,updatedAt:t})];case 1:return[2,(n=r.sent()).ok?n.data:null]}}))}))}var x=i.h.getUrl("/assets/thumb/logo")+"/";function b(e,t,n){void 0===t&&(t=400);var r=t>200?400:200,i=n?"?t=".concat(l(n)):"";return x+e+(r?"_"+r:"")+".png"+i}function w(e){var t,n,r;"string"==typeof e.createdAt&&(e.createdAt=new Date(e.createdAt)),"string"==typeof e.updatedAt&&(e.updatedAt=new Date(e.updatedAt));var i=e.meta||{},o=null!==(n=null===(t=e.meta)||void 0===t?void 0:t.tags)&&void 0!==n?n:{};return["colors","types","styles","keywords","fonts"].forEach((function(e){var t;o[e]=null!==(t=o[e])&&void 0!==t?t:[]})),i.background=null!==(r=i.background)&&void 0!==r?r:void 0,i.tags=o,e.meta=i,e}},2797:function(e,t,n){n.d(t,{rI:function(){return a},rz:function(){return s}});var r=n(9312),i=n(5123),o=n(6514),s=(0,o.x8)({detailed:!1,search:"",loading:!1,limitReached:!1,pageIndex:0,pageSize:24,categoryId:0,items:[],weights:[],status:[],sortBy:{key:i.OE.CreatedAt,direction:i.Sr.DESC}})({set:function(e,t){return(0,r.pi)((0,r.pi)({},e),t)},initSearch:function(e,t){var n="number"==typeof t.pageIndex?t.pageIndex:0;return(0,r.pi)((0,r.pi)({},e),{detailed:t.detailed,search:t.search||e.search,sortBy:t.sortBy||e.sortBy,weights:t.weights||e.weights,status:t.status||e.status,pageIndex:n,pageSize:t.pageSize||24,categoryId:t.categoryId||0,loading:!0,limitReached:t.categoryId===e.categoryId&&e.limitReached,items:0===n?[]:e.items})},initPageLoad:function(e,t){return(0,r.pi)((0,r.pi)({},e),{pageIndex:t})},setItems:function(e,t){return(0,r.pi)((0,r.pi)({},e),{loading:!1,items:t})},addItems:function(e,t){return(0,r.pi)((0,r.pi)({},e),{loading:!1,items:(0,r.ev)((0,r.ev)([],e.items,!0),t,!0)})},setSearch:function(e,t){return(0,r.pi)((0,r.pi)({},e),{search:t})},setLimitReached:function(e,t){return void 0===t&&(t=!0),(0,r.pi)((0,r.pi)({},e),{limitReached:t})}}),a=(0,o.x8)([])({setItems:function(e,t){return t}})},4026:function(e,t,n){var r;n.d(t,{p:function(){return r}}),function(e){e[e.Unknown=0]="Unknown",e[e.Logo=1]="Logo",e[e.Font=2]="Font"}(r||(r={}))},625:function(e,t,n){n.d(t,{Q:function(){return s},f:function(){return a}});var r=n(9312),i=n(7364),o=n(8881);function s(e){return o.XF.render(function(e){var t={};for(var n in e)t[n.replace(/[a-z]-[a-z]/g,(function(e){return e[0]+e[2].toUpperCase()}))]=e[n];return t}(e))}function a(e){return(0,r.mG)(this,void 0,void 0,(function(){var t,n,o,s,a,c;return(0,r.Jh)(this,(function(r){if(!e)return[2];if(t=e.childNodes[0],n=t.getBBox(),o=[n.x,n.y,n.width,n.height].join(" "),n.width&&n.height){for(c in s={x:0,y:0,width:512,height:512},a=(0,i.rS)("rect"),s)t.removeAttribute(c),a.setAttribute(c,s[c]);a.setAttribute("fill","none"),e.insertBefore(a,t),e.setAttribute("viewBox","0 0 512 512"),t.setAttribute("viewBox",o),e.style.overflow="visible",t.style.overflow="visible"}return[2]}))}))}},4289:function(e,t,n){n.d(t,{Ju:function(){return p},wj:function(){return h}});var r=n(9312),i=n(8370),o=n(625),s=n(5516),a=n(9934),c=n(8881);function u(){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,Promise.all([(0,a.v)("https://cdn.jsdelivr.net/npm/opentype.js@latest/dist/opentype.min.js"),d()])];case 1:return[2,e.sent()]}}))}))}var l="fonts_"+Date.now();function d(){return(0,r.mG)(this,void 0,void 0,(function(){var e,t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return function(){if(document.getElementById(l))return!0;var e=!1;return document.querySelectorAll("link").forEach((function(t){var n,r;"stylesheet"===t.getAttribute("rel")&&(null!==(r=null===(n=t.getAttribute("href"))||void 0===n?void 0:n.indexOf("fontstylesheet.css"))&&void 0!==r?r:-1)>-1&&(e=!0)})),e}()?[2]:[4,s.h.get("/assets/fontstylesheet.css")];case 1:return(e=n.sent()).ok?((t=document.createElement("style")).id=l,t.textContent=e.data,document.head.appendChild(t),c.jC.registerFonts(c.I7.extractAllFontFaces())):console.error("Failed to load font stylesheet.",e.error),[2]}}))}))}var f=/[^A-Za-z]+/g;function h(e,t){var n,r,i,o,s=g(e,(function(e){var t;return"fl:textpath"===e.type&&function(e){if(!e)return!1;var t=e.toLowerCase().trim();return t.indexOf("company")>-1||t.indexOf("name")>-1}(null!==(t=e.attrs.text)&&void 0!==t?t:"")}));0!==s.length&&(s.sort((function(e,t){var n=e.attrs.text.replace(f,""),r=t.attrs.text.replace(f,"");return n>r?1:n<r?-1:0})),n=s,r=function(t,n){if(n)t.attrs.text=n;else{var r=g(e,(function(e){return e.children.indexOf(t)>-1}))[0];r&&(r.children=r.children.slice(),r.children.splice(r.children.indexOf(t),1))}},i=t.trim().split(/\s+/g),o=Math.max(1,Math.ceil(i.length/n.length)),n.map((function(e){return r(e,i.splice(0,o).join(" "))})))}function p(e,t){return(0,r.mG)(this,void 0,void 0,(function(){var n,s,a=this;return(0,r.Jh)(this,(function(c){switch(c.label){case 0:return[4,u()];case 1:return c.sent(),(n=(0,i.op)(e))?(h(n,t),s=!1,g(n,(function(e){return"fl:background"===e.type})).forEach((function(e){e.type="rect",e.attrs["data-fl-background"]="",e.attrs.x="0",e.attrs.y="0",e.attrs.width="100%",e.attrs.height="100%",s=!0})),s||n.children.unshift((0,i.Wm)({type:"rect",attrs:{fill:"#fff",x:"0",y:"0",width:"100%",height:"100%"}})),[4,Promise.all(g(n,(function(e){return"fl:textpath"===e.type})).map((function(e){return(0,r.mG)(a,void 0,void 0,(function(){var t,n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return e.type="path",e.attrs["data-fl-textpath"]="",t=e.attrs,n="d",[4,(0,o.Q)(e.attrs)];case 1:return t[n]=r.sent(),[2]}}))}))})))]):[2,e];case 2:return c.sent(),[2,(0,i.sD)(n)]}}))}))}function v(e,t,n){t(e)&&n.push(e);for(var r=0,i=e.children;r<i.length;r++)v(i[r],t,n);return n}function g(e,t){return v(e,t,[])}},2110:function(e,t,n){n.d(t,{n:function(){return b}});var r=n(9312),i=n(1668);function o(){for(var e=arguments.length,t=arguments[0],n=a(t),r=1;r<e;r++){var i=s(arguments[r]);""!==i&&(n+="/"+i)}return""!==n||"/"!==t[0]&&"\\"!==t[0]?n:"/"}function s(e){var t=0,n=e.length;return"/"!==e[t]&&"\\"!==e[t]||(t++,n--),"/"!==e[n]&&"\\"!==e[n]||n--,e.substr(t,n)}function a(e){var t=e.length-1;return"/"===e[t]||"\\"===e[t]?e.substr(0,t):e}var c,u=n(4405);!function(e){e[e.Unknown=0]="Unknown",e[e.Logo=1]="Logo",e[e.LogoMaker=2]="LogoMaker"}(c||(c={}));var l,d,f,h,p,v,g,m,y,x=n(4066),b=(l=function(e){var t=function(){return(0,i.Rd)("urls")[e]};return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(0,u.D5)(o.apply(void 0,(0,r.ev)([t()],e,!1)))}},d=function(e){var t=e.base,n=e.routes,i=void 0===n?[]:n,s=e.defaults,a=void 0===s?{}:s,c=function(e){if(e)return i.find((function(t){return t.name===e}))},l=function(e){return o(f.base,e)},d=function(e){return(0,r.pi)((0,r.pi)((0,r.pi)({},a),e),{path:e.path&&l(e.path),routes:e.routes&&e.routes.map(d)})},f={base:void 0===t?"/":t,define:function(e,t,n,r){var o="string"==typeof e?{name:e,path:t,component:n,exact:r}:e;if(i.find((function(e){return e.name===o.name})))throw new Error('Route name "'+e+'" is already defined');return i.push(o),f},fallback:function(e){return i.push({component:e}),f},getPath:function(e,t,n){var r=c(e);if(null==r||null==r.path)return e;var i=r.path,o=r.rewrite,s=(0,u.sM)(i,t)+(0,u.cZ)(n);return null!=o?o(s,t||{},(0,u.mB)(n)):s},getDeclaration:c,joinBase:l,configure:function(e,t){var n=e.routes||t;if(!n)throw new Error("Invalid routes configurations");e.base&&(f.base=e.base),e.defaults&&Object.assign(a,e.defaults),i=n.map(d)},map:function(e){return i.map(e)}};return f}({base:(0,i.Rd)("basePath")}),f=l("api"),h=l("cdn"),p=l("editor"),v=l("logomaker"),g=l("manager"),m=l("website"),y=d.getPath,{DOMAIN:(0,i.Rd)("urls").domain,api:f,cdn:h,editor:p,manager:g,website:m,contact:function(){return m("/contact")},privaryPolicy:function(){return m("/privacy")},termsOfUse:function(){return m("/terms-of-use")},normalize:u.D5,showcase:function(e){return g("/showcase",e)},createLogo:function(e,t){return void 0===t&&(t={}),null===e||"string"==typeof e?p("logo/create")+(0,u.cZ)((0,r.pi)((0,r.pi)({},(0,u.mB)(t)),{template:e})):p()},editLogo:function(e,t){return t===c.LogoMaker?v("editor/logo",e):p("logo/edit",e)},inspectLogo:function(e,t){return t===c.LogoMaker?v("editor/inspect",e):p("logo/inspect",e)},editTemplate:function(e){return p("template/edit",e)},createTemplate:function(){return p("template/create")},showcaseLogo:function(e){return g("showcase",e)},account:function(){return g("/account")},signIn:function(e){return y("SIGNIN",null,{r:e})},signUp:function(e){return y("SIGNUP",null,{r:e})},share:function(e){return m("share",e)},help:function(e){void 0===e&&(e=(0,x.G3)());var t={en:"en-us",fr:"fr",es:"es"};return"https://support.freelogodesign.org/hc/"+(t[(e||"").toLowerCase()]||t.en)},routes:d,route:y,base:d.joinBase,home:function(){return d.getPath("HOME")}})},5154:function(e,t,n){n.d(t,{S1:function(){return f},Zu:function(){return a},kS:function(){return u},x4:function(){return c}});var r=n(9312),i=n(1668),o=n(4066),s=n(7986);function a(){return new Promise((function(e){window.FB.api("/me/permissions",(function(t){e(t)}))}))}function c(e){return(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,f()];case 1:return n.sent(),t=(0,r.pi)({scope:"public_profile,email",return_scopes:!0},e),[4,new Promise((function(e){window.FB.login((function(t){e(t)}),t)}))];case 2:return[2,n.sent()]}}))}))}function u(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,f()];case 1:return e=t.sent(),"connected"!==(0,s.DU)().status?[2,e.authResponse]:[4,new Promise((function(e,t){try{window.FB.logout((function(t){e(t)}))}catch(e){t(e)}}))];case 2:return[2,t.sent()]}}))}))}var l,d,f=(l=void 0,d=function(){return new Promise((function(e){var t=(0,i.Rd)("facebook");window.fbAsyncInit=function(){window.FB.init({appId:t.appId,cookie:!0,xfbml:!0,version:t.version}),window.FB.AppEvents.logPageView(),function(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(e){window.FB.getLoginStatus((function(t){e(t)}),!0)}))];case 1:return e=t.sent(),s.R4.dispatch((function(t){return(0,r.pi)((0,r.pi)({},t),{status:e.status,init:!0})})),[2,e]}}))}))}().then(e)};var n,a,c,u,l,d={en:"en_US",fr:"fr_FR",pt:"pt_PT",it:"it_IT",de:"de_DE",es:"es_ES",nl:"nl_NL"}[(0,o.G3)().toLowerCase()];a="script",c="facebook-jssdk",l=(n=document).getElementsByTagName(a)[0],n.getElementById(c)||((u=n.createElement(a)).id=c,u.src="https://connect.facebook.net/".concat(d,"/sdk.js"),l.parentNode.insertBefore(u,l))}))},function(){return l||(l=d())})},7986:function(e,t,n){n.d(t,{DU:function(){return a},OD:function(){return s},R4:function(){return o}});var r=n(1753),i=n(7859),o=(0,r.y)({init:!1,status:"unknown"}),s=function(){return(0,i.wN)(o)},a=o.get},8899:function(e,t,n){n.d(t,{S1:function(){return l},kS:function(){return a},x4:function(){return s}});var r=n(9312),i=n(1668),o=n(2510);function s(e){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,l()];case 1:return e.sent(),[4,new Promise((function(e){window.gapi.auth2.getAuthInstance().signIn().then((function(t){var n=t.isSignedIn();e({status:n?"connected":"not_authorized",authResponse:{idToken:t.getAuthResponse().id_token}})}))}))];case 2:return[2,e.sent()]}}))}))}function a(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,l()];case 1:return e=t.sent(),"connected"!==(0,o.ke)().status?[2,e.authResponse]:[4,new Promise((function(e,t){try{var n=window.gapi.auth2.getAuthInstance();n.disconnect(),n.signOut().then((function(){e({idToken:""})})).catch((function(e){return t(e)}))}catch(e){t(e)}}))];case 2:return[2,t.sent()]}}))}))}var c,u,l=(c=void 0,u=function(){return new Promise((function(e){var t,n,s,a,c,u=(0,i.Rd)("google");n="script",s="google-apijssdk",c=(t=document).getElementsByTagName(n)[0],t.getElementById(s)||((a=t.createElement(n)).id=s,a.src="https://apis.google.com/js/platform.js",a.async=!0,a.defer=!0,a.onload=function(){window.gapi.load("auth2",(function(){window.gapi.auth2.init({client_id:u.OAuthClientId,cookiepolicy:"single_host_origin",scope:"profile email"}),window.setTimeout((function(){return function(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(e){var t=window.gapi.auth2.getAuthInstance(),n=t.currentUser.get();e({status:t.isSignedIn.get()?"connected":"not_authorized",authResponse:{idToken:n.getAuthResponse().id_token}})}))];case 1:return e=t.sent(),o.Ys.dispatch((function(t){return(0,r.pi)((0,r.pi)({},t),{status:e.status,init:!0})})),[2,e]}}))}))}().then(e)}),1e3)}))},c.parentNode.insertBefore(a,c))}))},function(){return c||(c=u())})},2510:function(e,t,n){n.d(t,{Ys:function(){return o},gl:function(){return s},ke:function(){return a}});var r=n(1753),i=n(7859),o=(0,r.y)({init:!1,status:"unknown"}),s=function(){return(0,i.wN)(o)},a=o.get},3813:function(e,t,n){n.d(t,{Ty:function(){return B},Ao:function(){return Y},BM:function(){return T},OD:function(){return K},vA:function(){return D},b9:function(){return F},tl:function(){return V},_O:function(){return W},zB:function(){return A},DY:function(){return R},qj:function(){return P},w7:function(){return I},y1:function(){return M},Ov:function(){return O}});var r=n(9312),i=n(5516),o=n(2110),s=n(6514),a=(0,s.hG)((function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,i.h.postWithToken("/users/signin",{email:e.email,password:e.password,recaptcha:e.recaptcha})];case 1:return[2,t.sent()]}}))}))})),c=(0,s.hG)((function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,i.h.post("/users/guest/verify",{email:e})];case 1:return[2,t.sent()]}}))}))})),u=(0,s.hG)((function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,i.h.post("/users/signup",{email:e.email,password:e.password,firstName:e.firstName,lastName:e.lastName,languageCode:e.languageCode,recaptcha:e.recaptcha})];case 1:return[2,t.sent()]}}))}))})),l=(0,s.hG)((function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,i.h.post("/users/signin/facebook",{userID:e.userID,accessToken:e.accessToken,languageCode:e.languageCode})];case 1:return[2,t.sent()]}}))}))})),d=(0,s.hG)((function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,i.h.post("/users/signin/google",{idToken:e.idToken,languageCode:e.languageCode})];case 1:return[2,t.sent()]}}))}))})),f=(0,s.hG)((function(){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,i.h.post("/users/signout")];case 1:return[2,e.sent()]}}))}))})),h=(0,s.hG)((function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,i.h.post("/users/requestresetpassword",{email:e.email,resetLink:o.n.manager("/resetpassword")})];case 1:return[2,t.sent()]}}))}))})),p=(0,s.hG)((function(){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,i.h.get("/users/me/email")];case 1:return[2,e.sent()]}}))}))})),v=n(5154),g=n(8899),m=n(4405);function y(e,t,n){void 0===n&&(n={});var i=(0,r.pi)({},n),o=[];if(!i.expires){var s=new Date;s.setTime(s.getTime()+31536e6),i.expires=s+""}for(var a in i.path||(i.path="/"),i)o.push(a+"="+i[a]);document.cookie=e+"="+t+";"+o.join(";")}function x(e){for(var t=0,n=document.cookie.split(/;\s*/g);t<n.length;t++){var r=n[t].split("=");if(r[0]===e)return{name:r[0],value:r[1]}}}var b,w,C=n(1668),_=n(4965),k=n(1753),E=n(4066),S=n(4681),j=n(7010),N="x-fld-token",L="x-fld-remember";function A(e){return(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,a(e)];case 1:return t=n.sent(),e.remember?(r=e.email,$(L,(0,_.h$)(r))):T(),H(t),te(b.SignIn,w.System,t),[2,t]}var r}))}))}function O(e){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,c(e)];case 1:return[2,t.sent()]}}))}))}function T(){ee(L)}function D(){var e,t=null===(e=x(L))||void 0===e?void 0:e.value;return t&&(0,_.tV)(t)}function M(e){return(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,u((0,r.pi)((0,r.pi)({},e),{languageCode:(0,E.G3)()}))];case 1:return H(t=n.sent()),te(b.SignUp,w.System,t),[2,t]}}))}))}function R(e){return(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,l({userID:e.userID,accessToken:e.accessToken,languageCode:(0,E.G3)()})];case 1:return H(t=n.sent()),te(b.SignWith,w.Facebook,t),[2,t]}}))}))}function P(e){return(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,d({idToken:e.idToken,languageCode:(0,E.G3)()})];case 1:return H(t=n.sent()),te(b.SignWith,w.Google,t),[2,t]}}))}))}function I(e){return(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,f()];case 1:return(t=n.sent()).ok&&X(null,!0,(function(){e&&location.assign(e)})),[2,t]}}))}))}function F(e){return(0,r.mG)(this,void 0,void 0,(function(){var t,n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,h(e)];case 1:return(t=r.sent()).ok?(n=t.data)&&X({token:n.token,fingerprint:n.fingerprint,firstName:n.firstName,lastName:n.lastName,languageCode:n.languageCode}):S.R.log(t),[2,t]}}))}))}!function(e){e.SignIn="signin",e.SignUp="signup",e.SignWith="signwith"}(b||(b={})),function(e){e.System="system",e.Google="google",e.Facebook="facebook"}(w||(w={}));var G,z,U,Z,J,B=(G=(0,k.y)({view:null}),z=null,U=G.set,Z=G.get,{challenge:function(e){return void 0===e&&(e={view:"signup"}),(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(n){return null!=(t=(0,C.F6)())?[2,t]:Z().view?[2,null]:(null!=z&&(z(null),z=null),U(e),[2,new Promise((function(e){z=function(t){e(t),z=null}}))])}))}))},resolve:J=function(e){G.get()&&z&&(z(e),G.set({view:null,email:null}))},setView:function(e){null==e?J(null):U((0,r.pi)((0,r.pi)({},Z()),{view:e}))},getStore:function(){return G}});function K(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,p()];case 1:return(e=t.sent()).ok?[2,e.data]:(console.error(e.error),[2])}}))}))}var Y=B.challenge,V=function(){return Y({view:"signin"})},W=function(){return Y({view:"signup"})};function H(e){if(e.ok){var t=e.data;t&&X({token:t.token,fingerprint:t.fingerprint,firstName:t.firstName,lastName:t.lastName,languageCode:t.languageCode})}else console.error(e.error);return e.ok}function X(e,t,n){var r,o=e&&e.token,s=e&&e.fingerprint;i.h.setDefaultHeaders(((r={})[N]=o||"",r["x-fld-tokenfingerprint"]=s||"",r)),(0,C.vw)({user:e,authenticated:!!o}),o?$(N,(0,_.cB)(e)):(ee(N),t&&(0,j.G)((function(e){Promise.all([v.kS().catch(Q),g.kS().catch(Q)]).then((function(){return e()}))})).catch(Q).finally((function(){n&&n()}))),B.resolve(e)}var q,Q=console.error.bind(console);function $(e,t){y(e,t,{domain:"."+(0,m.ge)(location.href),secure:!0})}function ee(e){!function(e,t){void 0===t&&(t={}),y(e,"",t)}(e,{domain:"."+(0,m.ge)(location.href),secure:!0})}function te(e,t,n){if(n.ok)try{window.dataLayer.push({event:e,method:t,user_id:n.data.uid})}catch(e){}}X((q=x(N))?(0,_.iD)(q.value):null)},2014:function(e,t,n){var r=n(4246),i=n(7634),o=n(9312),s=n(3313),a=n.n(s),c=n(1668),u=n(2110),l=n(7889),d=n(6997),f=n(6842),h=n(2211),p=n(8270),v=function(){var e=(0,s.useMemo)((function(){return[{key:"save",label:"warning_unsaved_save",primary:!0},{key:"nosave",label:"warning_unsaved_nosave"},{key:null,label:"warning_unsaved_cancel"}]}),[]);return(0,r.jsx)(p.W,{name:"unsaved_changes",title:"warning_unsaved_title",message:"warning_unsaved_text",actions:e})},g=function(e){return(0,r.jsxs)("div",(0,o.pi)({className:(0,h.cn)("fl-layout",e.className)},{children:[(0,r.jsxs)(f.N,{children:[(0,r.jsx)(l.DP,{children:(0,r.jsx)(d.l,{id:"pcMenu"})}),(0,r.jsx)("div",(0,o.pi)({className:"fl-layout-content"},{children:e.children}))]}),(0,r.jsx)(v,{})]}))},m=n(1598),y="fl:dragdrop",x="fl:dragmove",b="fl:dropped",w=function(e){var t=e.onDropped,n=e.children,r=(0,s.useRef)(),i=(0,s.useRef)({transform:"",element:null,pos:{x1:0,y1:0}});(0,s.useEffect)((function(){var e=r.current,t=i.current;if(e){var n,o,s,a=(n=function(n){var i=n.on,o=function(e){var n=t.element,i=t.pos,o=i.x1,s=i.y1,a=e.clientX,c=e.clientY;n.style.transform=t.transform+" translate("+(a-o)+"px,"+(c-s)+"px)",C(e.target,x,{ref:r})},s=function(e){c(),k(window,"mousemove",o),k(window,"mouseup",s),C(e.target,y,{ref:r})};i(e,"mousedown",(function(e){e.preventDefault();var n=t.element=function(e){var t=e.cloneNode(!0),n=t.style,r=e.getBoundingClientRect();return n.position="fixed",n.top=r.top+"px",n.left=r.left+"px",n.right="auto",n.bottom="auto",n.zIndex="999",n.pointerEvents="none",n.userSelect="none",t}(e.currentTarget);document.body.appendChild(n),t.transform=n.style.transform||"",t.pos.x1=e.clientX,t.pos.y1=e.clientY,i(window,"mousemove",o),i(window,"mouseup",s)}))},o=[],s=function(){return o.push(_.apply(void 0,arguments))},n({on:s}),function(){for(var e=0,t=o;e<t.length;e++)(0,t[e])()}),c=function(){t.element&&document.body.removeChild(t.element),t.element=null,t.transform="",t.pos={x1:0,y1:0}};return function(){a(),c()}}}),[]),(0,s.useEffect)((function(){var e=r.current;if(e)return _(e,b,(function(e){t&&t(e)}))}),[t]);var o=s.Children.only(n);return(0,s.isValidElement)(o)?(0,s.cloneElement)(o,{ref:r}):null};function C(e,t,n){e.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:n}))}function _(e,t,n){return e.addEventListener(t,n),function(){e.removeEventListener(t,n)}}function k(e,t,n){e.removeEventListener(t,n)}var E=function(e){var t=e.component,n=void 0===t?"div":t,r=e.onDragDrop,i=e.children,a=e.className,c=(0,o._T)(e,["component","onDragDrop","children","className"]),u=(0,s.useRef)(null),l=(0,s.useState)(!1),d=l[0],f=l[1];return(0,s.useEffect)((function(){var e=u.current;if(e){var t=function(e){f(!1);var t=e.detail.ref.current;r&&r(e),t&&C(t,b)};return e.addEventListener(y,t),function(){e.removeEventListener(y,t)}}}),[r]),(0,s.useEffect)((function(){var e=u.current;if(e&&!d){var t=function(){f(!0)};return e.addEventListener(x,t),function(){e.removeEventListener(x,t)}}}),[d]),(0,s.createElement)(n,(0,o.pi)((0,o.pi)({},c),{className:(0,h.cn)("fl-dropcontainer",d&&"fl-dragover",a),ref:u,onMouseLeave:d?function(){return f(!1)}:void 0}),i)},S=n(4241),j=n(6124),N=n(7065),L=n(6714),A=n(6034),O=n(1714),T=n(4934),D=(0,s.lazy)((function(){return n.e(455).then(n.bind(n,3455))})),M=((0,T.a)(D),n(1862)),R=n(3396),P=n(5316),I=function(e){return(0,R.GJ)()?(0,r.jsx)(G,{}):null},F=(0,A.cn)({key:"codeEditorActiveState",default:!1}),G=function(e){var t=(0,A.FV)(F),n=t[0],i=t[1],a=(0,A.sJ)(L.iz.clientRect),c=a.width,u=a.height,l=a.x,d=a.y,f=function(){return i(!1)};return(0,M.z)("F2",(function(e){(0,R.GJ)()&&(e||i(!n))})),(0,s.useEffect)((function(){if((0,R.GJ)()){var e=function(e){i(!n)};return document.addEventListener("fl_togglecode",e),function(){document.removeEventListener("fl_togglecode",e)}}})),n?(0,r.jsx)("div",(0,o.pi)({className:"fl-codemodal",style:{top:d,left:l,width:c,height:u}},{children:(0,r.jsx)(U,{onSubmit:f,onCancel:f})})):null};function z(){document.dispatchEvent(new Event("fl_togglecode"))}var U=function(e){var t=e.onSubmit,n=e.onCancel,i=(0,L.iC)(),a=(0,A.FV)(L.zv.svgxString),c=a[0],u=a[1],l=(0,A.FV)(P.Yj),d=l[0],f=l[1],p=(0,s.useState)(c),v=p[0],g=p[1],m=(0,s.useState)("SVGX"),y=m[0],x=m[1],b="SVG"===y,w=(0,s.useRef)(null),C=(0,s.useCallback)((function(){var e;null===(e=w.current)||void 0===e||e.formatDocument()}),[]);return(0,s.useEffect)((function(){f(i.renderToString())}),[b,i,f]),(0,s.useEffect)((function(){g(c);var e=setTimeout(C,0);return function(){clearTimeout(e)}}),[c,C]),(0,r.jsx)(s.Suspense,(0,o.pi)({fallback:(0,r.jsx)("span",{children:"Loading..."})},{children:(0,r.jsxs)("div",(0,o.pi)({className:"fl-de"},{children:[(0,r.jsxs)("div",(0,o.pi)({className:"fl-de-block fl-de-tabs"},{children:[["SVGX","SVG"].map((function(e){return(0,r.jsx)("div",(0,o.pi)({className:(0,h.cn)("fl-de-tab",y===e&&"fl-active"),onClick:function(){return x(e)}},{children:e}),e)})),(0,r.jsx)(O.z,(0,o.pi)({icon:"file",onClick:C,transparent:!0},{children:(0,r.jsx)("span",{children:"Format"})})),(0,r.jsx)("div",{className:"fl-sep"}),(0,r.jsx)(O.z,{transparent:!0,icon:"times",onClick:n}),(0,r.jsx)(O.z,{transparent:!0,icon:"check",primary:!0,onClick:function(){u(v),t(v)}})]})),(0,r.jsx)("div",(0,o.pi)({className:"fl-de-block"},{children:(0,r.jsx)("div",(0,o.pi)({className:"fl-de-inner"},{children:(0,r.jsx)(D,{ref:w,formatted:!0,value:"SVGX"===y?v:d,onChange:"SVGX"===y?g:void 0})}))}))]}))}))},Z=n(9141),J=function(){return(0,o.mG)(this,void 0,void 0,(function(){return(0,o.Jh)(this,(function(e){switch(e.label){case 0:return[4,Promise.all(["darwin"==(navigator.platform.toUpperCase().indexOf("MAC")<0?"win32":"darwin")?n.e(41).then(n.t.bind(n,5041,17)).then((function(e){return JSON.parse(e.default)})):n.e(754).then(n.t.bind(n,4754,17)).then((function(e){return JSON.parse(e.default)}))])];case 1:return[2,{keyboard:{keybindings:e.sent()[0]},locale:(0,c.Rd)("locale")}]}}))}))}().then((function(e){B=e})),B=null,K=(0,A.cn)({key:"editorLoadedState",default:!1}),Y={width:"100%",height:"100%",position:"relative"},V=function(){var e=(0,Z.Qu)().initializeLogo,t=(0,A.FV)(K),n=t[0],i=t[1];return(0,s.useEffect)((function(){if(!n){var t=!0,r=setTimeout((function(){e().then((function(){t&&i(!0)}))}),0);return function(){t=!1,clearTimeout(r)}}}),[e,n,i]),(0,r.jsxs)(E,(0,o.pi)({style:Y},{children:[(0,r.jsx)(L.Nf,{}),(0,r.jsx)(W,{}),(0,r.jsx)(j.t,{}),(0,r.jsx)(S.f,{active:!n})]}))},W=function(){var e=(0,A.sJ)(L.Uk.id),t=(0,A.sJ)(F);return(0,N.I)("mouseup",(function(n){var r;t||null!=document.activeElement&&"INPUT"===document.activeElement.nodeName||null===(r=document.getElementById(e))||void 0===r||r.focus()}),[e,t]),null},H=n(4066),X=function(e){return e},q=function(e){var t=e.className,n=e.type,i=e.value,a=e.format,c=e.onChange,u=(0,s.useState)(null),l=u[0],d=u[1],f=(0,h.cn)("fl-editabletext",t);if(null!=l){var p=function(e){return e.preventDefault(),c(l),d(null)};return(0,r.jsx)("form",(0,o.pi)({className:f,action:"#",onSubmit:p},{children:(0,r.jsx)("input",{type:n,value:l,autoFocus:!0,onFocus:function(e){return e.currentTarget.select()},onBlur:p,onChange:function(e){return d(e.currentTarget.value)}})}))}return a||(a=X),(0,r.jsx)("span",(0,o.pi)({className:f,onClick:function(){return d("number"===n?parseFloat(a(i)).toString():a(i))}},{children:a(i)}))},Q=function(e){var t=e.value,n=e.onChange,i=(0,Z.bl)();return(0,r.jsxs)("div",(0,o.pi)({className:"fl-zoomctl"},{children:[(0,r.jsx)(O.z,{small:!0,transparent:!0,icon:"minus",title:"action_zoom_out",onClick:i.zoomOut}),(0,r.jsx)(q,{type:"number",className:"fl-zoomctl-value",value:+t.toFixed(2),format:$,onChange:function(e){var t=parseFloat(e);t&&n(t/100)}}),(0,r.jsx)(O.z,{small:!0,transparent:!0,icon:"plus",title:"action_zoom_in",onClick:i.zoomIn})]}))};function $(e){return(+(100*e).toFixed(2)).toString()+"%"}var ee=function(){var e=(0,Z.bl)(),t=(0,Z.v4)(),n=(0,A.FV)(L.$o.scale),i=n[0],s=n[1],a=(0,A.sJ)(L.Dh.enabled),c=(0,A.sJ)(L.PE.enabled),u=(0,A.sJ)(L.WN.enabled);return(0,r.jsxs)("div",(0,o.pi)({className:"fl-panel fl-editor-footer"},{children:[(0,r.jsx)(Q,{value:i,onChange:s}),(0,r.jsx)(O.z,{title:(0,H.NC)(a?"disable_grid":"enable_grid"),icon:"border-all",transparent:!0,small:!0,active:a,onClick:t.toggleGrid}),(0,r.jsx)(O.z,{title:(0,H.NC)(u?"disable_ruler":"enable_ruler"),icon:"ruler-combined",transparent:!0,small:!0,active:u,onClick:e.toggleRuler}),(0,r.jsx)(O.z,{title:(0,H.NC)(c?"disable_guides":"enable_guides"),icon:"grip-lines-vertical",transparent:!0,small:!0,active:c,onClick:t.toggleGuides})]}))},te=n(6269),ne=function(e){var t=e.children,n=e.onClose,i=e.textClose,s=void 0===i?"back":i,a=e.align,c=e.className;return(0,r.jsxs)("div",(0,o.pi)({className:(0,h.cn)("fl-titlebar",n?"fl-closable":null,c),style:{justifyContent:"right"===a?"flex-end":void 0}},{children:[t,n&&(0,r.jsx)(O.z,(0,o.pi)({onClick:n,className:"fl-close",link:!0,icon:"chevron-left"},{children:(0,r.jsx)(te.L,{id:s})}))]}))},re=function(e){var t=e.title,n=e.className,i=e.onClose,s=e.children;return(0,r.jsxs)("div",(0,o.pi)({className:(0,h.cn)("fl-editview",n)},{children:[t&&(0,r.jsx)(ne,(0,o.pi)({onClose:i},{children:(0,r.jsx)(te.L,{id:t})})),s]}))},ie=function(e){var t=e.scroll,n=e.noPadding,i=e.className,s=e.children;return(0,r.jsx)("section",(0,o.pi)({className:(0,h.cn)(t&&"fl-scroll",n&&"fl-nopadding",i)},{children:s}))},oe=function(e){var t=e.children,n=e.separator,i=e.nowrap,s=e.header,a=e.className,c=e.style;return(0,r.jsxs)("div",(0,o.pi)({className:(0,h.cn)("fl-block",n&&"fl-block-sep",i&&"nowrap",a),style:c},{children:[(0,r.jsx)("div",(0,o.pi)({className:"fl-block-header"},{children:"string"==typeof s?(0,r.jsx)(te.L,{id:s}):s()})),n?(0,r.jsx)("div",(0,o.pi)({className:"fl-block-body"},{children:t})):t]}))},se=function(e){var t=e.children,n=e.className;return(0,r.jsx)("div",(0,o.pi)({className:(0,h.cn)("fl-block-group",n)},{children:t}))},ae=(n(1957),n(5873)),ce=n(5239);function ue(){switch((0,ce.EF)()){case ce.zL.XS:return 4;case ce.zL.SM:return 5;default:return 3}}var le,de=n(2846),fe=(0,A.cn)({key:"activeColorEditorIdState",default:null}),he=function(e){var t,n,i=e.id,a=e.hideAlpha,c=e.hideGradient,u=e.hideNullColor,l=e.color,d=e.onStartChange,f=e.onChange,h=e.onEndChange,p=(0,A.FV)(fe),v=p[0],g=p[1],m=(0,A.sJ)(L.qt.current).join(","),y=(0,Z.Oz)(),x=(0,L.Nd)(),b=(0,A.sJ)(de.I),w=v===i,C=(0,s.useCallback)((function(e){null==h||h(e),y.removeUnusedGradients(),x()}),[x,h,y]);return(0,s.useEffect)((function(){l&&y.addRecentColor(l)}),[w,m]),t=function(){l&&y.addRecentColor(l)},n=(0,s.useRef)(t),(0,s.useEffect)((function(){n.current=t}),[t]),(0,s.useEffect)((function(){return function(){n.current()}}),[]),(0,r.jsx)(ae.Vw,(0,o.pi)({localize:H.NC,hideHSV:!0,hideAlpha:a,hideGradient:c,hideNullColor:u,hideOnClick:!0,color:l,palette:b,active:w,nullColor:"none",onActiveChange:function(e){g(e?i:null)},onStartChange:d,onChange:f,onEndChange:C},{children:(0,r.jsx)(ae.Eo,{color:l})}))},pe=n(409),ve=n(9045),ge=(0,A.nZ)({key:"backgroundColorState",get:function(e){var t=(0,e.get)(L.zv.background);return t&&"none"!==t?{type:ae.Mr.SOLID,value:(0,ae.p9)("hex",t)}:ae.J6},set:function(e,t){var n=e.reset,r=e.set;t instanceof A.nY||t.type!==ae.Mr.SOLID?n(L.zv.background):r(L.zv.background,t.value.hex)}}),me=n(845),ye=n(2301),xe=(0,n(1753).y)({clientX:0,clientY:0,clientX1:0,clientY1:0,dragX:0,dragY:0}),be=(xe.get,xe.subscribe),we=function(e){var t=(0,ye.K)(e);xe.dispatch((function(e){return{clientX:t.clientX,clientY:t.clientY,clientX1:e.clientX1,clientY1:e.clientY1,dragX:t.clientX-e.clientX1,dragY:t.clientY-e.clientY1}}))},Ce=function(e){var t=(0,ye.K)(e);xe.set({clientX:t.clientX,clientY:t.clientY,clientX1:t.clientX,clientY1:t.clientY,dragX:0,dragY:0});var n=function(e){document.removeEventListener("mouseup",n)};document.addEventListener("mouseup",n)};document.addEventListener("touchmove",we),document.addEventListener("mousemove",we),document.addEventListener("touchstart",Ce),document.addEventListener("mousedown",Ce),function(e){e[e.INITIAL=0]="INITIAL",e[e.FOCUSED=1]="FOCUSED",e[e.DRAGGING=2]="DRAGGING",e[e.EDITING=4]="EDITING"}(le||(le={}));var _e,ke=le.INITIAL,Ee=le.EDITING,Se=le.DRAGGING,je=le.FOCUSED,Ne=function(e){e.format;var t=e.value,n=void 0===t?0:t,i=e.min,a=e.max,c=e.onChange,u=e.onChangeComplete,l=(0,s.useState)(ke),d=l[0],f=l[1],p=(d&Se)>0,v=(d&Ee)>0,g=(d&je)>0,m=(0,s.useRef)(n),y=(0,s.useRef)(n),x=(0,s.useRef)(null),b=(0,s.useRef)(null);(0,s.useEffect)((function(){var e=b.current;if(e){var t=function(e){e.preventDefault()};return e.addEventListener("touchmove",t,{passive:!1}),function(){e.removeEventListener("touchmove",t)}}}),[]),(0,s.useEffect)((function(){var e=x.current;e&&!p&&(e.value=n.toString(),m.current=n)}),[n,p]);var w=(0,s.useCallback)((function(e){var t=x.current;c&&t&&(isNaN(e)&&(e=0),void 0!==i&&(e=Math.max(e,i)),void 0!==a&&(e=Math.min(e,a)),t.value=(y.current=e).toString(),c(y.current=e))}),[c,a,i]),C=(0,s.useCallback)((function(){y.current!==m.current&&(m.current=y.current,u&&u(m.current))}),[u]),_=function(e){w(n+e),C()};(0,s.useEffect)((function(){if(p){var e=function(e){var t;null===(t=x.current)||void 0===t||t.focus(),requestAnimationFrame((function(){y.current!==m.current?(f(je),C()):e.target instanceof HTMLInputElement?(f(Ee|je),setTimeout((function(){var e;null===(e=x.current)||void 0===e||e.select()}))):f(je)})),n()};document.addEventListener("touchend",e),document.addEventListener("mouseup",e);var t=be((function(e){requestAnimationFrame((function(){e.dragY>3||e.dragY<-3?w(m.current-e.dragY+(e.dragY<0?-3:3)):w(m.current)}))})),n=function(){t(),document.removeEventListener("touchend",e),document.removeEventListener("mouseup",e)};return n}}),[p,w,C]);var k=(0,h.cn)("fl-numbox",p&&m.current!==n&&"fl-drag-v",g&&"fl-focused",v&&"fl-editing"),E=y.current!==m.current,S=v?void 0:function(e){f(Se|je)};return(0,r.jsxs)("div",(0,o.pi)({ref:b,tabIndex:0,className:k,onTouchStart:S,onMouseDown:S},{children:[(0,r.jsxs)("div",(0,o.pi)({className:"fl-numbox-arrows"},{children:[(0,r.jsx)(me.JO,{onClick:function(){return!E&&_(1)},fa:"chevron-up",className:"up"}),(0,r.jsx)(me.JO,{onClick:function(){return!E&&_(-1)},fa:"chevron-down",className:"down"})]})),(0,r.jsx)("div",(0,o.pi)({className:"fl-numbox-value"},{children:(0,r.jsx)("input",{readOnly:!v,ref:x,defaultValue:n,onKeyUp:function(e){return(13===e.keyCode||27===e.keyCode)&&e.currentTarget.blur()},onBlur:function(e){return w(+e.currentTarget.value),f(ke),C()}})}))]}))},Le=n(5554),Ae=n(7859),Oe=n(8701),Te=n(6964);function De(){var e=Pe();return _e||(e&&e.length>0&&(_e=(0,Te.vq)(e)),_e)}var Me,Re=(0,Ae.gR)(Oe.o),Pe=(0,Ae.o7)(Re,(function(e){return e.fonts})),Ie=(0,Ae.o7)(Re,(function(e){return e.categories})),Fe=n(8881),Ge=n(2987),ze=(Me=Promise.resolve(),{enqueue:function(e){return Me=Me.then(e)}}),Ue="M0 0Z",Ze=function(e){var t=e.fontSrc,n=e.fontFamily,i=e.fontWeight,a=e.fontStyle,c=e.fontSize,u=void 0===c?16:c,l=e.text,d=e.style,f=e.className,p=(0,s.useState)(null),v=p[0],g=p[1],m=(0,s.useState)({x:0,y:0,width:0,height:0}),y=m[0],x=m[1],b=(0,s.useRef)(null),w=y.x+" "+y.y+" "+y.width+" "+y.height,C=null!==v;return l.length>20&&(l=l.substr(0,20)+"..."),n&&(t=void 0),(0,s.useEffect)((function(){var e=!0;return ze.enqueue((function(){return Fe.XF.render({text:l,fontSize:u,fontSrc:t,fontFamily:n,fontWeight:i,fontStyle:a}).catch((function(e){return console.error(e),Ue}))})).then((function(t){e&&g(t)})),function(){e=!1}}),[l,t,i,n,a,u]),(0,s.useEffect)((function(){b.current&&v&&x(b.current.getBBox())}),[b,v]),C?v===Ue?(0,r.jsx)("span",(0,o.pi)({style:{fontFamily:n,fontWeight:i,fontStyle:a,whiteSpace:"nowrap"}},{children:l})):(0,r.jsx)("svg",(0,o.pi)({viewBox:w,height:y.height,className:(0,h.cn)("fl-textpath",f),version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:d},{children:v&&(0,r.jsx)("path",{ref:b,d:v})})):(0,r.jsx)(Ge.t,{})},Je=function(e){var t=e.font,n=e.fontFamily,i=e.fontStyle,s=e.fontWeight,a=e.defaultFont,c=e.editable,u=e.text,l=e.defaultText,d=e.renderAsPath,f=e.style,p=e.onClick,v=e.onMouseEnter,g=e.onMouseLeave;n=(null==t?void 0:t.family)||n||(null==a?void 0:a.family),i=(null==t?void 0:t.style)||i||(null==a?void 0:a.style),s=(null==t?void 0:t.weight)||s||(null==a?void 0:a.weight);var m=u||(null==t?void 0:t.family)||n||"",y=d&&null!=n;return l=l||m,(0,r.jsxs)("div",(0,o.pi)({className:(0,h.cn)("fl-fontcard",c&&"fl-editable"),onClick:p,onMouseEnter:v,onMouseLeave:g,style:f},{children:[(0,r.jsx)("div",(0,o.pi)({className:"fl-fontcard-preview",style:{fontFamily:n,fontStyle:i,fontWeight:s}},{children:y?(0,r.jsx)(Ze,{fontFamily:n,fontWeight:s,fontStyle:i,text:a?l:m}):m})),(0,r.jsx)("div",(0,o.pi)({className:"fl-fontcard-name"},{children:n})),c&&(0,r.jsx)(me.JO,{fa:"pen"})]}))},Be=function(){return(0,A.FV)(L.qt.computedAttrs)},Ke=(0,A.CG)({key:"objectAttrDeepState",get:function(e){return function(t){return(0,t.get)(L.zP.attribute(e))}},set:function(e){return function(t,n){var r=t.get,i=t.set,o=r(L.zP.children(e[0]));i(L.zP.attribute(e),n);for(var s=0,a=o;s<a.length;s++){var c=a[s];i(Ke([c,e[1]]),n)}}}}),Ye=(0,A.CG)({key:"targetAttrDeepState",get:function(e){return function(t){for(var n=t.get,r=0,i=n(L.qt.current).map((function(t){return n(L.zP.attribute([t,e]))}));r<i.length;r++){var o=i[r];if(null!=o)return o}return null}},set:function(e){return function(t,n){for(var r=t.get,i=t.set,o=0,s=r(L.qt.current);o<s.length;o++){var a=s[o];i(Ke([a,e]),n)}}}}),Ve=function(e){var t=e.attribute,n=(0,o._T)(e,["attribute"]),i=function(e){var t=(0,A.sJ)(L.qt.current).join(","),n=(0,s.useRef)(!1),r=(0,ve.ep)((0,de.jQ)(e),[e,t]),i=r[0],a=r[1],c=r[2];return(0,pe.w8)("navigate",(function(){n.current=!1,c()})),(0,s.useEffect)((function(){n.current=!1}),[e,t]),[i,(0,s.useCallback)((function(e){n.current||e.type!==ae.Mr.GRADIENT?a(e):(n.current=!0,a((0,o.pi)((0,o.pi)({},e),{value:(0,ae.X6)(e.value)})))}),[a])]}(t),a=i[0],c=i[1];return(0,r.jsx)(oe,(0,o.pi)({},n,{children:(0,r.jsx)(he,{id:t,color:a,onChange:c})}))},We=function(){var e,t=(0,L.Nd)(),n=(0,A.sJ)(L.qt.computedAttrs),i=(0,A.Zl)(Ye("stroke-width")),s=n.stroke,a=s&&"none"!==s?1:0,c=parseFloat(null!==(e=n["stroke-width"])&&void 0!==e?e:"1");return(0,r.jsxs)(se,{children:[(0,r.jsx)(Ve,{header:"fill",attribute:"fill"}),(0,r.jsx)(Ve,{header:"outline",attribute:"stroke"}),(0,r.jsx)(oe,(0,o.pi)({header:"outline_width",style:{opacity:a,pointerEvents:a?void 0:"none",transition:"opacity 0.3s"}},{children:(0,r.jsx)(Ne,{min:0,max:999,value:isNaN(c)?1:c,onChange:function(e){i(e.toString())},onChangeComplete:t})}))]})},He=function(){var e,t,n,i,a,c,u=(0,Z.sm)(),l=(0,Z.lU)(),d=(0,A.sJ)(L.qt.current),f=Be(),h=f[0],p=f[1],v=(0,pe.gU)(),g=h.text||"",m=De(),y=h["text-anchor"],x=+(null!==(e=h.offset)&&void 0!==e?e:0)||0,b=(0,s.useState)(null!==(t=h.text)&&void 0!==t?t:"")[0],w=(0,s.useRef)(null),C=null!==(n=h["font-family"])&&void 0!==n?n:void 0,_=null!==(i=h["font-weight"])&&void 0!==i?i:void 0,k=null!==(a=h["font-style"])&&void 0!==a?a:void 0,E=function(e){return Pe().filter((function(t){return t.family===e}))}(C||""),S=(0,Z.qH)(),j=(0,A.sJ)(L.Uk.hasBehavior("pathEditor")),T=(0,A.rb)(L.Uk.currentBehavior),D=(0,s.useMemo)((function(){return{bold:E.find((function(e){return"700"===e.weight})),noWeight:E.find((function(e){return"400"===e.weight})),italic:E.find((function(e){return"italic"===e.style})),noStyle:E.find((function(e){return"normal"===e.style}))}}),[E]),M=(0,A._8)((function(e){var t=e.snapshot;return e.reset,function(e){return(0,o.mG)(void 0,void 0,void 0,(function(){var n,r;return(0,o.Jh)(this,(function(i){switch(i.label){case 0:return n=!1,h.text?[3,2]:(r=d.filter((function(e){return!t.getLoadable(L.zP.attribute([e,"text"])).getValue()}))).length>0?[4,l.remove(r)]:[3,2];case 1:i.sent(),n=!0,i.label=2;case 2:return(e!==h.text||n)&&u.pushChange(),[2]}}))}))}}),[h,p,l,u]);!function(e){var t=(0,L.H5)();(0,N.I)("keydown",(function(n){var r=n.key;n.target instanceof HTMLDivElement&&n.target.id===t&&(!e.current||!r.match(/^[A-Z0-9]$/gi)&&"Backspace"!==r&&"Delete"!==r&&"Enter"!==r&&"Shift"!==r||n.ctrlKey||n.altKey||n.metaKey||("Tab"===r&&n.preventDefault(),e.current.focus(),e.current.select()))}),[e,t])}(w);var R=" ("+(0,H.NC)("unavailable_font_style")+")",P=!D.bold||!D.noWeight,I=!D.italic||!D.noStyle;return(0,r.jsxs)(re,(0,o.pi)({title:"edit_text"},{children:[(0,r.jsx)(oe,(0,o.pi)({header:"text"},{children:(0,r.jsx)(Le.z,{inputRef:w,autoSelect:!0,defaultValue:g,onChange:function(e){p({text:e})},onBlur:function(){M(b)}})})),(0,r.jsx)(oe,(0,o.pi)({header:"font"},{children:(0,r.jsx)(Je,{editable:!0,renderAsPath:!0,fontFamily:C,fontWeight:_,fontStyle:k,defaultFont:m,text:null!==(c=h.text)&&void 0!==c?c:"",onClick:function(){return v.setView("selectfont")}})})),(0,r.jsx)(We,{}),(0,r.jsxs)(se,{children:[(0,r.jsxs)(oe,(0,o.pi)({header:"style",nowrap:!0},{children:[(0,r.jsx)(O.z,{transparent:!0,icon:"bold",title:(0,H.NC)("bold")+(P?R:""),disabled:P,active:"700"===_,onClick:function(){var e,t="700"===_?"400":"700",n=null!=k?k:"normal",r=E.find((function(e){return e.style===n&&e.weight===t}))||E.find((function(e){return e.weight===t}));r&&p(((e={})["font-weight"]=r.weight,e["font-style"]=r.style,e))}}),(0,r.jsx)(O.z,{transparent:!0,icon:"italic",title:(0,H.NC)("italic")+(I?R:""),disabled:I,active:"italic"===k,onClick:function(){var e,t="italic"===k?"normal":"italic",n=null!=_?_:"400",r=E.find((function(e){return e.weight===n&&e.style===t}))||E.find((function(e){return e.style===t}));r&&p(((e={})["font-style"]=r.style,e["font-weight"]=r.weight,e))}})]})),(0,r.jsxs)(oe,(0,o.pi)({header:"alignment"},{children:[(0,r.jsx)(O.z,{transparent:!0,title:"align_left",icon:"align-left",onClick:S.alignTextLeft,active:"start"===y&&0===x}),(0,r.jsx)(O.z,{transparent:!0,title:"align_center",icon:"align-center",onClick:S.alignTextCenter,active:"middle"===y&&.5===x}),(0,r.jsx)(O.z,{transparent:!0,title:"align_right",icon:"align-right",onClick:S.alignTextRight,active:"end"===y&&1===x})]}))]}),(0,r.jsxs)(se,{children:[(0,r.jsx)(oe,(0,o.pi)({header:"letter_spacing"},{children:(0,r.jsx)(Ne,{min:0,max:999,value:+(h["letter-spacing"]||0),onChange:function(e){p({"letter-spacing":e.toString()})},onChangeComplete:u.pushChange})})),(0,r.jsx)(oe,(0,o.pi)({header:"action_editcurve"},{children:(0,r.jsx)(O.z,{transparent:!0,title:"action_editcurve",icon:"bezier-curve",onClick:j?T:S.editTextCurve,disabled:1!==d.length,active:j})}))]})]}))},Xe=n(3778),qe=function(e){var t,n,i,a=e.value,c=void 0===a?[]:a,u=e.onChange,l=void 0===u?function(){}:u,d=(0,s.useState)(0),f=d[0],h=d[1],p=function(){return h((function(e){return e+1}))},v=(0,A.sJ)(L.qt.current).join(","),g=(0,s.useRef)(new Map),m=(0,s.useRef)(),y=(0,A._8)((function(e){var t=e.snapshot;return function(){return m.current=t,g.current.clear(),t.retain()}}),[]),x=(0,A._8)((function(e){var t=e.set;return function(e,n){var r,i=g.current,o=m.current;null!=o&&(i.has(n)||i.set(n,null!==(r=function(e,t){var n;if(t.type===ae.Mr.SOLID){var r=t.value.rgb,i="rgba("+[r.r,r.g,r.b,null!==(n=r.a)&&void 0!==n?n:1].join(",")+")",o=e.getLoadable(L.qt.current).getValue();return e.getLoadable(L.$2.nodesWithColor([o,i])).valueMaybe()}}(o,e))&&void 0!==r?r:[]),t($e,i.get(n)))}}),[]),b=(t=(0,A.Zl)(et),32,n=[],i=(0,s.useRef)({mounted:!1,timer:0,delayedCallback:null}),(0,s.useEffect)((function(){return i.current.mounted=!0,function(){i.current.mounted=!1}}),[]),(0,s.useCallback)((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=i.current;if(0===r.timer){try{t.apply(void 0,e)}catch(e){console.error(e)}r.timer=setTimeout((function(){r.timer=0;var e=r.delayedCallback;if(null!==e){r.delayedCallback=null;try{e()}catch(e){console.error(e)}}}),32)}else r.delayedCallback=function(){return t.apply(void 0,e)}}),n));return(0,s.useEffect)((function(){var e=!0,t=y(),n=setTimeout((function(){var t=m.current;if(e&&t){var n=function(e){var t=e.getLoadable(L.qt.current).getValue();return e.getLoadable(t.length>0?L.$2.solidColorPaletteOf(t):L.$2.solidColorPalette).valueMaybe()}(t);n&&l((0,Xe.MR)(n,(function(e){return e.value.hsv.h})))}}));return function(){e=!1,g.current.clear(),t(),clearTimeout(n)}}),[f,v]),(0,pe.w8)("init",p),(0,pe.w8)("reset",p),(0,pe.w8)("navigate",p),0===c.length?null:(0,r.jsx)("div",(0,o.pi)({className:"fl-global-palette"},{children:c.map((function(e,t){return(0,r.jsx)(Qe,{index:t,initialColor:e,onChange:b,onStartChange:function(){return x(e,t)},onEndChange:function(e){l((function(n){var r=n.slice();return r[t]=e,r}))}},t)}))}))},Qe=function(e){var t=e.initialColor,n=e.index,i=e.onChange,o=e.onStartChange,a=e.onEndChange,c=(0,s.useState)(t),u=c[0],l=c[1];return(0,s.useEffect)((function(){t!==u&&l(t)}),[t]),(0,r.jsx)(he,{id:"global_color_"+n,hideGradient:!0,hideNullColor:!0,color:u,onStartChange:o,onChange:function(e){l(e),null==i||i(e)},onEndChange:a})},$e=(0,A.cn)({key:"globalPaletteTarget",default:[]}),et=((0,A.nZ)({key:"globalPalette",get:function(e){return(0,e.get)(L.$2.palette)}}),(0,A.nZ)({key:"globalPaletteColor",get:function(){return null},set:function(e,t){var n=e.set,r=e.get;if(!(t instanceof A.nY||t.type!==ae.Mr.SOLID))for(var i=t.value.rgb,o=void 0!==i.a,s=(o?"rgba(":"rgb(")+[i.r,i.g,i.b,i.a].join(",")+")",a=0,c=r($e);a<c.length;a++){var u=c[a],l=u[0],d=u[1];"stop-color"===d?(o&&n(L.zP.attribute([l,"stop-opacity"]),i.a.toString()),n(L.zP.attribute([l,d]),"rgb("+[i.r,i.g,i.b].join(",")+")")):n(L.zP.attribute([l,d]),s)}}}));function tt(e){switch(e){case"modern":return"Changa";case"storybook":return"Merriweather";case"handwritten":return"Galada";case"poster":return"Bungee";case"futuristic":return"Audiowide";case"rounded":return"Coiny";default:return}}var nt=function(e){var t=e.loading,n=e.onKeyPress,i=e.onSubmit,s=e.value,a=void 0===s?"":s,c=(0,o._T)(e,["loading","onKeyPress","onSubmit","value"]),u=function(e){i&&i(e)};return(0,r.jsxs)("div",(0,o.pi)({className:"fl-searchbox"},{children:[(0,r.jsx)(Le.z,(0,o.pi)({},c,{type:"search",value:a,onKeyPress:function(e){if("Enter"===e.key){var t=e.currentTarget;u(t.value),t.blur()}n&&n(e)}})),(0,r.jsx)(O.z,{primary:!0,loading:t,icon:"search",onClick:function(){return u(a)}})]}))},rt=n(8908),it=n(7699),ot=function(e){var t=e.children,n=e.activeIndex,i=e.className,a=e.style,c=(0,s.useRef)(null),u=(0,s.useRef)({lastIndex:n,direction:"right"}).current;return n!==u.lastIndex&&(u.direction=n>u.lastIndex?"left":"right",u.lastIndex=n),(0,r.jsx)("div",(0,o.pi)({ref:c,className:(0,h.cn)("fl-slideview",u.direction,i),style:a},{children:(0,r.jsx)(rt.Z,(0,o.pi)({component:null},{children:s.Children.map(t,(function(e,t){return n===t&&(0,r.jsx)(it.Z,(0,o.pi)({classNames:"slide",timeout:300},{children:e}),t)}))}))}))};function st(e,t,n){var r=(0,s.useCallback)(e,n||[]);(0,s.useEffect)((function(){var e=null,n=setTimeout((function(){return e=r()}),t);return function(){clearTimeout(n),null==e||e()}}),[t,r])}var at,ct,ut=n(7275),lt=n(9888),dt=n(1013),ft=function(e){var t=e.text,n=e.fonts,i=e.onItemClick,a=e.onItemEnter,c=e.onItemLeave,u=(0,s.useCallback)((function(e){var s=e.key,u=e.index,l=e.style,d=n[u];return(0,r.jsx)("div",(0,o.pi)({className:"fl-fontlist-item",style:l},{children:(0,r.jsx)(Je,{renderAsPath:!0,font:d,text:null!=t?t:void 0,onClick:function(){return i(d)},onMouseEnter:function(){return a&&a(d)},onMouseLeave:function(){return c&&c(d)}})}),s)}),[t,n,i,a,c]);return(0,r.jsx)(dt.qj,{children:function(e){var t=e.height,i=e.width;return(0,r.jsx)(dt.aV,{className:"fl-fontlist",height:t,rowCount:n.length,rowHeight:75,rowRenderer:u,width:i})}})},ht=function(e){var t=e.onGroupClick,n=Re((function(e){return e.pending})),i=Ie();return n?(0,r.jsx)(Ge.$,{}):(0,r.jsx)("ul",(0,o.pi)({className:"fl-fontgroups"},{children:i.map((function(e){return(0,r.jsx)("li",(0,o.pi)({onClick:function(){return t(e)}},{children:(0,r.jsx)(Ze,{text:(0,H.NC)(e.label),fontSize:24,fontFamily:tt(e.name)})}),e.id)}))}))},pt={default:function(){var e=(0,ce.EF)(),t=(0,s.useState)([]),n=t[0],i=t[1];return(0,r.jsxs)(re,(0,o.pi)({title:"editor_icon_edit"},{children:[e>ce.zL.SM&&(0,r.jsx)(oe,(0,o.pi)({separator:!0,header:"palette",style:{display:n.length>0?"block":"none"}},{children:(0,r.jsx)(qe,{value:n,onChange:i})})),(0,r.jsx)(We,{})]}))},svg:function(){var e=(0,ve.ep)(ge,[]),t=e[0],n=e[1],i=e[2];return(0,pe.w8)("navigate",i),(0,pe.w8)("commit",i),(0,r.jsx)(re,(0,o.pi)({title:"canvas"},{children:(0,r.jsx)(oe,(0,o.pi)({header:"background_color"},{children:(0,r.jsx)(he,{id:"background",hideAlpha:!0,hideGradient:!0,color:t,onChange:n})}))}))},"fl:textpath":He,text:He},vt={selectfont:function(e){var t,n,i,a=(0,Z.sm)(),c=Be(),u=c[0],l=c[1],d=(0,lt.Y)(),f=(0,pe.gU)(),h=null!==(t=u["font-family"])&&void 0!==t?t:void 0,p=null!==(n=u["font-weight"])&&void 0!==n?n:void 0,v=null!==(i=u["font-style"])&&void 0!==i?i:void 0,g=parseInt((0,ut.Wd)("fontcategory")||"0")||0,m=(0,s.useRef)(!1),y=(0,s.useState)((function(){return{family:h,weight:p,style:v}}))[0],x=function(e,t){void 0===e&&(e="400"),void 0===t&&(t="normal");var n=Pe();return(0,s.useMemo)((function(){for(var r={},i=[],o=0,s=n;o<s.length;o++){var a=s[o];(!r[a.family]||a.weight===e&&a.style===t)&&(r[a.family]=a)}for(var c in r)i.push(r[c]);return i}),[n,e,t])}(y.weight,y.style),b=(0,s.useState)(""),w=b[0],C=b[1],_=(0,s.useState)(w),k=_[0],E=_[1],S=(0,s.useMemo)((function(){return k?x.filter((function(e){return e.family.toLowerCase().indexOf(k.toLowerCase())>-1})):g?x.filter((function(e){return e.categoryId===g})):[]}),[x,k,g]),j=!!(g||S.length>0||k),N=(0,s.useCallback)((function(e){var t;l(((t={})["font-family"]=e.family,t["font-weight"]=e.weight,t["font-style"]=e.style,t["font-src"]=void 0,t))}),[l]),L=(0,s.useCallback)((function(e){m.current||N(e)}),[N]),A=(0,s.useCallback)((function(){var e;d.replaceQuery(((e={}).fontcategory=null,e))}),[d]);return(0,s.useEffect)((function(){return A}),[A]),st((function(){w!==k&&E(w.trim().replace(/\s+/g," "))}),300,[w,k]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(re,(0,o.pi)({title:"edit_font",className:"fl-font-editview",onClose:f.back},{children:[(0,r.jsx)(oe,(0,o.pi)({header:"edit_font_selected"},{children:(0,r.jsx)(Je,{renderAsPath:!0,fontFamily:h,fontWeight:p,fontStyle:v,text:u.text||(0,H.NC)("obj_name_text")})})),(0,r.jsxs)(ie,{children:[(0,r.jsx)(nt,{placeholder:"Search fonts",value:w,onChange:C}),j&&(0,r.jsx)(O.z,(0,o.pi)({small:!0,link:!0,icon:"chevron-left",onClick:function(){return C(""),E(""),A()}},{children:(0,r.jsx)(te.L,{id:"back"})}))]}),(0,r.jsxs)(ot,(0,o.pi)({activeIndex:j?1:0,style:{height:"100%"}},{children:[(0,r.jsx)(ie,(0,o.pi)({scroll:!0,className:"fl-fontgroups-section"},{children:(0,r.jsx)(oe,(0,o.pi)({header:"edit_font_style"},{children:(0,r.jsx)(ht,{onGroupClick:function(e){var t;d.pushQuery(((t={}).fontcategory=e?e.id:null,t))}})}))})),(0,r.jsx)(ie,(0,o.pi)({noPadding:!0,className:"fl-list-wrapper"},{children:(0,r.jsx)(ft,{text:u.text,fonts:S,onItemClick:function(e){m.current=!0,N(e),a.pushChange(),A(),f.back()},onItemEnter:L,onItemLeave:function(){return!m.current&&N(y)}})}))]}))]}))})}},gt=n(8978),mt=function(e){var t=e.children,n=e.title,i=e.fixed,s=e.overlay,a=e.active,c=e.transition,u=e.className;return function(e,t){return e?(0,r.jsx)(gt.u,{children:t}):t}(s,function(e,t,n){return t?(0,r.jsx)(rt.Z,(0,o.pi)({component:null},{children:n&&(0,r.jsx)(it.Z,(0,o.pi)({classNames:t,timeout:300},{children:e}))})):e}((0,r.jsxs)("div",(0,o.pi)({className:(0,h.cn)("fl-panel",i&&"fl-fixedpanel",s&&"fl-overlaypanel",u)},{children:[n&&(0,r.jsx)(yt,{title:n}),t]})),c,a))},yt=function(e){return(0,r.jsx)("div",(0,o.pi)({className:"fl-panel-header"},{children:e.title}))},xt=n(7364),bt=n(2674),wt=n(1465),Ct=n(1535),_t=(at=new Map,ct=function(e,t){return at.set(e,t),t},["rect","g","circle","ellipse","path","text","image","line","polyline","polygon","svg"].forEach((function(e){ct(e,(0,H.NC)("obj_name_"+e))})),ct("fl:textpath",(0,H.NC)("obj_name_text")),ct("fl:background",(0,H.NC)("obj_name_background")),{get:function(e){var t;return null!==(t=at.get(e))&&void 0!==t?t:ct(e,(0,H.NC)("obj_name_default"))},clear:function(){at.clear()},remove:function(e){at.delete(e)}}),kt=(0,A.CG)({key:"objectNameState",get:function(e){return function(t){var n,r=t.get,i=r(L.zP.type(e));return null!==(n=r(L.zP.attribute([e,"name"])))&&void 0!==n?n:_t.get(i)}},set:function(e){return function(t,n){(0,t.set)(L.zP.attribute([e,"name"]),n)}}}),Et=(0,A.nZ)({key:"layerViewObjectsState",get:function(e){var t=e.get,n=t(L.zv.documentId),r=t(L.zP.solidGraphics(n)),i=t(Nt),o=function(e,n,r){if(e.push({id:n,level:r,type:t(L.zP.type(n))}),!i[n])for(var s=0,a=t(L.zP.solidGraphics(n)).slice().reverse();s<a.length;s++){var c=a[s];o(e,c,r+1)}return e};return r.slice().reverse().reduce((function(e,t){return o(e,t,0)}),[])}}),St={},jt=(0,A.cn)({key:"_layerViewCollapsedObjectMap",default:{}}),Nt=(0,A.nZ)({key:"layerViewCollapsedObjectMap",get:function(e){return(0,e.get)(jt)},set:function(e,t){var n=e.set,r=e.get,i=t===St,o=function(e,n){var s=r(L.zP.type(n));"g"!==s&&"svg"!==s||(e[n]=!!t[n]||i);for(var a=0,c=r(L.zP.solidGraphics(n)).slice().reverse();a<c.length;a++){var u=c[a];o(e,u)}return e};n(jt,r(L.zv.solidGraphics).reduce((function(e,t){return o(e,t)}),{}))}}),Lt=(0,A.nZ)({key:"isAllCollapsedState",get:function(e){for(var t=e.get,n=t(jt),r=t(Et).filter((function(e){var t=e.type;return"g"===t||"svg"===t})),i=0,o=r;i<o.length;i++)if(!n[o[i].id])return!1;return!0}}),At=(0,A.nZ)({key:"targetLockedState",get:function(e){for(var t=e.get,n=0,r=t(L.qt.current);n<r.length;n++){var i=r[n];if(!t(L.zP.locked(i)))return!1}return!0},set:function(e,t){for(var n=e.set,r=0,i=(0,e.get)(L.qt.current);r<i.length;r++){var o=i[r];n(L.zP.locked(o),t)}}}),Ot=function(){var e,t,n=(0,A.sJ)(Et),i=(0,s.useRef)(null),a=(0,A.Zl)(L.qt.current),c=(0,s.useRef)({start:-1,target:[]}),u=(0,A.Zl)(Nt),l=(0,A.rb)(Nt),d=(0,A.sJ)(Lt),f=(0,s.useCallback)((function(e,t){c.current.start=e,c.current.target=t}),[c]),h=(0,s.useCallback)((function(e){var t=Math.min(c.current.start,e),r=Math.max(c.current.start,e)+1;return n.slice(t,r).map((function(e){return e.id}))}),[n]),p=(0,s.useCallback)((function(e){var t=Tt(e),r=n[t];if(r){var i=r.id,s=c.current;if(e.ctrlKey)a((function(e){var t=e.indexOf(i),n=t<0?(0,o.ev)((0,o.ev)([],e,!0),[i],!1):e.filter((function(e){return e!==i}));return f(t,n),n}));else if(e.shiftKey&&!e.altKey&&s.start>-1){var u=h(t);a((0,Xe.Nb)((0,o.ev)((0,o.ev)([],u,!0),s.target,!0)))}else if(e.altKey)if(e.shiftKey){var l=h(t);a(s.target.filter((function(e){return l.indexOf(e)<0})))}else a((function(e){var n=e.filter((function(e){return e!==i}));return f(t,n),n}));else{var d=[i];a(d),f(t,d)}}}),[h,n]),v=(0,A._8)((function(e){var t=e.snapshot,r=e.set;return function(e){var i=Tt(e),o=n[i];if(o){var s=t.getLoadable(L.qt.current).getValue(),a=o.id;if(s.indexOf(a)<0)r(L.zP.locked(a),(function(e){return!e}));else{var c=t.getLoadable(L.zP.locked(a)).getValue();r(At,!c)}}}}),[n]);e=i,t=(0,A.sJ)(L.qt.current),(0,s.useEffect)((function(){var t=document.querySelector(".fl-layersview-item.fl-selected"),n=e.current;if(t&&n){var r=t.offsetTop,i=n.scrollTop,o=n.getBoundingClientRect().height,s=t.offsetHeight;r<i?n.scrollTop=r:s<o&&r>i+o-s&&(n.scrollTop=r-o+s)}}),[t,e]);var g=(0,s.useCallback)((function(e){var t=e.index,r=e.style,i=e.key,a=n[t];return(0,s.createElement)(Dt,(0,o.pi)({},a,{key:i,style:r,index:t,onClick:p,onLock:v}))}),[n,p,v]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(O.z,{transparent:!0,className:"fl-layersview-collapse",icon:d?"plus-square":"minus-square",onClick:d?l:function(){return u(St)}}),(0,r.jsx)("div",(0,o.pi)({ref:i,className:"fl-layersview"},{children:(0,r.jsx)(wt.Z,{children:function(e){var t=e.width,i=e.height;return(0,r.jsx)(Ct.ZP,{overscanRowCount:0,rowCount:n.length,rowHeight:40,rowRenderer:g,height:i,width:t})}})}))]})};function Tt(e){return parseInt(e.currentTarget.getAttribute("data-i")||"-1")}var Dt=function(e){var t=e.id,n=e.level,i=e.index,s=e.style,a=e.onClick,c=e.onLock,u=(0,A.sJ)(L.qt.current),l=(0,A.sJ)(L.zP.type(t)),d="g"===l||"svg"===l,f=u.indexOf(t)>-1,p=(0,A.FV)(L.zP.locked(t)),v=p[0],g=(p[1],(0,A.FV)(Nt)),m=g[0],y=g[1],x=m[t];return(0,r.jsxs)("div",(0,o.pi)({"data-i":i,className:(0,h.cn)("fl-layersview-item",f&&"fl-selected"),style:(0,o.pi)({paddingLeft:16*(n+1)},s),onClick:a},{children:[(0,r.jsx)("div",(0,o.pi)({className:"fl-thumbnail"},{children:(0,r.jsx)(Rt,{objectId:t})})),(0,r.jsx)(Mt,{objectId:t,type:l}),(0,r.jsxs)("div",(0,o.pi)({className:"fl-componentlist-actions"},{children:[d&&(0,r.jsx)(me.JO,{fa:"folder",className:(0,h.cn)("fl-action fl-disabled fl-visible")}),(0,r.jsx)(me.JO,{"data-i":i,fa:v?"lock":"lock-open",className:(0,h.cn)("fl-action",v&&"fl-visible"),onClick:c}),d&&(0,r.jsx)(me.JO,{fa:x?"plus":"minus",className:"fl-action fl-visible",onClick:function(){return y((function(e){var n;return(0,o.pi)((0,o.pi)({},e),((n={})[t]=!e[t],n))}))}})]}))]}))},Mt=function(e){var t=e.objectId,n=(e.type,(0,A.FV)(kt(t))),i=n[0],a=n[1],c=(0,s.useRef)(i),u=(0,s.useState)(!1),l=u[0],d=u[1],f=function(){d(!1),c.current=i};return(0,r.jsx)("div",(0,o.pi)({className:"fl-layersview-name",onDoubleClick:function(e){e.ctrlKey||e.shiftKey||(d(!0),c.current=i)}},{children:l?(0,r.jsx)("form",(0,o.pi)({action:"#",onSubmit:function(e){e.preventDefault(),f()}},{children:(0,r.jsx)("input",{defaultValue:null!=i?i:"",onChange:function(e){a(e.currentTarget.value.trim().substr(0,50)||void 0)},onFocus:function(e){return e.currentTarget.select()},onBlur:function(){return d(!1)},onKeyUp:function(e){"Escape"===e.key&&(a(c.current),f())},autoFocus:!0})})):i}))},Rt=function(e){var t=e.objectId,n=e.style,i=e.className,o=(0,s.useState)({html:"",viewBox:void 0}),a=o[0],c=o[1],u=(0,A.sJ)(L.fC.version);return st((function(){var e=document.querySelector('[data-uid="'+t+'"]');if(e){var n=(0,xt.XL)(e),r=n.getAttribute("transform"),i=r&&function(e){var t,n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.setAttribute("transform",e),DOMMatrix.fromMatrix(null===(t=n.transform.baseVal.consolidate())||void 0===t?void 0:t.matrix)}(r),o=i?function(e,t){var n=Pt(e.x,e.y,t),r=Pt(e.x+e.width,e.y,t),i=Pt(e.x+e.width,e.y+e.height,t),o=Pt(e.x,e.y+e.height,t),s=Math.min(n.x,r.x,i.x,o.x),a=Math.min(n.y,r.y,i.y,o.y);return{x:s,y:a,width:Math.max(n.x,r.x,i.x,o.x)-s,height:Math.max(n.y,r.y,i.y,o.y)-a}}(e.getBBox(),i):e.getBBox(),s=[o.x,o.y,o.width,o.height].join(" ");(0,bt.PZ)(n,(function(e){e instanceof Element&&e.removeAttribute("data-uid")})),n.removeAttribute("id"),c({html:(0,xt.PL)(n),viewBox:s})}}),a.html?500:0,[u,t]),(0,r.jsx)("svg",{viewBox:a.viewBox,className:i,style:n,dangerouslySetInnerHTML:{__html:a.html}})};function Pt(e,t,n){var r=new DOMPoint;return r.x=e,r.y=t,r.matrixTransform(n)}var It=function(e){return(0,r.jsx)(re,(0,o.pi)({className:"fl-inspector"},{children:(0,r.jsx)(oe,(0,o.pi)({header:"items"},{children:(0,r.jsx)(Ot,{})}))}))},Ft=function(e){var t=e.active,n=(0,pe.gU)(),i=n.getView(),a=(0,ce.EF)()>ce.zL.SM,c=(0,A.sJ)(L.qt.current),u=function(e){var t=e&&vt[e]?vt[e]:null;return t&&(0,s.createElement)(t)}(i);return(0,s.useEffect)((function(){u&&0===c.length&&n.back()}),[c,u,n]),(0,r.jsxs)(mt,(0,o.pi)({fixed:!0,active:t,className:"fl-menuright",transition:"slide-left"},{children:[(0,r.jsx)(Gt,{}),a&&(0,r.jsx)(It,{}),(0,r.jsx)(mt,(0,o.pi)({fixed:!0,overlay:!0,active:!!u,transition:"slide-left",className:"fl-menuright-details"},{children:u}))]}))},Gt=function(){var e=(0,A.sJ)(L.qt.type),t=e&&pt[e]?pt[e]:pt.default;return(0,s.createElement)(t)},zt=n(4965),Ut=n(5807),Zt=n.p+"assets/cc5fcb3ed304c0469597.svg",Jt=n.p+"assets/1f91f9806c6513129b88.svg",Bt=n.p+"assets/a5d001b96d697d41b8ef.svg",Kt=n.p+"assets/7f7a9b81f54d9f56b21d.svg",Yt=n.p+"assets/0785b7edb2d56d96f846.svg",Vt=n.p+"assets/281b69f06ff59fe99a31.svg",Wt=n(3714),Ht=n(298),Xt=(0,s.forwardRef)((function(e,t){var n=e.children,i=e.disabled,a=e.className,c=e.onActivatorClick,u=e.onObfuscatorClick,l=e.component,d=void 0===l?O.z:l,f=(0,o._T)(e,["children","disabled","className","onActivatorClick","onObfuscatorClick","component"]),p=(0,s.useState)(!1),v=p[0],g=p[1];return(0,r.jsx)(Wt.U,(0,o.pi)({alignment:"bottom-center",obfuscator:!0,spacing:0,disabled:i,active:!i&&v,onChange:g,onClick:c,onObfuscatorClick:u,className:(0,h.cn)("fl-multibutton",a),render:function(){return(0,r.jsx)(Ht.v2,(0,o.pi)({onClick:function(){return g(!1)}},{children:n}))}},{children:(0,s.createElement)(d,(0,o.pi)((0,o.pi)({},f),{active:v,ref:t,disabled:i}))}))})),qt=function(e){var t=e.className,n=e.title,i=e.iconSvg,s=e.icon,a=e.children,c=e.onClick;return(0,r.jsxs)(Ht.sN,(0,o.pi)({className:(0,h.cn)("fl-multibutton-item",t),onClick:c},{children:[i?(0,r.jsx)(me.le,{src:i}):s?(0,r.jsx)(me.JO,{fa:s}):null,null!=n&&(0,r.jsx)("span",{children:n}),a]}))},Qt=(0,s.forwardRef)((function(e,t){var n=e.title,i=e.children,s=(0,o._T)(e,["title","children"]);return(0,r.jsx)(O.z,(0,o.pi)({small:!0,transparent:!0,title:n&&(0,H.NC)(n)},s,{ref:t},{children:i}))})),$t=(0,s.forwardRef)((function(e,t){var n=e.children,i=e.transparent,s=void 0===i||i,a=e.small,c=void 0===a||a,u=(0,o._T)(e,["children","transparent","small"]);return(0,r.jsx)(Xt,(0,o.pi)({component:Qt,transparent:s,small:c,ref:t},u,{children:n}))})),en=function(e){e.ref;var t=(0,o._T)(e,["ref"]),n=(0,Z.QZ)();return(0,r.jsxs)($t,(0,o.pi)({title:"action_alignment",iconSvg:Jt},t,{children:[(0,r.jsx)(qt,{title:(0,H.NC)("align_left"),iconSvg:Jt,onClick:n.alignLeft}),(0,r.jsx)(qt,{title:(0,H.NC)("align_center"),iconSvg:Zt,onClick:n.alignCenterX}),(0,r.jsx)(qt,{title:(0,H.NC)("align_right"),iconSvg:Bt,onClick:n.alignRight}),(0,r.jsx)(qt,{title:(0,H.NC)("align_top"),iconSvg:Vt,onClick:n.alignTop}),(0,r.jsx)(qt,{title:(0,H.NC)("align_middle"),iconSvg:Yt,onClick:n.alignCenterY}),(0,r.jsx)(qt,{title:(0,H.NC)("align_bottom"),iconSvg:Kt,onClick:n.alignBottom})]}))},tn=n.p+"assets/8ac7ae2ce8ec23d29c55.svg",nn=n.p+"assets/22f3c57551359890148c.svg",rn=n.p+"assets/28f9da993226311088f9.svg",on=n.p+"assets/673dbe7a168cccf23827.svg",sn=(0,s.forwardRef)((function(e,t){var n=(0,Z.QZ)();return(0,r.jsxs)($t,(0,o.pi)({title:"action_order",icon:"layer-group",small:!0,transparent:!0},e,{ref:t},{children:[(0,r.jsx)(qt,{title:(0,H.NC)("action_move_front"),iconSvg:on,onClick:n.moveToFront}),(0,r.jsx)(qt,{title:(0,H.NC)("action_move_forward"),iconSvg:rn,onClick:n.moveForward}),(0,r.jsx)(qt,{title:(0,H.NC)("action_move_backwards"),iconSvg:nn,onClick:n.moveBackwards}),(0,r.jsx)(qt,{title:(0,H.NC)("action_move_back"),iconSvg:tn,onClick:n.moveToBack})]}))})),an=n.p+"assets/a27e6b4dce4a1f8836e6.svg",cn=n.p+"assets/2f35a44d9102541402df.svg",un=(0,s.forwardRef)((function(e,t){var n=(0,Z.QZ)();return(0,r.jsxs)($t,(0,o.pi)({title:"action_rotate",iconSvg:an},e,{ref:t},{children:[(0,r.jsx)(qt,{title:(0,H.NC)("action_flip_h"),iconSvg:an,onClick:n.flipHorizontally}),(0,r.jsx)(qt,{title:(0,H.NC)("action_flip_v"),iconSvg:cn,onClick:n.flipVertically})]}))})),ln=function(){var e=(0,Z.Qu)(),t=(0,L.iC)(),n=(0,Z.sm)(),i=(0,Z.QZ)(),a=(0,A.sJ)(L.qt.current),u=(0,A.sJ)(L.qt.type),l=(0,A.sJ)(L.fC.isUndoDisabled),d=(0,A.sJ)(L.fC.isRedoDisabled),f=(0,A.sJ)(L.fC.isResetDisabled),h=(0,R.GJ)(),p=a.length,v=0===p,g=(0,s.useCallback)((function(){return(0,o.mG)(void 0,void 0,void 0,(function(){return(0,o.Jh)(this,(function(e){switch(e.label){case 0:return[4,(0,Ut.C9)("reset_logo")];case 1:return"confirm"===e.sent()&&n.reset(),[2]}}))}))}),[n]);return(0,r.jsxs)(mt,(0,o.pi)({className:"fl-toolbar"},{children:[(0,r.jsxs)("div",(0,o.pi)({className:"fl-toolbar-left fl-center-v"},{children:[(0,r.jsx)(Qt,{title:"action_undo",icon:"undo-alt",disabled:l,onClick:n.undo}),(0,r.jsx)(Qt,{title:"action_redo",icon:"redo-alt",disabled:d,onClick:n.redo}),(0,r.jsx)(Qt,(0,o.pi)({transparent:!1,disabled:f,onClick:g},{children:(0,r.jsx)(te.L,{id:"reset"})})),h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Qt,{style:{marginLeft:"10px"},title:"Code",transparent:!0,icon:"code",onClick:z}),(0,r.jsx)(Qt,{style:{marginLeft:"10px"},title:"Download SVG",transparent:!0,icon:"download",onClick:function(){return(0,o.mG)(void 0,void 0,void 0,(function(){var e,n;return(0,o.Jh)(this,(function(r){return e=t.renderToString(),(n=document.createElement("a")).href="data:application/octet-stream;charset=utf-16le;base64,"+(0,zt.h$)(e),n.download=((0,c.yF)("privateId")||"logo")+".svg",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n),n.click(),document.body.removeChild(n),[2]}))}))}})]}),(0,r.jsx)(dn,{})]})),(0,r.jsxs)("div",(0,o.pi)({className:"fl-toolbar-right fl-center-v"},{children:[h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Qt,{title:"Auto group",icon:"magic",onClick:e._autoGroup}),(0,r.jsx)(Qt,{title:"Reload canvas",icon:"crop",onClick:e.reinitializeFromCurrent})]}),(0,r.jsx)(en,{disabled:p<2}),(0,r.jsx)(sn,{disabled:v}),(0,r.jsx)(un,{disabled:v}),1===p?(0,r.jsx)(Qt,{title:"action_ungroup",icon:"object-ungroup",disabled:"g"!==u,onClick:i.ungroup}):(0,r.jsx)(Qt,{title:"action_group",icon:"object-group",disabled:p<2,onClick:i.group}),(0,r.jsx)(Qt,{title:"action_duplicate",icon:"copy",disabled:v,onClick:i.duplicate}),(0,r.jsx)(Qt,{title:"action_delete",danger:!0,icon:"trash",disabled:v,onClick:i.remove})]}))]}))},dn=function(){return(0,r.jsx)(p.W,{name:"reset_logo",title:"flowtab_reset_title",message:"flowtab_reset_confirmation",actions:[{key:"confirm",label:"reset"},{key:null,label:"cancel",primary:!0}]})},fn=n(288),hn=function(e){var t=e.cellRenderer,n=e.withCellContainer,i=e.columnCount,a=e.noContentRenderer,c=e.overscanColumnCount,u=void 0===c?2:c,l=e.overscanRowCount,d=e.rowCount,f=e.rowHeight,p=void 0===f?pn:f,v=e.scrollToRow,g=e.scrollToColumn,m=e.rowLoader,y=e.className;if("number"==typeof p){var x=p;p=function(){return x}}var b=(0,s.useRef)({lastScrollHeight:0,lastRowCount:d,loading:!1}),w=n?function(e){return(0,r.jsx)("div",(0,o.pi)({className:"fl-tilegrid-cell",style:e.style},{children:t((0,o.pi)((0,o.pi)({},e),{index:e.rowIndex*i+e.columnIndex}))}),e.key)}:function(e){return t((0,o.pi)((0,o.pi)({},e),{index:e.rowIndex*i+e.columnIndex}))},C=(0,s.useCallback)(w,[t,n,i]),_=(0,s.useCallback)((function(){return(0,o.mG)(void 0,void 0,void 0,(function(){return(0,o.Jh)(this,(function(e){switch(e.label){case 0:return m?[4,m()]:[2];case 1:return e.sent(),[2]}}))}))}),[m]),k=_&&function(e){b.current.lastScrollHeight!==e.scrollHeight&&0!==e.scrollTop&&0!==e.clientHeight&&e.scrollTop>=e.scrollHeight-e.clientHeight-32&&(b.current.lastScrollHeight=e.scrollHeight,_())},E=(0,s.useRef)();return(0,s.useEffect)((function(){var e=E.current;if(b.current.lastRowCount>d&&(b.current.lastScrollHeight=0),e&&e.props.height>0&&e.props.rowHeight>0){var t=e.props;t.height>=t.rowHeight*d&&_()}b.current.lastRowCount=d}),[d,_]),(0,r.jsx)(wt.q,{children:function(e){var t=e.width,n=e.height,o=(t-32)/i;return(0,r.jsx)(fn.rj,{ref:E,style:{overflowX:"hidden",padding:16},cellRenderer:C,className:(0,h.cn)("fl-tilegrid",y),columnCount:i,columnWidth:o,height:n,noContentRenderer:a,overscanColumnCount:u,overscanRowCount:l,rowHeight:Math.max(0,p(o)),rowCount:d,scrollToColumn:g,scrollToRow:v,onScroll:k,width:t})}})},pn=function(e){return e},vn=(0,s.forwardRef)((function(e,t){var n=e.children,i=e.className,s=(0,o._T)(e,["children","className"]);return(0,r.jsx)("div",(0,o.pi)({},s,{className:(0,h.cn)("fl-tile",i),ref:t},{children:n}))})),gn=n(7490),mn=n(7774),yn=n(5224),xn=(0,Ae.hs)(yn.G),bn=n(4413),wn=n(9675),Cn=n(3557),_n=function(e){var t=e.onIconClick,n=(0,s.useState)(wn.i)[0],i=xn(),a=i.icons,c=i.keywords,u=+((0,ut.Wd)("category")||"0"),l=(0,bn.o)(),d=ue(),h=(0,s.useMemo)((function(){return Math.ceil(a.length/d)}),[a,d]),p=(0,mn.U)(gn.UA,[]),v=p[0],g=p[1],m=(0,f.x)()||g,y=0===a.length&&0===c.length&&l.length>0,x=[{label:(0,H.NC)("icon_filter_".concat(gn.Tu.All)),value:gn.Tu.All.toString()},{label:(0,H.NC)("icon_filter_".concat(gn.Tu.Glyph)),value:gn.Tu.Glyph.toString()},{label:(0,H.NC)("icon_filter_".concat(gn.Tu.Line)),value:gn.Tu.Line.toString()},{label:(0,H.NC)("icon_filter_".concat(gn.Tu.Flat)),value:gn.Tu.Flat.toString()},{label:(0,H.NC)("icon_filter_".concat(gn.Tu.ColoredOutline)),value:gn.Tu.ColoredOutline.toString()},{label:(0,H.NC)("icon_filter_".concat(gn.Tu.Dualtone)),value:gn.Tu.Dualtone.toString()},{label:(0,H.NC)("icon_filter_".concat(gn.Tu.Rounded)),value:gn.Tu.Rounded.toString()},{label:(0,H.NC)("icon_filter_".concat(gn.Tu.Isometric)),value:gn.Tu.Isometric.toString()}],b=function(){(0,gn.X2)();var e=document.querySelector("#"+n+" .fl-tilegrid");e&&(e.scrollTop=0)};return(0,s.useEffect)((function(){if(y){var e=(0,H.NC)("category_"+Math.max(u,1)).trim().split(/\s+/g)[0];e&&(0,gn.X2)({keywords:[e]})}}),[y,u]),(0,r.jsxs)("div",(0,o.pi)({id:n,className:"fl-iconbrowser"},{children:[(0,r.jsxs)("div",(0,o.pi)({className:"fl-iconbrowser-header"},{children:[(0,r.jsx)(Cn.j,{value:i.type.toString(),onChange:function(e){(0,gn.Tv)(parseInt(e)),b()},options:x}),(0,r.jsx)(nt,{className:"fl-iconbrowser-search",loading:m,placeholder:(0,H.NC)("search"),value:i.search,onChange:gn.qP,onSubmit:b})]})),(0,r.jsxs)("div",(0,o.pi)({className:"fl-iconbrowser-body"},{children:[(0,r.jsx)(hn,{withCellContainer:!0,columnCount:d,rowCount:h,rowHeight:90,cellRenderer:function(e){var n=e.index,i=a[n],s=function(){return t(i)};return i&&(0,r.jsx)(w,(0,o.pi)({onDropped:s},{children:(0,r.jsx)(vn,(0,o.pi)({onClick:s},{children:(0,r.jsx)("img",{src:i.thumbnailUrl})}),i.id)}))},rowLoader:v}),(0,r.jsx)(S.f,{active:g})]}))]}))},kn=n(3238),En=function(){var e=(0,pe.gU)(),t=(0,Z.Qu)();return(0,r.jsxs)("section",{children:[(0,r.jsx)(ne,(0,o.pi)({onClose:e.back},{children:(0,r.jsx)(te.L,{id:"add_icon"})})),(0,r.jsx)(_n,{onIconClick:function(n){return(0,o.mG)(void 0,void 0,void 0,(function(){return(0,o.Jh)(this,(function(r){switch(r.label){case 0:return(0,kn.Qu)(n.id),[4,t.addPublicIcon(n.id)];case 1:return r.sent()&&e.back(),[2]}}))}))}})]})},Sn=n(8689),jn=n(1078),Nn=function(e){var t=e.onIconClick,n=(0,jn.F9)().shapes,i=ue(),a=(0,s.useMemo)((function(){return Math.ceil(n.length/i)}),[n,i]),c=(0,mn.U)(Sn.UA,[]),u=c[0],l=c[1];return(0,s.useEffect)((function(){0===(0,jn.Tk)().get().shapes.length&&Sn.aL({pageIndex:0})}),[]),(0,r.jsx)("div",(0,o.pi)({className:"fl-iconbrowser"},{children:(0,r.jsxs)("div",(0,o.pi)({className:"fl-iconbrowser-body"},{children:[(0,r.jsx)(hn,{withCellContainer:!0,columnCount:i,rowCount:a,rowHeight:90,cellRenderer:function(e){var i=e.index,s=n[i];return s&&(0,r.jsx)(vn,(0,o.pi)({onClick:function(){return t(s)}},{children:(0,r.jsx)("img",{src:s.url+"?v=thumb",crossOrigin:"anonymous"})}),"shape-"+s.id)},rowLoader:u}),(0,r.jsx)(S.f,{active:l})]}))}))};n(2012);var Ln=["filled","outlined"],An=function(){var e=(0,pe.gU)(),t=(0,Z.Qu)();return(0,r.jsxs)("section",{children:[(0,r.jsx)(ne,(0,o.pi)({onClose:e.back},{children:(0,r.jsx)(te.L,{id:"add_shape"})})),(0,r.jsx)(On,{}),(0,r.jsx)(Nn,{onIconClick:function(n){return(0,o.mG)(void 0,void 0,void 0,(function(){return(0,o.Jh)(this,(function(r){switch(r.label){case 0:return[4,t.addShapeIcon(n.id)];case 1:return r.sent(),e.back(),[2]}}))}))}})]})},On=function(){var e=(0,jn.F9)().filterTags,t=Ln,n=0===e.length?"all":e[0],i=(0,s.useMemo)((function(){return(0,o.ev)([{value:"all",label:(0,te.N)("all_styles")}],t.map((function(e){return{value:e,label:(0,te.N)(e)}})),!0)}),[t]);return(0,r.jsx)(Cn.j,{value:n,onChange:function(e){"string"==typeof e&&(0,Sn.aL)({filterTags:"all"===e?[]:[e]})},options:i})},Tn=n(3924),Dn=n(625),Mn=n(4289),Rn=function(e){var t=e.items,n=e.className,i=e.columnCount,a=void 0===i?1:i,c=e.onItemClick,u=e.rowLoader,l=e.companyName,d=(0,s.useMemo)((function(){return Math.ceil(t.length/a)}),[t,a]);return(0,r.jsx)(hn,{withCellContainer:!0,className:(0,h.cn)("fl-templategrid",n),columnCount:a,rowHeight:function(e){return.75*e},rowCount:d,cellRenderer:function(e){var n=e.index,i=e.parent,s=e.key,a=t[n],u=i.props.columnWidth,d=null==a?void 0:a.background;return a&&(0,r.jsxs)(vn,(0,o.pi)({style:{backgroundColor:d},onClick:function(){return c(a,n)}},{children:[l?(0,r.jsx)(Pn,{templateName:a.name,updatedAt:a.updatedAt,companyName:l,id:a.id}):(0,r.jsx)("img",{src:(0,Tn.MV)(a.name,u,a.updatedAt)}),(0,r.jsx)("div",(0,o.pi)({className:"fl-template-overlay"},{children:(0,r.jsx)(O.z,(0,o.pi)({primary:!0},{children:(0,r.jsx)(te.L,{id:"choose_btn"})}))}))]}),s+"-"+a.id)},rowLoader:u})},Pn=function(e){var t=e.id,n=e.templateName,i=e.updatedAt,a=e.companyName,c=(0,s.useState)(!1),u=c[0],l=c[1],d=function(e,t,n){var r=(0,s.useState)(""),i=r[0],o=r[1];return(0,s.useEffect)((function(){var r=!0;return(0,Tn.zE)(e,t).then((function(e){return n&&e?n(e):e})).then((function(e){r&&e&&o(e)})).catch((function(e){console.error(e)})),function(){r=!1}}),[e,n]),i}(n,i,(0,s.useCallback)((function(e){return(0,o.mG)(void 0,void 0,void 0,(function(){return(0,o.Jh)(this,(function(t){switch(t.label){case 0:return[4,(0,Mn.Ju)(e,a)];case 1:return[2,t.sent()]}}))}))}),[a])),f="__tmb-"+t;return(0,s.useEffect)((function(){if(a&&d&&!u){var e=!0,t=document.getElementById(f);return t instanceof SVGSVGElement&&(0,Dn.f)(t).then((function(){return e&&l(!0)})),function(){e=!1}}}),[a,d,f,u]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{style:{opacity:u?1:0,transition:"opacity 0.3s"},id:f,xmlns:xt.NS,viewBox:"0 0 512 512",dangerouslySetInnerHTML:{__html:d}}),!u&&(0,r.jsx)(Ge.t,{})]})};function In(e){(0,s.useEffect)((function(){(0,Tn.f7)({pageIndex:0,categoryId:null!==e?e:void 0})}),[e])}var Fn,Gn=function(e){var t=(0,bn.o)(),n=(0,s.useMemo)((function(){return(0,o.ev)([{value:"0",label:(0,H.NC)("category_all")}],t.map((function(e){return{value:e.id.toString(),label:(0,H.NC)("category_"+e.id)}})),!0)}),[t]);return(0,r.jsx)(Cn.j,(0,o.pi)({},e,{options:e.options||n}))},zn=function(){var e=(0,ut.Yd)("category",parseInt),t=e[0],n=e[2],i=(0,lt.Y)(),a=(0,bn.Z)((function(e){return e})).items,c=function(){return i.replaceQuery({view:null})},u=(0,Z.Qu)();return(0,s.useEffect)((function(){(0,Tn.Uy)()}),[]),In(t),(0,r.jsxs)("section",{children:[(0,r.jsx)(ne,(0,o.pi)({onClose:c},{children:(0,r.jsx)(te.L,{id:"add_logo"})})),(0,r.jsx)(Gn,{value:t.toString(),onChange:n}),(0,r.jsx)("div",{children:(0,r.jsx)(Rn,{items:a,rowLoader:Tn.m$,onItemClick:function(e){(0,Ut.C9)("add_logo_action",(function(t){return(0,o.mG)(void 0,void 0,void 0,(function(){return(0,o.Jh)(this,(function(n){switch(n.label){case 0:return"add"!==t?[3,2]:[4,u.addTemplate(e.name,e.updatedAt,!1)];case 1:return n.sent(),c(),[3,4];case 2:return"replace"!==t?[3,4]:[4,u.addTemplate(e.name,e.updatedAt,!0)];case 3:n.sent(),i.replaceQuery({view:null,template:e.name}),n.label=4;case 4:return[2]}}))}))}))}})}),(0,r.jsx)(p.W,{name:"add_logo_action",title:"add_logo",message:function(){return(0,r.jsxs)("div",(0,o.pi)({className:"fl-actionmodal-message"},{children:[(0,r.jsx)(te.L,{id:"add_logo_desc",component:"p"}),(0,r.jsx)(te.L,{id:"add_logo_warn",component:"p"})]}))},actions:[{key:"add",label:"add_logo",primary:!0},{key:"replace",label:"add_logo_replace"},{key:null,label:(0,te.N)("cancel")}]})]})},Un=function(e){return(0,r.jsx)(p.W,{name:"warning_new_purchase",title:"dialog_newpurchase_title",message:"dialog_newpurchase_message",actions:[{key:"confirm",primary:!1,label:"Save and make a copy"},{key:null,primary:!0,label:"Do nothing"}]})},Zn=function(e){var t=e.inputId,n=e.className,i=e.children,a=e.accept,c=e.disabled,u=e.onFilesChange,l=(0,s.useState)(t||wn.i)[0];return(0,r.jsxs)("label",(0,o.pi)({className:(0,h.cn)("fl-fileselect",n),htmlFor:l},{children:[i,(0,r.jsx)("input",{id:l,type:"file",accept:a,disabled:c,onChange:function(e){var t;if(u){for(var n=e.currentTarget.files,r=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0,i=new Array(r),o=0;o<r;o++)i[o]=new Jn(n.item(o));u(i,e)}}})]}))},Jn=function(){function e(e){if(this.file=e,!(e instanceof File))throw new Error("file cannot be null");this.file=e}return e.prototype.text=function(){var e=this.file;return new Promise((function(t,n){var r=new FileReader;r.readAsText(e,"UTF-8"),r.onload=function(e){var n,r=(null===(n=e.target)||void 0===n?void 0:n.result)||"";t("string"==typeof r?r:r.toString())},r.onerror=function(e){n(new Error("error reading file"))}}))},e.prototype.toFile=function(){return this.file},e}();!function(e){e.SHAPES="shapes",e.ICONS="icons",e.LOGOS="logos"}(Fn||(Fn={}));var Bn=function(e){var t=e.active,n=(0,ut.tA)("view"),i=n[0],a=n[1],c=function(e){switch(e){case Fn.SHAPES:return(0,r.jsx)(An,{});case Fn.ICONS:return(0,r.jsx)(En,{});case Fn.LOGOS:return(0,r.jsx)(zn,{});default:return null}}(i),u=!!c,l=(0,s.useState)(!1),d=l[0],f=l[1],h=(0,s.useCallback)((function(e){e?a(null):f(!0)}),[a]);return(0,pe.X5)(h,!u),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(mt,(0,o.pi)({fixed:!0,active:u&&d,className:"fl-menuleft-submenu",transition:"slide-right"},{children:c})),(0,r.jsx)(mt,(0,o.pi)({fixed:!0,active:t,className:"fl-menuleft",transition:"slide-right"},{children:(0,r.jsx)(Kn,{})})),(0,r.jsx)(Un,{})]})},Kn=function(){var e=(0,pe.gU)(),t=(0,s.useMemo)((function(){return[{name:"text",text:"add_text",icon:"font"},{name:Fn.ICONS,text:"add_icon",icon:"globe"},{name:Fn.SHAPES,text:"add_shape",icon:"star"},{name:Fn.LOGOS,text:"add_logo",icon:"image"}]}),[]),n=(0,Z.Qu)(),i=(0,Z.lU)(),a=(0,Z.sm)(),c=(0,mn.U)(n.addText,[n]),u=c[0],l=c[1],d=e.back,f=(0,s.useCallback)((function(t,n){switch(t.name){case Fn.SHAPES:case Fn.ICONS:case Fn.LOGOS:e.getView()!==t.name?e.setView(t.name):e.back();break;case"text":u((0,H.NC)("new_text")),d();break;default:d()}}),[e,d,u]),h=(0,mn.U)((function(e){return(0,o.mG)(void 0,void 0,void 0,(function(){var t,n,r,s;return(0,o.Jh)(this,(function(o){switch(o.label){case 0:return[4,Promise.all(e.map((function(e){return e.text()})))];case 1:t=o.sent(),n=0,r=t,o.label=2;case 2:return n<r.length?(s=r[n],[4,i.append(s)]):[3,5];case 3:o.sent(),a.pushChange(),o.label=4;case 4:return n++,[3,2];case 5:return[2]}}))}))}),[i,a]),p=h[0],v=h[1];return(0,r.jsxs)(Ht.v2,{children:[t.map((function(t,n){return(0,r.jsx)(Ht.sN,(0,o.pi)({icon:t.icon,onClick:function(e){return f(t,e)},disabled:l,active:e.getView()===t.name},{children:(0,r.jsx)(te.L,{id:t.text})}),n)})),(0,R.GJ)()&&(0,r.jsxs)(Zn,(0,o.pi)({className:"fl-menu-item",onFilesChange:v?void 0:p},{children:[(0,r.jsx)(me.JO,{fa:"file-import"}),(0,r.jsx)("span",{children:"Add file"})]}))]})},Yn=n(9635),Vn=[{name:"main",label:"Create"},{name:"edit",label:"Edit"}],Wn=function(e){var t=e.activeTab,n=e.onChange,i=function(e){var r=e.currentTarget.getAttribute("data-tab");n&&r&&r!==t&&n(r)};return(0,r.jsx)("div",(0,o.pi)({className:"fl-viewtabs"},{children:Vn.map((function(e){return(0,s.createElement)(Hn,(0,o.pi)({},e,{className:"fl-middle",key:e.name,active:t===e.name,onClick:i}),(0,r.jsx)(te.L,{id:e.label}))}))}))},Hn=function(e){var t=e.name,n=e.active,i=e.className,s=e.onClick,a=e.children;return(0,r.jsx)("div",(0,o.pi)({"data-tab":t,className:(0,h.cn)("fl-tab",i,n&&"fl-active"),onClick:s},{children:a}))},Xn=n(4405),qn=function(e){var t=e.title,n=e.active,i=e.children,a=e.skin,c=void 0===a?"default":a,u=e.timeout,l=void 0===u?300:u,d=e.onClick,f=e.onChange,p=(0,s.useState)(!1),v=p[0],g=p[1],m="boolean"==typeof n,y=m?n:v;return(0,r.jsxs)("div",(0,o.pi)({className:(0,h.cn)("fl-accordion","fl-accordion-"+c,y&&"fl-active")},{children:[(0,r.jsx)("div",(0,o.pi)({className:"fl-accordion-header",onClick:function(e){d&&d(e),m&&f?f(!n):g(!v)}},{children:"function"==typeof t?(0,s.createElement)(t):t})),(0,r.jsx)(rt.Z,(0,o.pi)({component:null},{children:y&&(0,r.jsx)(it.Z,(0,o.pi)({classNames:"grow-vertical",timeout:l},{children:(0,r.jsx)("div",(0,o.pi)({className:"fl-accordion-body",style:{transitionDuration:l+"ms"}},{children:i}))}))}))]}))},Qn=n(9744),$n=n(614),er=n(1890),tr=function(){var e=(0,s.useMemo)((function(){for(var e=[],t=0;t<11;t++){var n=t+1;e.push({title:"faq_question_"+n,content:"faq_answer_"+n})}return e}),[]),t=(0,s.useState)(!1),n=t[0],i=t[1],a=(0,s.useState)(-1),c=a[0],u=a[1],l=function(){return i(!1)};return(0,r.jsxs)(gt.u,{children:[n&&(0,r.jsx)("div",{className:"fl-obfuscator fl-faq-obfuscator",onClick:l}),(0,r.jsxs)("div",(0,o.pi)({className:(0,h.cn)("fl-faq",n&&"fl-active")},{children:[(0,r.jsx)("div",(0,o.pi)({className:"fl-faq-header"},{children:(0,r.jsxs)($n.X,{children:[(0,r.jsx)(te.L,{id:"faq_help"}),(0,r.jsx)(me.le,{src:er,className:"fl-close",onClick:l})]})})),(0,r.jsx)(Qn.ZP,(0,o.pi)({className:"fl-faq-content"},{children:e.map((function(e,t){return(0,r.jsx)(qn,(0,o.pi)({title:(0,H.NC)(e.title),active:c===t,onChange:function(e){return u(e?t:-1)}},{children:(0,r.jsx)(te.L,{id:e.content,html:!0,component:"p"})}),t)}))})),(0,r.jsx)(nr,{onClick:function(){return i(!n)}})]}))]})},nr=(0,s.memo)((function(e){var t=e.onClick;return(0,r.jsx)("div",(0,o.pi)({className:"fl-faq-button",onClick:t},{children:(0,H.NC)("faq").split("").map((function(e,t){return(0,r.jsx)("span",{children:e},t)}))}))})),rr=n(6004),ir=n(3813),or=function(e){var t=e.tab,n=e.onChange,i=(0,A.sJ)(L.qt.current).join("");return(0,s.useEffect)((function(){"edit"!==(0,Xn.Ph)("tab")&&i&&n("edit")}),[i,n]),(0,r.jsx)(Wn,{activeTab:t,onChange:n})},sr=function(e){var t=e.mode,n=void 0===t?"logo":t,i=(0,Yn.UO)().logoAction,a=(0,ce.EF)(),u=(0,ut.Yd)("tab",(function(e){return e||"main"})),f=u[0],h=u[1],v=a>ce.zL.SM,g=(0,rr.N)(),y=g[0],x=g[1];return(0,pe.PU)(),(0,pe.I_)(),(0,s.useEffect)((function(){return y((function(){return(0,o.mG)(void 0,void 0,void 0,(function(){return(0,o.Jh)(this,(function(e){switch(e.label){case 0:return(0,c.F6)()?[3,2]:[4,(0,Ut.C9)("reminder_create_account")];case 1:"create"===e.sent()&&(0,ir._O)(),e.label=2;case 2:return[2]}}))}))}),9e5),x}),[]),(0,r.jsxs)(m.T,(0,o.pi)({className:"fl-editor-page"},{children:[i&&(0,r.jsx)(d.h,(0,o.pi)({to:"pcMenu"},{children:"template"!==n?(0,r.jsx)(l.HS,{}):(0,r.jsx)(l.dg,{})})),(0,r.jsx)(ln,{}),(0,r.jsx)(V,{}),(0,r.jsx)(Bn,{active:"main"===f||v}),(0,r.jsx)(Ft,{active:"edit"===f||v}),!v&&(0,r.jsx)(or,{tab:f,onChange:h}),(0,r.jsx)(ee,{}),(0,r.jsx)(tr,{}),(0,r.jsx)(I,{}),(0,r.jsx)(p.W,{name:"reminder_create_account",title:"reminder_create_account_title",message:function(){return(0,r.jsx)("div",(0,o.pi)({className:"fl-actionmodal-message"},{children:(0,r.jsx)(te.L,{id:"reminder_create_account_desc",component:"p"})}))},actions:[{key:"create",label:"reminder_create_account_create",primary:!0},{key:null,label:"reminder_create_account_cancel"}]})]}))},ar=function(e){return(0,r.jsx)(Yn.l_,{to:u.n.route(e.to,e.params,e.query)})},cr=(0,s.forwardRef)((function(e,t){return(0,r.jsx)(Qn.LW,(0,o.pi)({},e,{ref:t,wrapperProps:ur,trackXProps:lr,trackYProps:lr,thumbXProps:dr,thumbYProps:dr}))})),ur={renderer:function(e){var t=e.elementRef,n=e.style,i=(0,o._T)(e,["elementRef","style"]),s=(0,o.pi)((0,o.pi)({},n),{right:n.right?12:0,bottom:n.bottom?12:0});return(0,r.jsx)("div",(0,o.pi)({},i,{ref:t,style:s,className:"fl-scrollbar-wrapper"}))}},lr={renderer:function(e){var t=e.elementRef,n=e.style,i=(0,o._T)(e,["elementRef","style"]),s=(0,o.pi)((0,o.pi)({},n),{top:0,background:void 0});return"x"===i.axis?(s.height=12,s.width="100%"):(s.height="100%",s.width=12),(0,r.jsx)("span",(0,o.pi)({},i,{ref:t,style:s,className:"fl-scrollbar-track"}))}},dr={renderer:function(e){var t=e.elementRef,n=e.style,i=(0,o._T)(e,["elementRef","style"]),s=(0,o.pi)((0,o.pi)({},n),{background:void 0});return"x"===i.axis?s.height=12:s.width=12,(0,r.jsx)("span",(0,o.pi)({},i,{ref:t,className:"fl-scrollbar-thumb",style:s}))}},fr=function(e){var t=e.companyName,n=e.activeCategory,i=e.onActiveCategoryChange,a=e.onIconClick,c=(0,bn.Z)((function(e){return e})),u=c.items,l=c.categoryId,d=(0,ce.EF)(),f=function(e){return e===ce.zL.XS?2:3}(d),h=(0,s.useState)(!1),p=h[0],v=h[1],g=(0,s.useState)(!1),m=g[0],y=g[1];In(n);var x=function(e){v(!0),a(e)};return(0,r.jsxs)("div",(0,o.pi)({className:"fl-templatebrowser"},{children:[(0,r.jsx)(S.f,{active:p}),!p&&(0,r.jsx)(rt.Z,(0,o.pi)({component:null},{children:(m||d>ce.zL.XS)&&(0,r.jsx)(it.Z,(0,o.pi)({classNames:"slide-right",timeout:300},{children:(0,r.jsx)(hr,{activeCategory:n,onActiveCategoryChange:i,onIconClick:x,onClose:function(){return y(!1)}})}))})),(0,r.jsx)(rt.Z,(0,o.pi)({component:null},{children:!p&&(0,r.jsx)(it.Z,(0,o.pi)({classNames:d>ce.zL.XS?"fade":"slide-right",timeout:300},{children:(0,r.jsxs)("div",(0,o.pi)({className:"fl-templatebrowser-body"},{children:[(0,r.jsxs)(ne,(0,o.pi)({textClose:"close",onClose:function(){return x(null)}},{children:[(0,r.jsx)(te.L,{id:"category_"+(l||"all")}),(0,r.jsx)(O.z,(0,o.pi)({link:!0,className:"hide-sm",onClick:function(){return y(!0)}},{children:(0,r.jsx)(te.L,{id:"categories"})}))]})),(0,r.jsx)(Rn,{companyName:t,items:u,columnCount:f,rowLoader:Tn.m$,onItemClick:x})]}))}))}))]}))},hr=function(e){var t=e.onClose,n=e.activeCategory,i=e.onActiveCategoryChange,a=e.onIconClick,c=(0,bn.o)(),u=(0,s.useState)(-1),l=u[0],d=u[1],f=(0,s.useRef)(!1);(0,s.useEffect)((function(){if(!f.current&&c&&n){var e=document.querySelector('[data-cid="'+n+'"]');e&&(f.current=!0,d(e.offsetTop))}}),[n,c]);var h=function(e){var n=parseInt(e.currentTarget.getAttribute("data-cid"));null!=n&&(i(n),t())};return(0,r.jsxs)(Ht.v2,(0,o.pi)({className:"fl-templatebrowser-menu"},{children:[(0,r.jsx)(ne,(0,o.pi)({textClose:"close",onClose:t},{children:(0,r.jsx)(te.L,{id:"create_new_logo",component:"h1",className:"fl-titlebar-label"})})),(0,r.jsxs)(cr,(0,o.pi)({id:"templateBrowserMenuScroll",scrollTop:l,onScroll:function(e){var t=e.scrollTop;return d(t)}},{children:[(0,r.jsx)(Ht.sN,(0,o.pi)({className:"fl-buttonitem",active:!n},{children:(0,r.jsx)(O.z,(0,o.pi)({primary:!0,onClick:function(){return a(null)}},{children:(0,r.jsx)(te.L,{id:"start_no_template"})}))})),(0,r.jsx)(Ht.sN,(0,o.pi)({active:!n,onClick:function(){return i(0),t()}},{children:(0,H.NC)("category_all")})),c.map((function(e){var t;return(0,s.createElement)(Ht.sN,(0,o.pi)({},((t={})["data-cid"]=e.id,t),{key:"category-"+e.id,active:e.id===n,onClick:h}),(0,H.NC)("category_"+e.id))}))]}))]}))},pr=function(e){var t=(0,ut.Wd)("companyName"),n=(0,ut.Yd)("category"),i=n[0],s=(n[1],n[2]);return(0,r.jsx)(m.T,(0,o.pi)({className:"fl-welcome-page"},{children:(0,r.jsx)(fr,{companyName:t,activeCategory:null!=i?parseInt(i):null,onActiveCategoryChange:function(e){return s(null!=e?e.toString():e)},onIconClick:function(e){return(0,o.mG)(void 0,void 0,void 0,(function(){return(0,o.Jh)(this,(function(t){return location.href=u.n.createLogo(e&&e.name,location.search),[2]}))}))}})}))},vr=(0,s.lazy)((function(){return Promise.all([n.e(837),n.e(354)]).then(n.bind(n,3962))}));u.n.routes.configure({defaults:{layout:g}},[{name:"HOME_DEFAULT",path:"/",exact:!0,layout:yr,component:pr},{name:"HOME_EN",path:"/en",exact:!0,component:function(){return(0,s.createElement)(ar,{to:"HOME_DEFAULT",params:{lang:(0,c.Rd)("lang").toLowerCase()}})}},{name:"HOME",path:"/:lang",exact:!0,rewrite:function(e,t){return"en"===t.lang?u.n.route("HOME_DEFAULT"):e},layout:yr,component:pr},{name:"CREATE",path:"/:lang/logo/create",exact:!0,component:function(e){e.match;var t=e.location,n=(0,c.yF)("privateId");return n?(0,s.createElement)(ar,{to:"LOGO_ACTION",params:{logoAction:"create",lang:(0,c.Rd)("lang").toLowerCase(),privateId:n},query:t.search}):mr()}},{name:"LOGO_ACTION",path:"/:lang/:mode/:logoAction/:privateId",component:function(e){var t=(0,Xn.Ph)("view",e.location.search),n=e.match.params.mode;return gr.indexOf(n)<0?(0,s.createElement)(mr):"preview"===t?(0,s.createElement)(vr,e):(0,s.createElement)(sr,{mode:n})}},{component:mr}]);var gr=["logo","template"];function mr(){return(0,s.createElement)("h1",null,"404 Page not found")}function yr(e){return(0,s.createElement)(g,(0,o.pi)((0,o.pi)({},e),{className:(0,h.cn)(e.className,"fl-welcome")}),e.children)}var xr=n(8456),br=n(5780),wr=n.n(br),Cr=n(5994),_r=n.n(Cr),kr=n(1701),Er=function(e){return void 0===e&&(e=function(e){return e}),(0,kr.j)((function(t){return e((0,o.pi)((0,o.pi)({},t),{baseUrl:(0,c.Rd)("basePath")}))}))},Sr=n(5516),jr=(Er(),Er((function(e){return(0,o.pi)((0,o.pi)({},e),{baseUrl:(0,c.Rd)("urls").manager})})),Er((function(e){e.baseUrl=(0,c.Rd)("urls").website;var t=e.middleware;return(0,o.pi)((0,o.pi)({},e),{middleware:function(e){var n=t(e);return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.apply(void 0,e).then((function(e){return e.ok&&e.data&&e.data.obj&&(e.data=e.data.obj),e}))}}})})),function(e){var t=e.children,n=function(){var e=(0,s.useState)(null!=B),t=e[0],n=e[1];return(0,s.useEffect)((function(){t||J.then((function(){n(null!=B)}))}),[t]),B}();return n&&(0,r.jsx)(L.fm,(0,o.pi)({config:n,plugins:[L.vo]},{children:(0,r.jsx)(Z.uf,{children:t()})}))});function Nr(e){return(0,r.jsx)(Yn.AW,{path:e.path,exact:e.exact,render:function(t){var n=(0,r.jsx)(s.Suspense,(0,o.pi)({fallback:(0,r.jsx)(S.f,{active:!0,fullscreen:!0,large:!0})},{children:(0,r.jsx)(e.component,(0,o.pi)({},t,{routes:e.routes}))}));return e.layout?(0,r.jsx)(e.layout,{children:n}):n}})}var Lr=n(1718),Ar=n(6155),Or=n(8501),Tr=function(e){var t=e.children,n=e.className;return(0,r.jsx)("code",(0,o.pi)({className:(0,h.cn)("fl-codeblock",n)},{children:t}))},Dr=function(e){var t=e.type,n=void 0===t?Or.k$.DEFAULT:t,i=e.timeout,a=void 0===i?3e3:i,c=e.children,u=e.onClick,l=e.onDismiss,d=e.onMouseEnter,f=e.onMouseLeave,p=(0,s.useMemo)((function(){if(n){var e=Or.k$[n];return e&&"fl-notification-"+e.toLowerCase()}}),[n]);return(0,s.useEffect)((function(){if(!(a<=0)&&l){var e=setTimeout(l,a);return function(){clearTimeout(e)}}}),[a,l]),(0,r.jsxs)("div",(0,o.pi)({className:(0,h.cn)("fl-notification",p),onClick:function(e){u&&u(e),!e.defaultPrevented&&l&&l()},onMouseEnter:d,onMouseLeave:f},{children:[n?(0,r.jsx)(Mr,{type:n}):void 0,(0,r.jsx)("div",(0,o.pi)({className:"fl-notification-body"},{children:c}))]}))},Mr=function(e){var t=e.type,n=(0,s.useMemo)((function(){return t===Or.k$.SUCCESS?"check-circle":t===Or.k$.ERROR?"exclamation-circle":"info-circle"}),[t]);return(0,r.jsx)(me.JO,{fa:n})},Rr=function(e){var t,n=(t=(0,Or.tl)().items,(0,s.useMemo)((function(){for(var e=[],n=[],r=0,i=t;r<i.length;r++){var o=i[r];o.type===Or.k$.ERROR?e.push(o):n.push(o)}return{errors:e,infos:n}}),[t])),i=(0,s.useMemo)((function(){return n.infos.slice(0,3)}),[n]),a=(0,Ae.wN)(Lr.G);return(0,r.jsx)(gt.u,{children:(0,r.jsx)("div",(0,o.pi)({className:"fl-notifications"},{children:(0,r.jsxs)(rt.Z,(0,o.pi)({component:"div",className:"fl-notifications-inner"},{children:[a.map((function(e,t){return(0,r.jsx)(it.Z,(0,o.pi)({classNames:"toast-top",timeout:300},{children:(0,r.jsx)(Ir,{error:e,onClick:function(e){return e.preventDefault()},onDismiss:function(){return Lr.G.remove(t)}},t)}),"error-"+t)})),i.map((function(e,t){var n=e.message,i=e.type,s=e.timeout,a=e.dismiss,c=function(){return Ar.FV(t)};return(0,r.jsx)(it.Z,(0,o.pi)({classNames:"toast-top",timeout:300},{children:(0,r.jsxs)(Dr,(0,o.pi)({type:i,timeout:s,onDismiss:c},{children:[n,"string"==typeof a&&(0,r.jsx)("div",(0,o.pi)({className:"fl-notification-actions"},{children:(0,r.jsx)(O.z,(0,o.pi)({link:!0,primary:!0,onClick:c},{children:(0,r.jsx)(te.L,{id:a})}))}))]}))}),"notif-"+t)}))]}))}))})},Pr="error_unexpected_title",Ir=function(e){var t=e.error,n=e.onDismiss,i=(0,o._T)(e,["error","onDismiss"]),a=(0,s.useState)(!1),c=a[0],u=a[1],l="validation_error"!==t.name;return(0,r.jsxs)(Dr,(0,o.pi)({},i,{timeout:0,type:Or.k$.ERROR},{children:[l?(0,r.jsx)(te.L,{id:Pr}):(0,r.jsx)("span",{children:t.message||(0,te.N)(Pr)}),".",c&&l&&(0,r.jsx)("div",(0,o.pi)({className:"fl-notification-details"},{children:(0,r.jsx)(Tr,{children:t.stack})})),(0,r.jsxs)("div",(0,o.pi)({className:"fl-notification-actions"},{children:[!c&&l&&(0,r.jsx)(O.z,(0,o.pi)({link:!0,onClick:function(e){e.stopPropagation(),u(!0)}},{children:(0,r.jsx)(te.L,{id:"details"})})),(0,r.jsx)(O.z,(0,o.pi)({link:!0,primary:!0,onClick:n},{children:(0,r.jsx)(te.L,{id:"hide"})}))]}))]}))},Fr=n(4860),Gr=n(9543),zr=n(4932),Ur=(0,c.Rd)("bugsnag");Fe.jC.setDefaultFontUrl(Sr.h.getUrl("/assets/fonts/opensans.woff")),wr().start({apiKey:Ur.publicKey,plugins:[new(_r())],appVersion:Ur.version,releaseStage:Ur.releaseStage,appType:"editor"});var Zr=wr().getPlugin("react").createErrorBoundary(a()),Jr=function(){var e=(0,A.sJ)(L.fC.version).current,t=(0,Gr.Xt)();return(0,s.useEffect)((function(){var e=function(e){t.changed()&&e.prevent()},n=(0,zr.NG)(e).dispose,r=(0,zr.t9)(e).dispose;return function(){n(),r()}}),[t]),(0,s.useEffect)((function(){t.set(e)}),[e,t]),null};(0,Fr.XS)((function(){var e=new zr.Db;return zr.Ri.fire(e),e.prevented}));var Br,Kr=document.getElementById("app");Kr&&(0,i.s)(Kr).render((0,r.jsx)((function(){return(0,r.jsx)(Zr,{children:(0,r.jsx)(jr,{children:function(){return(0,r.jsxs)(xr.VK,{children:[(e=u.n.routes,(0,r.jsx)(Yn.rs,{children:e.map((function(e,t){return(0,r.jsx)(Nr,(0,o.pi)({},e),t.toString())}))})),(0,r.jsx)(Jr,{}),(0,r.jsx)(Rr,{})]});var e}})})}),{}));var Yr=document.getElementById("flMainLoading");Yr&&(null===(Br=Yr.parentNode)||void 0===Br||Br.removeChild(Yr))},1568:function(e,t,n){n.d(t,{aY:function(){return d},bY:function(){return f}});var r=n(9312),i=n(4860),o=n(7010),s=(n(7859),n(5807)),a=n(1753),c=n(5923),u=n(4932);(0,a.y)({action:null});var l=new c.Q5,d=l.event;function f(e,t){return(0,r.mG)(this,void 0,void 0,(function(){var n,a;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return n=new u.Db,u.Rh.fire(n),t||n.prevented?[4,(0,s.C9)("unsaved_changes")]:[3,5];case 1:return(a=r.sent())?[3,2]:[2];case 2:return"save"!==a?[3,4]:[4,(0,o.G)((function(e,t){l.fire({resolve:function(){return e()},reject:function(){return t()}})}),1e4).then((function(){return!0})).catch((function(){return!1}))];case 3:if(!r.sent())return[2];r.label=4;case 4:(0,i.ko)(),r.label=5;case 5:return"string"==typeof e?(location.href=e,[2,void 0]):[2,e()]}}))}))}},373:function(e,t,n){n.d(t,{O9:function(){return r}});var r={};n.r(r),n.d(r,{addRecentColor:function(){return h},initializeRecentColors:function(){return p},normalizeGradients:function(){return x},removeUnusedGradients:function(){return b}});var i,o,s,a,c=n(9312),u=n(5873),l=n(9525),d=n(6714),f=n(2846),h=(0,l.WD)((function(e){var t=e.set;return function(e){if(e.type!==u.Mr.NULL){var n=(0,u.Jn)(e);return t(f.I,(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if((0,u.Jn)(o)===n)return t}return(0,c.ev)([e],t,!0).slice(0,16)}))}}})),p=(0,l.WD)((function(e){var t=e.set,n=e.snapshot.getLoadable;return function(){return(0,c.mG)(void 0,void 0,void 0,(function(){return(0,c.Jh)(this,(function(e){return t(f.I,n(d.$2.palette).getValue().slice(0,16)),[2]}))}))}})),v=(i=/^#([0-9a-f]{3})$/i,o=/^#([0-9a-f]{6})$/i,s=/^rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([\d\.]+))?\s*\)$/i,a=function(e){var t;if(t=e.match(i))return[17*parseInt(t[1].charAt(0),16),17*parseInt(t[1].charAt(1),16),17*parseInt(t[1].charAt(2),16),1];if(t=e.match(o))return[parseInt(t[1].substr(0,2),16),parseInt(t[1].substr(2,2),16),parseInt(t[1].substr(4,2),16),1];if(t=e.match(s)){var n=+t[4];return[+t[1],+t[2],+t[3],isNaN(n)?1:n]}return a(function(e){var t=document.createElement("span");t.style.color=e,document.body.appendChild(t);var n=window.getComputedStyle(t).color;return document.body.removeChild(t),n}(e))}),g=n(4965),m=n(2674),y=n(3396),x=(0,l.WD)((function(e){var t=e.snapshot,n=e.set;return function(){var e=t.getLoadable(d.zv.defsTree).getValue(),r=t.getLoadable(d.zv.tree).getValue(),i=(0,y.Oq)(r,(function(e){return e.attrs.fill&&e.attrs.fill.indexOf("url(")>-1})).map((function(e){return(0,g.nN)(e.attrs.fill)})),o=e.filter((function(e){return"linearGradient"!==e.type&&"radialGradient"!==e.type||i.indexOf(e.attrs.id||"")>-1})).map((function(e){var t,n;if("linearGradient"!==(n=e.type)&&"radialGradient"!==n)return e;var r=e.attrs["stop-color"]||e.attrs.style&&e.attrs.style["stop-color"],i=r&&function(e){var t=v(e);return{value:"rgb("+t[0]+", "+t[1]+", "+t[2]+")",opacity:t[3]}}(r)||void 0;if(i&&"string"==typeof r&&0===r.indexOf("rgba")){var o=(0,c.pi)((0,c.pi)({},e),{attrs:(0,c.pi)({},e.attrs)});return e.attrs.style=(0,m.Qe)((0,c.pi)((0,c.pi)({},e.attrs.style&&(0,m.QK)(e.attrs.style)),((t={})["stop-color"]=i.value,t["stop-opacity"]=i.opacity.toString(),t))),o}return e}));o.length!==e.length&&n(d.zv.defsTree,o)}})),b=(0,l.WD)((function(e){var t=e.snapshot,n=e.reset;return function(){var e=function(e){return t.getLoadable(e).getValue()},r=e(f.Ry),i=e(f.a_);r.forEach((function(t,r){e(d.zP.type(t)).indexOf("Gradient")>-1&&!i.has(r)&&n(d.zP.tree(t))}))}}))},2846:function(e,t,n){n.d(t,{I:function(){return s},Ry:function(){return u},a_:function(){return f},jQ:function(){return c}});var r=n(6714),i=n(8370),o=n(6034),s=(0,o.cn)({key:"recentColorsState",default:[]}),a=(0,o.CG)({key:"objectColorDeepState",get:function(e){return function(t){var n=t.get;return function e(t){var i=t[0],o=t[1],s=n(r.$2.attributeColor(t)),a=n(r.zP.children(i));if(s||!(a.length>0))return s;for(var c=0,u=a;c<u.length;c++){var l=e([u[c],o]);if(l)return l}}(e)}},set:function(e){return function(t,n){var o=t.set,s=t.get;o(r.$2.attributeColor(e),n),function e(t){var a=t[0],c=t[1],u=s(r.zP.children(a)),l=s(r.zP.attribute(t));if(((0,i.L6)(s(r.zP.type(a)))&i.We.SHAPE||l)&&o(r.$2.attributeColor(t),n),u.length>0)for(var d=0,f=u;d<f.length;d++)e([f[d],c])}(e)}}}),c=(0,o.CG)({key:"targetColorDeepState",get:function(e){return function(t){for(var n=t.get,i=0,o=n(r.qt.current);i<o.length;i++){var s=o[i],c=n(a([s,e]));if(c)return c}}},set:function(e){return function(t,n){for(var i=t.set,o=0,s=(0,t.get)(r.qt.current);o<s.length;o++){var c=s[o];i(a([c,e]),n)}}}}),u=(0,o.nZ)({key:"documentReferenceMap",get:function(e){var t=e.get,n=new Map;return t(r.zv.children).forEach((function e(i){var o=t(r.zP.attribute([i,"id"])),s=t(r.zP.children(i));o&&n.set(o,i),s.length>0&&s.forEach(e)})),n}}),l=["fill","stroke"],d=["xlink:href","href"],f=(0,o.nZ)({key:"documentBoundElementsState",get:function(e){var t=e.get,n=new Set;return t(r.zv.children).forEach((function e(i){for(var o,s=t(r.zP.children(i)),a=0,c=l;a<c.length;a++){var u=c[a];if((x=t(r.zP.attribute([i,u])))&&"#"!==x[0]){var f=x.match(h);if(f)for(var p=0,v=f;p<v.length;p++){var g=v[p];n.add(g.substr(1))}}}for(var m=0,y=d;m<y.length;m++){var x;u=y[m],(x=null===(o=t(r.zP.attribute([i,u])))||void 0===o?void 0:o.trim())&&"#"===x[0]&&n.add(x.substr(1))}s.length>0&&s.forEach(e)})),n}}),h=/(?:#[^\s\)"']+)/g},9141:function(e,t,n){n.d(t,{uf:function(){return m},lU:function(){return y},Oz:function(){return E},Qu:function(){return _},v4:function(){return x},QZ:function(){return b},sm:function(){return w},qH:function(){return k},bl:function(){return C}});var r={};n.r(r),n.d(r,{alignText:function(){return l},alignTextCenter:function(){return f},alignTextLeft:function(){return d},alignTextRight:function(){return h},editTextCurve:function(){return u}});var i=n(6714),o=n(9543),s=n(9312),a=n(9525),c={start:0,middle:.5,end:1},u=(0,a.WD)((function(e){var t=e.set,n=e.send,r=e.snapshot;return function(){var e=r.getLoadable(i.qt.current).getValue()[0];e&&(t(i.zP.attrs(e),(function(e){var t=e["text-anchor"]||"start";return(0,s.pi)((0,s.pi)({},e),{"font-scale":"contain","text-anchor":t,offset:c[t]})})),n(i.__.editSelectedPath))}})),l=(0,a.WD)((function(e){var t=e.send,n=e.snapshot;return function(e){var r=n.getLoadable(i.qt.current).getValue()[0];r&&(t(i.JQ.setObjectAttrs,r,(function(t){return(0,s.pi)((0,s.pi)({},t),{"text-anchor":e,offset:c[e]+""})})),t(i.dc.pushChange))}})),d=(0,a.WD)(l,["start"]),f=(0,a.WD)(l,["middle"]),h=(0,a.WD)(l,["end"]),p=n(373),v=n(3313),g=(0,v.createContext)(null),m=function(e){var t=e.children,n=(0,a.aK)(),r=(0,v.useRef)(new Map),i=(0,v.useCallback)((function(e){var t=r.current;return t.has(e)||t.set(e,function(e,t){var n={};for(var r in e)n[r]=t.bind(void 0,e[r]);return n}(e,n)),t.get(e)}),[n]);return(0,v.createElement)(g.Provider,{value:i},t)},y=S(i.JQ),x=S(i.mQ),b=(S(i.__),S(i.Du)),w=S(i.dc),C=S(i.Pj),_=S(o.BU),k=S(r),E=S(p.O9);function S(e){return function(){return(0,v.useContext)(g)(e)}}},4932:function(e,t,n){n.d(t,{Db:function(){return i},NG:function(){return s},Rh:function(){return a},Ri:function(){return o},t9:function(){return c}});var r=n(5923),i=function(){function e(){this._prevented=!1}return Object.defineProperty(e.prototype,"prevented",{get:function(){return this._prevented},enumerable:!1,configurable:!0}),e.prototype.prevent=function(){this._prevented=!0},e}(),o=new r.Q5,s=o.event,a=new r.Q5,c=a.event},3396:function(e,t,n){n.d(t,{s4:function(){return y},fY:function(){return v},Oq:function(){return u},xH:function(){return f},dF:function(){return p},GJ:function(){return g},ie:function(){return m}});var r=n(9312),i=n(6964),o=(n(3058),n(1668)),s=n(3778),a=n(8370);function c(e,t,n){t(e)&&n.push(e);for(var r=0,i=e.children;r<i.length;r++)c(i[r],t,n);return n}function u(e,t){return c(e,t,[])}function l(e,t,n){t(e,n);for(var r=0,i=e.children;r<i.length;r++)l(i[r],t,e)}function d(e,t){l(e,t,null)}function f(e,t){return void 0===t&&(t=5),h(e,[]).join(" ").replace(/\s+/g," ").trim().split(" ").slice(0,t).join(" ")}function h(e,t){if("fl:textpath"===e.type&&t.push(e.attrs.text||""),e.children.length>0)for(var n=0,r=e.children;n<r.length;n++){var i=r[n];t.push.apply(t,h(i,[]))}return t}function p(e){var t,n=e.children.find((function(e){return"fl:background"===e.type}));return(null===(t=null==n?void 0:n.attrs)||void 0===t?void 0:t.fill)||null}function v(e){var t=u(e,(function(e){return"fl:textpath"===e.type})).map((function(e){var t=(0,i.WS)(e.attrs["font-family"],e.attrs["font-style"],e.attrs["font-weight"]);return t&&{family:t.family,weight:t.weight,style:t.style}})).filter((function(e){return!!e}));return(0,s.Nb)(t,i.Ks)}function g(){return!!(0,o.yF)("isAdmin")}function m(){var e=(0,o.yF)("logo");return!!e&&e.isPremium}function y(e){var t=(0,a.Ho)(e);return d(t,(function(e){var t;if(null===(t=e.attrs)||void 0===t?void 0:t.style){var n=e.attrs.style,i={};for(var o in e.attrs)"opacity"!==o&&(i[o]=n[o]);e.attrs=(0,r.pi)((0,r.pi)({},e.attrs),{style:i})}})),t}},409:function(e,t,n){n.d(t,{Gw:function(){return y},I_:function(){return v},PU:function(){return g},X5:function(){return p},gU:function(){return h},w8:function(){return x}});var r=n(4405),i=n(7275),o=n(6155),s=n(9888),a=n(4066),c=n(6714),u=n(3313),l=n(6034),d=n(1568),f=n(9141);function h(){var e=(0,s.Y)(),t=function(){return(0,r.Ph)("view",e.history.location.search)};return(0,u.useRef)({back:function(){t()&&e.replaceQuery({view:null})},getView:t,setView:function(t){e.pushQuery({view:t})}}).current}function p(e,t){var n=(0,f.Qu)();(0,u.useEffect)((function(){if(!t){var r=!0;return n.requirePremiumCopy().then((function(t){r&&e(t)})),function(){r=!1}}}),[t,e,n])}function v(){var e=(0,i.tA)("note"),t=e[0],n=e[1];(0,u.useEffect)((function(){"copy"===t&&setTimeout((function(){(0,o.QR)({id:"premiumcopy",message:(0,a.NC)("info_edit_premium_copy"),dismiss:!0}),n(null)}),1e3)}),[t,n])}function g(){var e=(0,f.Qu)();(0,u.useEffect)((function(){return(0,d.aY)((function(t){var n=t.resolve,r=t.reject;e.saveLogo({allowAnonymous:!0}).then(n).catch(r)})).dispose}),[e])}var m=(0,l.nZ)({key:"documentValidState",get:function(e){return(0,e.get)(c.zv.solidGraphics).length>0}});function y(){return(0,l.sJ)(m)}function x(e,t){var n=(0,c.DK)();(0,u.useEffect)((function(){return n.subscribe((function(n){e===n.action&&t(n)}))}),[t,e])}},9543:function(e,t,n){n.d(t,{BU:function(){return r},Xt:function(){return J}});var r={};n.r(r),n.d(r,{_autoGroup:function(){return s},addPublicIcon:function(){return x},addShapeIcon:function(){return _},addTemplate:function(){return N},addText:function(){return L},completeLogo:function(){return V},initializeDocument:function(){return Q},initializeLogo:function(){return q},reinitializeFromCurrent:function(){return $},requirePremiumCopy:function(){return se},saveCurrentStateVersion:function(){return B},saveLogo:function(){return Y}});var i=n(9312),o=n(9525),s=(0,o.WD)((function(e){return e.send,function(){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){return console.warn("Unimplemented action."),[2]}))}))}})),a=n(3129);function c(e,t){var n;void 0===t&&(t={});var r=document.createElement("div");r.innerHTML=e;var i={onSVGElement:null!==(n=t.onSVGElement)&&void 0!==n?n:u};return(0,a.Ku)(r,(function(){var e=r.getElementsByTagName("svg")[0];return e&&l(e,i),r.innerHTML||""}))}var u=function(){};function l(e,t){var n=function(e){if(!e.childNodes.length)return[];for(var t=e.childNodes.length,n=e.childNodes,r=new Array(t),i=0;i<t;i++)r[i]=n[i];return r}(e),r=n.length;if(e instanceof SVGElement){var i=e.getAttribute("fill");if(e.getAttribute("style"),"svg"===e.tagName){for(var o,s=function(e){var t=e.getAttribute("viewBox");if(null!=t){var n=t.split(/[\s,]+/gi).map((function(e){return parseFloat(e)}));return[n[0]||0,n[1]||0,n[2]||0,n[3]||0]}return null}(e),a=parseFloat(e.getAttribute("width")||"0"),c=parseFloat(e.getAttribute("height")||"0"),u=e.getElementsByTagName("style"),d=0,f=u.length;d<f;d++)(o=u[d]).parentNode.removeChild(o);!s||a||c||(e.setAttribute("width",s[2].toString()),e.setAttribute("height",s[3].toString()))}for(d=0;d<r;d++)l(n[d],t);(function(e){if("text"===e.tagName)return!0;if("g"!==e.tagName)return!1;if(function(e){if("none"===e.getAttribute("display"))return!0;if(!e.getBoundingClientRect)return!1;var t=e.getBoundingClientRect();return!t.width||!t.height}(e)||!function(e){return e.ownerSVGElement&&e.ownerSVGElement,!0}(e))return!0;for(var t=e.childNodes,n=t.length,r=0;r<n;r++){var i=t[r];if(i instanceof SVGElement&&"text"===i.tagName&&i.textContent&&i.textContent.indexOf("thenounproject.com")>-1)return!0}return!1})(e)&&e.parentNode.removeChild(e),"none"===i&&"g"===e.tagName&&e.removeAttribute("fill"),t.onSVGElement(e)}else e.parentNode&&(e instanceof Comment&&!(e.data.indexOf("@FLD:")<0)||e.parentNode.removeChild(e))}var d=n(7490),f=n(6714),h=n(1668),p=n(1959),v=n(3422),g=n(6034);function m(){return(0,h.yF)("privateId")}function y(e,t,n){var r=this;return void 0===t&&(t=.5),void 0===n&&(n=.5),function(o,s){var a=o.getPromise,c=o.getLoadable,u=o.set;return(0,i.mG)(r,void 0,void 0,(function(){var r,o,l,d,h,m,y,x,b,w;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return r=c(f.zv.size).getValue(),l=p.AO,[4,a((0,g.k9)(s.map((function(e){return f.zP.absoluteBBox(e)}))))];case 1:for(o=l.apply(void 0,[i.sent()]),d=Math.min(r.width,r.height),h=Math.max(o.width,o.height),m=d*e/h,y=(0,v.w9)(m,m,o.x+o.width*t,o.y+o.height*n),x=0,b=s;x<b.length;x++)w=b[x],u(f.zP.transform(w),(function(e){return e?(0,v.Jp)(y,e):y}));return[2]}}))}))}}var x=(0,o.WD)((function(e){var t=e.send,n=e.set;return function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var r,o,s;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,(0,d.f4)(e)];case 1:return(r=i.sent())?[4,t(f.JQ.append,{value:c(r),centered:!1,flatten:!0,group:!0,use:[y(.25,0,0)]})]:[3,4];case 2:return o=i.sent(),[4,t(f.JQ.group,o)];case 3:return s=i.sent(),n(f.qt.current,s),t(f.dc.pushChange),[2,!0];case 4:return[2,!1]}}))}))}})),b=n(8689),w=n(8370),C=n(3396),_=(0,o.WD)((function(e){var t=e.send,n=e.set;return function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var r,o,s,a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,(0,b.Qg)(e)];case 1:return(r=i.sent())?(o=(0,w.Ie)(r).map(C.s4),(s=o.length>1?(0,w.Wm)({type:"g",children:o}):o[0])?[4,t(f.JQ.append,{value:s,centered:!1,flatten:!0,use:[y(.25,0,0)]})]:[2]):[3,3];case 2:a=i.sent(),n(f.qt.current,a),t(f.dc.pushChange),i.label=3;case 3:return[2]}}))}))}})),k=n(9045),E=n(3924),S={width:512,height:512},j={width:512,height:512,padding:48,cropped:!0},N=(0,o.WD)((function(e){var t=e.send,n=e.set,r=e.snapshot;return(0,k.lN)(r,(function(e,o,s){return(0,i.mG)(void 0,void 0,void 0,(function(){var a,c,u,l,d,h;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,(0,E.zE)(e,o)];case 1:return(a=i.sent())&&"string"==typeof a?s?[4,t(f.JQ.setDocument,{svg:a,canvas:j})]:[3,3]:[2];case 2:return i.sent(),[3,5];case 3:return c=r.getLoadable(f.zv.background).valueMaybe(),u=null,l=!!c&&"none"!==c,(d=(0,w.op)(a)).children=d.children.filter((function(e){return"fl:background"!==e.type||!e.attrs.fill||(u=e.attrs.fill,!1)})),!l&&u&&"none"!==u&&n(f.zv.background,u),[4,t(f.JQ.append,{value:d.children})];case 4:h=i.sent(),n(f.qt.current,h),t(f.dc.pushChange),i.label=5;case 5:return[2]}}))}))}))})),L=(0,o.WD)((function(e){var t=e.send,n=e.set;return function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return r=(0,w.Wm)({type:"fl:textpath",attrs:{text:e,fill:"#000000",space:"preserve","text-anchor":"middle",offset:"0.5","font-scale":"contain","font-size":"48","font-family":"Open Sans"}}),[4,t(f.JQ.append,{value:r,centered:!0})];case 1:return i.sent(),n(f.qt.current,[r.id]),t(f.dc.pushChange),[2]}}))}))}})),A=n(2110),O=n(6155),T=n(6514),D=n(5516),M=(0,T.hG)((function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return t=(0,h.yF)("saveUrl"),null!=(n=e.meta)&&"none"===n.background&&(n.background=null),[4,D.h.post(null!=t?t:"/logos/"+e.privateId,{title:e.title,svgData:e.svgData,meta:e.meta,data:e.data,iconIds:e.iconIds})];case 1:return[2,r.sent()]}}))}))})),R=((0,T.hG)((function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,D.h.get("/logos/"+e)];case 1:return[2,t.sent()]}}))}))})),(0,T.hG)((function(){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return[4,D.h.get("/logos")];case 1:return[2,e.sent()]}}))}))})),(0,T.hG)((function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,D.h.delete("/logos/".concat(e))];case 1:return[2,t.sent()]}}))}))})),(0,T.hG)((function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,D.h.post("/logos/".concat(e,"/copy"))];case 1:return[2,t.sent()]}}))}))}))),P=((0,T.hG)((function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t=e.privateId,n=(0,i._T)(e,["privateId"]);return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return[4,D.h.post("/logos/".concat(t,"/claim"),n)];case 1:return[2,e.sent()]}}))}))})),(0,T.hG)((function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,D.h.post("/logos/".concat(e,"/freelogoregister"))];case 1:return[2,t.sent()]}}))}))})),(0,T.hG)((function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,D.h.get("/logos/".concat(e,"/download/ready"))];case 1:return[2,t.sent()]}}))}))})),(0,T.hG)((function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,D.h.get("/logos/".concat(e,"/preload"))];case 1:return[2,t.sent()]}}))}))})),n(3813)),I=n(3238),F=n(4066),G=n(4681),z=n(6981),U=n(5923),Z=function(){function e(){this._onChange=new U.Q5,this._current=0,this._saved=0,this.onChange=this._onChange.event}return e.prototype.current=function(){return this._current},e.prototype.changed=function(){return this._current!==this._saved},e.prototype.set=function(e){this._current=e},e.prototype.save=function(e){this._saved!==e&&this._onChange.fire(this._saved=this._current=e)},(0,i.gn)([z.Xn],e)}(),J=(0,o.jp)(Z),B=(0,o.WD)((function(e){var t=e.snapshot,n=e.getService;return function(){n(Z).save(t.getLoadable(f.fC.version).getValue().current)}})),K=(0,g.nZ)({key:"logo.serializedSvgx",get:function(e){var t=e.get,n=(0,i.pi)({},t(f.zv.tree)),r=t(f.zv.contentBBox),o=r.x,s=r.y,a=r.width,c=r.height;return n.attrs=(0,i.pi)((0,i.pi)({},n.attrs),{"data-bbox":[o,s,a,c].join(" ")}),(0,w.sD)(n)}}),Y=(0,o.WD)((function(e){var t=e.getService,n=e.send,r=e.snapshot;return function(e){return void 0===e&&(e={}),(0,i.mG)(void 0,void 0,void 0,(function(){var o,s,a,c,u,l,d,h;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return o=t(f.Xz),s=r.getLoadable(K).getValue(),a=r.getLoadable(f.zv.tree).getValue(),e.allowAnonymous?[3,2]:[4,P.Ao()];case 1:if(!i.sent())return[2,!1];i.label=2;case 2:if(c=m(),!(u=null!==(h=e.svgData)&&void 0!==h?h:o.renderToString()))throw new Error("Missing rendered data");return l={background:(0,C.dF)(a),fonts:(0,C.fY)(a)},[4,M({privateId:c,svgData:u,meta:l,data:s,title:(0,C.xH)(a)||"Untitled Logo",iconIds:I._9()})];case 3:return(d=i.sent()).ok?(I._7(),n(B),e.silent||O.$E({id:"save",message:(0,F.NC)("logo_save_success")}),[2,!0]):(e.silent||G.R.log(d),[2,!1])}}))}))}})),V=(0,o.WD)((function(e){var t=e.send;return function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return n={allowAnonymous:null==e?void 0:e.allowAnonymous,silent:null==e?void 0:e.silent,svgData:null==e?void 0:e.svgData},[4,t(Y,n)];case 1:return r.sent()&&(location.href=A.n.showcase(m())),[2]}}))}))}})),W=n(4405),H=n(4289),X=n(373),q=(0,o.WD)((function(e){var t=e.send;return function(){return(0,i.mG)(void 0,void 0,void 0,(function(){var e,n,r,o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,8,,9]),e=(0,h.yF)("logo"),n=(0,h.yF)("template"),r=(0,W.Ph)("companyName"),e?[4,t(ee,e)]:[3,2];case 1:return i.sent(),[3,6];case 2:return n?[4,t(ne,n,r)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,t(re)];case 5:i.sent(),i.label=6;case 6:return[4,t(Q)];case 7:return i.sent(),[3,9];case 8:return o=i.sent(),G.R.log(o),[3,9];case 9:return[2]}}))}))}})),Q=(0,o.WD)((function(e){var t=e.send;return function(){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){return t(X.O9.removeUnusedGradients),t(f.dc.commit),t(X.O9.initializeRecentColors),t(B),[2]}))}))}})),$=(0,o.WD)((function(e){var t=e.snapshot,n=e.send;return function(){return(0,i.mG)(void 0,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(r){return e=t.getLoadable(f.zv.svgxString).getValue(),n(te,e,!0),[2]}))}))}})),ee=(0,o.WD)((function(e){var t=e.send;return function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var n,r,o,s,a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n=(null===(o=e.document)||void 0===o?void 0:o.data)||e.svgData,r=null!==(a=null===(s=e.document)||void 0===s?void 0:s.isExternal)&&void 0!==a&&a,n?r?[4,t(te,n,!0)]:[3,2]:[3,4];case 1:return i.sent(),[3,4];case 2:return[4,t(te,n)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))}})),te=(0,o.WD)((function(e){var t=e.send;return function(e,n){return(0,i.mG)(void 0,void 0,void 0,(function(){var r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return r={svg:e,canvas:S},n&&(r.canvas.cropped=!0,r.canvas.padding=32),[4,t(f.JQ.setDocument,r)];case 1:return i.sent(),[2]}}))}))}})),ne=(0,o.WD)((function(e){var t=e.send,n=e.set;return function(e,r){return(0,i.mG)(void 0,void 0,void 0,(function(){var o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return o={svg:e,canvas:j},[4,t(f.JQ.setDocument,o)];case 1:return i.sent(),r&&n(f.zv.tree,(function(e){return ie(e,r)})),t(f.dc.commit),[2]}}))}))}})),re=(0,o.WD)((function(e){var t=e.send;return function(){return(0,i.mG)(void 0,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return e={svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"></svg>',canvas:j},[4,t(f.JQ.setDocument,e)];case 1:return n.sent(),t(f.dc.commit),[2]}}))}))}})),ie=function(e,t){var n=JSON.parse(JSON.stringify(e));return(0,H.wj)(n,t),n},oe=n(5807),se=(0,o.WD)((function(e){var t=e.send;return function(){return(0,i.mG)(void 0,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return(0,C.ie)()?(e=(0,h.yF)("privateId"),[4,(0,oe.C9)("warning_new_purchase",(function(n){return(0,i.mG)(void 0,void 0,void 0,(function(){var r,o;return(0,i.Jh)(this,(function(s){switch(s.label){case 0:return"confirm"===n&&e?[4,t(Y)]:[3,3];case 1:return s.sent()?[4,R(e)]:[3,3];case 2:(r=s.sent()).ok&&(o=(0,W.mB)(location.search),location.replace(A.n.editLogo(r.data)+(0,W.cZ)((0,i.pi)((0,i.pi)({},o),{note:"copy"})))),s.label=3;case 3:return[2]}}))}))}))]):[2,!1];case 1:return n.sent(),[2,!0]}}))}))}}))},7889:function(e,t,n){n.d(t,{HS:function(){return Wt},DP:function(){return Ut},dg:function(){return Ht}});var r=n(9312),i=n(4246),o=n(3813),s=n(3313),a=n(1668);function c(e){var t=(0,s.useState)((0,a.Rd)(e)),n=t[0],r=t[1];return(0,s.useEffect)((function(){return a.cr.subscribe((function(){var t=(0,a.Rd)(e);t!==n&&r(t)}))}),[e,n]),n}function u(){return c("user")}var l,d=n(2211),f=n(845),h=n(1890),p=function(e){return(0,i.jsxs)("div",(0,r.pi)({className:(0,d.cn)("fl-menubar",e.className)},{children:[(0,i.jsx)("div",(0,r.pi)({className:"fl-menubar-left"},{children:e.logoSrc&&(0,i.jsx)(v,{src:e.logoSrc,href:e.logoHref,onClick:e.onLogoClick})})),(0,i.jsxs)("div",(0,r.pi)({className:"fl-menubar-right"},{children:[e.children,e.showCloseBtn&&(0,i.jsx)(g,{href:e.closeIconHref,onClick:e.onLogoClick})]}))]}))},v=function(e){return(0,i.jsx)("div",(0,r.pi)({className:"na-brand"},{children:e.href||e.onClick?(0,i.jsx)("a",(0,r.pi)({href:e.href,onClick:e.onClick},{children:(0,i.jsx)(m,{src:e.src})})):(0,i.jsx)(m,{src:e.src})}))},g=function(e){return(0,i.jsx)("div",(0,r.pi)({className:"na-close"},{children:e.href||e.onClick?(0,i.jsx)("a",(0,r.pi)({href:e.href,onClick:e.onClick},{children:(0,i.jsx)(f.le,{src:h,className:"fl-close"})})):(0,i.jsx)(f.le,{src:h,className:"fl-close"})}))},m=function(e){return(0,i.jsx)("img",{src:e.src,alt:"Free Logo Design"})},y=n(3714),x=function(e){var t=e.large,n=e.displayName,o=e.children;return(0,i.jsxs)("div",(0,r.pi)({className:(0,d.cn)("fl-userbadge",t&&"fl-large")},{children:[(0,i.jsx)("div",{className:"fl-avatar"}),(0,i.jsxs)("span",(0,r.pi)({className:"fl-userbadge-name"},{children:[n,o]}))]}))},b=n(298),w=n(4405),C=function(e){var t=e.className,n=e.children;return(0,i.jsx)(b.v2,(0,r.pi)({component:"nav",className:(0,d.cn)("fl-navmenu",t)},{children:n}))},_=function(e){var t=e.className,n=e.active,o=e.href,s=e.children,a=(0,r._T)(e,["className","active","href","children"]),c=!0===n||!1===n?n:null!=o?(0,w.XO)(o,!0):void 0;return(0,i.jsx)(b.sN,(0,r.pi)({active:c,component:"a",className:(0,d.cn)("fl-navmenu-item",t),href:o},a,{children:s}))},k=n(5239),E=n(6269),S=n(2110),j=function(e){return(0,i.jsx)("div",(0,r.pi)({className:"fl-usermenu"},{children:e.user?(0,i.jsx)(N,(0,r.pi)({},e)):(0,i.jsx)(A,(0,r.pi)({},e))}))},N=function(e){var t=e.user,n=e.children,o=e.active,s=e.onChange,a=(0,k.EF)()>k.zL.SM;return(0,i.jsx)(y.U,(0,r.pi)({obfuscator:!0,alignment:"bottom-right",active:o,onChange:s,render:function(){return(0,i.jsx)(C,(0,r.pi)({className:"fl-usermenu-nav"},{children:n}))}},{children:a?(0,i.jsx)(x,{displayName:t.firstName}):(0,i.jsx)(f.JO,{fa:"bars"})}))},L=function(){return(0,a.yF)("isAdmin")?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(b.sN,(0,r.pi)({href:S.n.manager("admin")},{children:"Administration"}))}):null},A=function(e){var t=e.onSignInClick,n=e.onSignUpClick,o=(0,k.EF)()>k.zL.SM,a=(0,s.useState)(!1),c=a[0],u=a[1];return o?(0,i.jsxs)(x,{children:[(0,i.jsx)(E.L,{id:"sign_up",className:"fl-button-signup",component:"button",onClick:n}),(0,i.jsx)("span",{className:"fl-slash"}),(0,i.jsx)(E.L,{id:"sign_in",className:"fl-button-signin",component:"button",onClick:t})]}):(0,i.jsx)(y.U,(0,r.pi)({obfuscator:!0,alignment:"bottom-right",active:c,onChange:u,render:function(){return(0,i.jsxs)(C,(0,r.pi)({className:"fl-usermenu-nav"},{children:[(0,i.jsx)(_,(0,r.pi)({onClick:function(e){return t&&t(e),u(!1)}},{children:(0,i.jsx)(E.L,{id:"sign_in"})})),(0,i.jsx)(_,(0,r.pi)({onClick:function(e){return n&&n(e),u(!1)}},{children:(0,i.jsx)(E.L,{id:"sign_up"})}))]}))}},{children:(0,i.jsx)(f.JO,{fa:"bars"})}))},O=n(1714),T=n(7275),D=n(6842),M=n(2987),R=function(){return(0,D.x)()?(0,i.jsx)("div",(0,r.pi)({className:"fl-global-spinner"},{children:(0,i.jsx)(M.$,{})})):null},P=n(3831),I=n(4934),F=n(5554),G=0,z=n(3557),U=function(e){return e},Z=n(7859),J=n(4318),B=n(5880),K=(0,Z.gR)(B.e),Y=((0,Z.o7)(K,(function(e){return e.lang})),l=(0,Z.o7)(K,(function(e){return e.languages})),function(){return(0,s.useEffect)((function(){!function(){(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return[4,(0,J.XP)()];case 1:return(e=t.sent()).length>0&&e!==(0,J.vH)()&&B.e.setLanguageList(e),[2,(0,J.vH)()]}}))}))}()}),[]),l()}),V=n(4066),W=n(4413),H=(0,d.C)("fl-button-group"),X=function(e){var t=e.className,n=e.variant,o=e.children;return(0,i.jsx)("div",(0,r.pi)({className:(0,d.cn)(H(n||"default"),t)},{children:o}))},q=function(e){return(0,i.jsx)("div",(0,r.pi)({className:(0,d.cn)("fl-field-row",e.className),style:e.style},{children:e.children}))},Q=(0,s.lazy)((function(){return Promise.all([n.e(345),n.e(163)]).then(n.bind(n,4163))})),$=(0,s.lazy)((function(){return n.e(61).then(n.bind(n,3061))})),ee=((0,I.a)((function(e){var t=e.value,n=void 0===t?"":t,r=e.className,o=e.disabled,s=e.formatOnBlur,a=e.format,c=void 0===a?U:a,u=e.onChange,l=e.onBlur,f=function(e){if(u){var t=s&&"blur"===e.type?c(e.currentTarget.value):e.currentTarget.value;u(t)}},h=s?function(e){null==l||l(e),f(e)}:l;return(0,i.jsx)("textarea",{disabled:o,className:(0,d.cn)("fl-textarea",r),value:n,onBlur:h,onChange:f})})),(0,I.a)(F.z)),te=(0,I.a)((function(e){var t=e.children,n=e.className,o=(e.checked,e.disabled),a=e.value,c=void 0!==a&&a,u=(e.onFocus,e.onChange),l=e.id,f=(0,r._T)(e,["children","className","checked","disabled","value","onFocus","onChange","id"]),h=(0,s.useState)((function(){return l||"_chk_"+ ++G}))[0],p=(0,s.useRef)(null),v=(0,s.useState)(!1),g=v[0],m=v[1],y=(0,s.useCallback)((function(e){c!==e.currentTarget.checked&&u&&u(e.currentTarget.checked)}),[c,u]);return(0,s.useLayoutEffect)((function(){var e=!0;return setTimeout((function(){if(e){var t=p.current;t&&(t.checked=c)}})),function(){e=!1}}),[c]),(0,i.jsxs)("label",(0,r.pi)({htmlFor:h,className:(0,d.cn)("fl-checkbox",c&&"fl-checked",g&&"fl-focused",o&&"fl-disabled",n)},{children:[(0,i.jsx)("span",{className:"fl-checkbox-dot"}),(0,i.jsx)("input",(0,r.pi)({},f,{id:h,ref:p,disabled:o,type:"checkbox",onFocus:function(e){p.current&&m(!0)},onBlur:function(e){p.current&&m(!1)},defaultChecked:c,onChange:y})),(0,i.jsx)("span",(0,r.pi)({className:"fl-checkbox-label"},{children:t}))]}))})),ne=(0,I.a)(z.j),re=((0,I.a)((function(e){var t=Y(),n=(0,s.useMemo)((function(){return t.map((function(e){return{value:e.code,label:e.displayName}}))}),[t]);return(0,i.jsx)(z.j,(0,r.pi)({},e,{options:n}))})),(0,I.a)((function(e){var t=e.disableAll,n=(0,r._T)(e,["disableAll"]),o=(0,W.o)(),a=(0,s.useMemo)((function(){return(t?[]:[{value:"0",label:(0,V.NC)("category_all")}]).concat(o.map((function(e){return{value:e.id.toString(),label:e.displayName}})))}),[o,t]);return(0,i.jsx)(z.j,(0,r.pi)({},n,{options:n.options||a}))})),(0,I.a)(Q),(0,I.a)((function(e){var t=e.value,n=e.children,o=e.onChange,a=(0,r._T)(e,["value","children","onChange"]);return(0,i.jsx)(X,(0,r.pi)({},a,{children:s.Children.map(n,(function(e){if(!(0,s.isValidElement)(e))return null;var n=e.props,r=n.className,i=n.name,a=n.onClick;return(0,s.cloneElement)(e,{type:"button",className:(0,d.cn)(r,i===t&&"fl-active"),onClick:function(e){null==a||a(e),null==o||o(i)}})}))}))})),(0,I.a)($),function(e){return e&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"error_email_invalid":void 0}),ie=function(e){return null==e||""===e?"error_required":void 0},oe=function(e){return function(t){var n;return(null!==(n=null==t?void 0:t.length)&&void 0!==n?n:0)>e?"error_invalid":void 0}},se=n(4241),ae=/^(?=.*[A-Za-z])(?=.*\d).{8,64}$/g,ce=(0,P._n)((function(e){var t,n,o,a,c=e.id,u=e.hideSubmit,l=(0,r._T)(e,["id","hideSubmit"]),d=(0,s.useRef)({firstName:"",lastName:"",email:"",password:"",passwordConfirm:"",recaptcha:""}).current,f=(0,P.cl)((function(e){return e.errors.invalidData})),h=(0,P.cl)((function(e){return e.submitting||e.validating}));return(0,i.jsxs)(P.l0,(0,r.pi)({},l,{id:c,className:"fl-loginform",values:d,validate:[(n="password",o="password",a=" ",void 0===o&&(o=n),void 0===a&&(a="password_format"),function(e){var t,r=e.values,i=(0,P.u9)(r,n);return i&&"string"==typeof i&&i.match(ae)?void 0:((t={})[o]=a,t)}),h?void 0:ue]},{children:[(0,i.jsxs)(q,{children:[(0,i.jsx)(ee,{autoFocus:!0,name:"firstName",validate:[ie,oe(50)],placeholder:(0,V.NC)("first_name")}),(0,i.jsx)(ee,{name:"lastName",placeholder:(0,V.NC)("last_name"),validate:oe(50)})]}),(0,i.jsx)(ee,{type:"email",name:"email",validate:[ie,re],placeholder:(0,V.NC)("email_address")}),(0,i.jsxs)(q,(0,r.pi)({style:{position:"relative"}},{children:[(0,i.jsx)(ee,{password:!0,name:"password",validate:ie,placeholder:(0,V.NC)("password")}),(0,i.jsx)(ee,{password:!0,validate:[ie,("password",t="error_password_match",void 0===t&&(t="error_invalid"),function(e,n){return n.values.password!==e?t:void 0})],name:"passwordConfirm",placeholder:(0,V.NC)("password_confirm")})]})),(0,i.jsx)(P.nS,{render:function(e){var t=e.errors,n=e.touched.password&&" "===t.password;return(0,i.jsxs)("p",(0,r.pi)({className:n?"fl-text-danger":void 0},{children:[n?"* ":"",(0,V.NC)("password_format")]}))}}),f&&(0,i.jsx)(E.L,{id:f,className:"fl-text-danger fl-text-center",component:"p"}),!u&&(0,i.jsx)(O.z,(0,r.pi)({className:"fl-width-1-1",type:"submit",primary:!0,disabled:h,loading:h},{children:(0,i.jsx)(E.L,{id:"create_my_account"})})),(0,i.jsx)(se.f,{active:h})]}))}));function ue(e){var t=e.values,n=e.valid;return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return n?[4,o.y1(t)]:[2];case 1:return(e=r.sent()).ok?[2]:"account exists"===e.error.detail?[2,{invalidData:"error_email_used"}]:[2,{invalidData:"error_unexpected"}]}}))}))}var le=(0,P._n)((function(e){var t=e.onEmailChange,n=e.onForgotClick,s=e.id,a=e.hideSubmit,c=e.values,u=(0,r._T)(e,["onEmailChange","onForgotClick","id","hideSubmit","values"]),l=(0,P.cl)((function(e){return e.submitting||e.validating})),d=(0,P.cl)((function(e){return e.errors.credentials}));return(0,P.Gc)(),(0,i.jsxs)(P.l0,(0,r.pi)({},u,{values:c,id:s,validate:l?void 0:de,className:"fl-loginform"},{children:[(0,i.jsx)(ee,{autoFocus:!(null==c?void 0:c.email),name:"email",type:"email",onBlur:function(e){return t&&t(e.currentTarget.value)},validate:ie,placeholder:(0,E.N)("email_address")}),(0,i.jsx)(ee,{autoFocus:!!(null==c?void 0:c.email),password:!0,name:"password",validate:ie,placeholder:(0,E.N)("password")}),(0,i.jsxs)("div",(0,r.pi)({className:"fl-lower-row"},{children:[(0,i.jsx)(te,(0,r.pi)({className:"fl-remember",onChange:function(e){e||o.BM()},name:"remember"},{children:(0,i.jsx)(E.L,{id:"remember_email"})})),(0,i.jsx)(E.L,{component:"a",id:"forgot_password",href:"#",className:"fl-forgot",onClick:function(e){return e.preventDefault(),n&&n(e)}})]})),d&&(0,i.jsx)(E.L,{id:d,className:"fl-text-danger fl-text-center",component:"p"}),!a&&(0,i.jsx)(O.z,(0,r.pi)({className:"fl-width-1-1",type:"submit",primary:!0,disabled:l,loading:l},{children:(0,i.jsx)(E.L,{id:"sign_in"})})),(0,i.jsx)(se.f,{active:l})]}))}));function de(e){var t=e.values,n=e.valid;return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return n?[4,o.zB(t)]:[2];case 1:return e.sent().ok?[2,void 0]:[2,{credentials:"error_invalid_credentials"}]}}))}))}var fe=function(e){var t=e.children,n=e.className;return(0,i.jsx)("div",(0,r.pi)({className:(0,d.cn)("fl-separator",n)},{children:(0,i.jsx)("div",(0,r.pi)({className:"fl-separator-content"},{children:t}))}))},he=n(614),pe=n(4681),ve=(0,P._n)((function(e){var t=e.onEmailChange,n=e.hideSubmit,o=(0,r._T)(e,["onEmailChange","hideSubmit"]),a=(0,s.useMemo)((function(){return{email:""}}),[]),c=(0,P.cl)((function(e){return e.submitting||e.validating}));return(0,i.jsxs)(P.l0,(0,r.pi)({},o,{values:a,validate:ge,className:"fl-loginform"},{children:[(0,i.jsx)(E.L,{component:"p",id:"forgot_password_desc"}),(0,i.jsx)(ee,{autoFocus:!0,name:"email",type:"email",validate:[ie,re],onBlur:function(e){return t&&t(e.currentTarget.value)},placeholder:(0,V.NC)("email_address")}),!n&&(0,i.jsx)(O.z,(0,r.pi)({className:"fl-width-1-1",type:"submit",primary:!0,disabled:c,loading:c},{children:(0,i.jsx)(E.L,{id:"send"})})),(0,i.jsx)(se.f,{active:c})]}))}));function ge(e){var t=e.values,n=e.valid;return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return n?[4,o.b9(t)]:[2];case 1:return(e=r.sent()).ok||pe.R.log(e),[2]}}))}))}var me,ye=n(7986),xe=n(5154),be=n(4860),we="fl-brandbutton",Ce=we+"-",_e=function(e){var t=e.text,n=e.className,o=e.disabled,s=e.type,a=void 0===s?"default":s,c=e.size,u=void 0===c?"normal":c,l=e.onClick,f=e.target,h=e.href,p=(0,r._T)(e,["text","className","disabled","type","size","onClick","target","href"]);return(0,i.jsx)("button",(0,r.pi)({},p,{onClick:function(e){l&&l(e),e.defaultPrevented||"string"!=typeof h||("_blank"===f?window.open(h):"object"==typeof f?(0,be.gk)(h,f):location.href=h)},type:"button",disabled:o,className:(0,d.cn)(we,Ce+a,Ce+u,o&&"fl-brandbutton-disabled",n)},{children:"circle"!==a&&(0,i.jsx)("span",(0,r.pi)({className:"fl-brand-text"},{children:t}))}))},ke=function(e){var t=e.className,n=(0,r._T)(e,["className"]);return(0,i.jsx)(_e,(0,r.pi)({},n,{className:(0,d.cn)("fl-facebook-button",t)}))},Ee=n(8270),Se=n(5807),je="addemail_facebook",Ne=function(e){var t=e.onSubmit,n=e.signUp,a=(0,ye.OD)().init,c=function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){var n,i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,xe.x4(e)];case 1:return"connected"!==(n=r.sent()).status?[3,8]:[4,xe.Zu()];case 2:return(i=r.sent())&&-1===i.data.findIndex((function(e){return"granted"!==e.status}))?[3,6]:[4,(0,Se.C9)("fb-permission")];case 3:return r.sent()!==je?[3,5]:[4,c({auth_type:"rerequest"})];case 4:r.sent(),r.label=5;case 5:return[3,8];case 6:return[4,o.DY(n.authResponse)];case 7:r.sent(),t&&t(n.authResponse),r.label=8;case 8:return[2]}}))}))};return(0,s.useEffect)((function(){xe.S1()}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ke,{text:(0,E.N)(n?"signup_facebook":"signin_facebook"),disabled:!a,onClick:function(){return c()}}),(0,i.jsx)(Ee.W,{name:"fb-permission",actions:[{label:"addemail_facebook",key:je},{label:"cancel",key:null}],title:"emailrequired_title_facebook",message:"emailrequired_message_facebook"})]})};!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SYSTEM=1]="SYSTEM",e[e.FACEBOOK=2]="FACEBOOK",e[e.GOOGLE=3]="GOOGLE"}(me||(me={}));var Le=n(2510),Ae=n(8899),Oe=function(e){var t=e.className,n=(0,r._T)(e,["className"]);return(0,i.jsx)(_e,(0,r.pi)({},n,{className:(0,d.cn)("fl-google-button",t)}))},Te=function(e){var t=e.onSubmit,n=e.signUp,a=(0,Le.gl)().init;return(0,s.useEffect)((function(){Ae.S1()}),[]),(0,i.jsx)(Oe,{id:"googleBtn",disabled:!a,text:(0,E.N)(n?"signup_google":"signin_google"),onClick:function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,Ae.x4()];case 1:return"connected"!==(e=n.sent()).status?[3,3]:[4,o.qj(e.authResponse)];case 2:n.sent(),t&&t(e.authResponse),n.label=3;case 3:return[2]}}))}))}})},De=(0,P._n)((function(e){var t=e.onEmailChange,n=e.hideSubmit,a=(e.onSubmit,(0,r._T)(e,["onEmailChange","hideSubmit","onSubmit"])),c=(0,s.useMemo)((function(){return{email:"",firstName:"",lastName:""}}),[]),u=(0,P.cl)((function(e){return e.submitting||e.validating})),l=(0,P.cl)((function(e){return e.errors.emailused}));return(0,i.jsxs)(P.l0,(0,r.pi)({},a,{validate:u?void 0:Me,onSubmit:function(e){var t={isGuest:!0,email:e.email,firstName:e.firstName,lastName:e.lastName,languageCode:(0,V.G3)()};o.Ty.resolve(t)},values:c,className:"fl-loginform"},{children:[(0,i.jsx)(q,{children:(0,i.jsx)(ee,{autoFocus:!0,name:"firstName",validate:[ie,oe(50)],placeholder:(0,V.NC)("first_name")})}),(0,i.jsx)(ee,{name:"email",type:"email",validate:[ie,re],onBlur:function(e){return t&&t(e.currentTarget.value)},placeholder:(0,V.NC)("email_address")}),l&&(0,i.jsx)(E.L,{id:l,className:"fl-text-danger fl-text-center",component:"p"}),!n&&(0,i.jsx)(O.z,(0,r.pi)({className:"fl-width-1-1",type:"submit",primary:!0,disabled:u,loading:u},{children:(0,i.jsx)(E.L,{id:"next"})})),(0,i.jsx)(se.f,{active:u})]}))}));function Me(e){var t=e.values,n=e.valid;return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return n?[4,o.Ov(t.email)]:[2];case 1:return e.sent().ok?[2,void 0]:[2,{emailused:"error_email_used"}]}}))}))}var Re=n.p+"assets/8de38658c70e32c1aeb2.svg",Pe={},Ie=function(e){var t=e.view,n=void 0===t?"signin":t,o=e.initialValues,s=e.hideSubmit,a=e.allowGuest,c=e.onViewChange,u=(0,r._T)(e,["view","initialValues","hideSubmit","allowGuest","onViewChange"]),l=Ge[n]||Ge.signin,d=l.component,h=u[l.submitHandlerKey],p=function(e){e.preventDefault(),c&&c(l.link)};return(0,i.jsxs)("div",(0,r.pi)({className:"fl-authentication"},{children:[(0,i.jsxs)(he.X,{children:[(0,i.jsx)(E.L,{id:l.title}),(0,i.jsxs)("span",(0,r.pi)({className:"fl-subtitle fl-subtitle-"+n},{children:[l.subtitle&&(0,i.jsx)(E.L,{id:l.subtitle}),!l.linkBottom&&l.link&&(0,i.jsx)(E.L,{id:l.linkText,component:"a",href:"#",onClick:p})]}))]}),(0,i.jsx)(d,{allowGuest:a,hideSubmit:s,initialValues:(0,r.pi)((0,r.pi)({},o),{email:Pe.email||(null==o?void 0:o.email),firstName:Pe.firstName||(null==o?void 0:o.firstName),lastName:Pe.lastName||(null==o?void 0:o.lastName)}),onStateChange:function(e){return Pe=(0,r.pi)((0,r.pi)({},Pe),e.values)},onSubmit:h,onForgotClick:function(){return c("forgot")}}),l.linkBottom&&l.link&&(0,i.jsx)(E.L,{className:"fl-margin-v fl-text-center",id:l.linkText,component:"a",href:"#",onClick:p,style:{display:"block"}}),a&&("signin"===n||"signup"===n)&&(0,i.jsx)("div",(0,r.pi)({className:"fl-guestbutton-wrapper"},{children:(0,i.jsxs)("div",(0,r.pi)({className:"fl-guestbutton",onClick:function(e){e.preventDefault(),c&&c("guest")}},{children:[(0,i.jsx)(E.L,{id:"continue_as_guest",component:"a",href:"#"}),(0,i.jsx)(f.EV,{className:"fl-guestbutton-img",src:Re})]}))}))]}))},Fe=(0,o.vA)()||"",Ge={signin:{title:"signin_title",subtitle:"signin_subtitle",link:"signup",linkText:"sign_up",component:function(e){var t=e.hideSubmit,n=e.className,o=e.initialValues,a=e.onSubmit,c=e.onStateChange,u=e.onForgotClick,l=function(e,t){a&&a({provider:e,data:t})},f=null==o?void 0:o.email,h=(0,s.useMemo)((function(){return{email:f||Fe,password:"",remember:!!Fe}}),[f]);return(0,i.jsxs)("section",(0,r.pi)({className:(0,d.cn)("fl-signup",n)},{children:[(0,i.jsx)(le,{id:"signInForm",hideSubmit:t,values:h,onSubmit:function(e){return l(me.SYSTEM,e)},onStateChange:c,onForgotClick:u}),(0,i.jsx)(fe,{children:(0,i.jsx)(E.L,{id:"or"})}),(0,i.jsxs)("div",(0,r.pi)({className:"fl-social"},{children:[(0,i.jsx)(Ne,{onSubmit:function(e){return l(me.FACEBOOK,e)}}),(0,i.jsx)(Te,{onSubmit:function(e){return l(me.GOOGLE,e)}})]}))]}))},submitHandlerKey:"onSignIn"},signup:{title:"signup_title",subtitle:"signup_subtitle",link:"signin",linkText:"sign_in",component:function(e){var t=e.onSubmit,n=e.initialValues,o=e.onStateChange,s=e.hideSubmit,a=e.className,c=function(e,n){t&&t({provider:e,data:n})};return(0,i.jsxs)("section",(0,r.pi)({className:(0,d.cn)("fl-signup",a)},{children:[(0,i.jsx)(ce,{id:"signUpForm",hideSubmit:s,values:n,onStateChange:o,onSubmit:function(e){return c(me.SYSTEM,e)}}),(0,i.jsx)(fe,{children:(0,i.jsx)(E.L,{id:"or"})}),(0,i.jsxs)("div",(0,r.pi)({className:"fl-social"},{children:[(0,i.jsx)(Ne,{signUp:!0,onSubmit:function(e){return c(me.FACEBOOK,e)}}),(0,i.jsx)(Te,{signUp:!0,onSubmit:function(e){return c(me.GOOGLE,e)}})]})),(0,i.jsx)(E.L,{component:"p",className:"fl-text-small fl-text-center",id:"signup_agreement",values:[function(e){return(0,i.jsx)(E.L,{component:"a",href:S.n.termsOfUse(),id:"terms_of_use",className:"fl-text-lower",target:"_blank"},e)},function(e){return(0,i.jsx)(E.L,{component:"a",href:S.n.privaryPolicy(),id:"privacy_policy",className:"fl-text-lower",target:"_blank"},e)}]})]}))},submitHandlerKey:"onSignUp"},forgot:{title:"forgot_password_title",component:function(e){var t=e.hideSubmit,n=e.className,o=e.initialValues,a=e.onStateChange,c=(0,D.x)(),u=(0,s.useState)(!1),l=u[0],f=u[1];return(0,i.jsxs)("section",(0,r.pi)({className:(0,d.cn)("fl-forgot-section",n)},{children:[l&&!c&&(0,i.jsx)(E.L,{component:"p",className:"fl-text-center",id:"reset_password_confirm"}),!l&&(0,i.jsx)(ve,{id:"forgotPasswordForm",values:o,onStateChange:a,onSubmit:function(){return f(!0)},hideSubmit:t})]}))},link:"signin",linkText:"sign_in",submitHandlerKey:"onResetPassword"},guest:{title:"continue_as_guest",subtitle:"guest_desc",component:function(e){var t=e.hideSubmit,n=e.className,o=e.initialValues,a=e.onStateChange,c=(0,s.useState)(!1),u=c[0],l=c[1];return(0,i.jsx)("section",(0,r.pi)({className:(0,d.cn)("fl-guest-section",n)},{children:!u&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(De,{id:"guestRegistrationForm",values:o,onStateChange:a,onSubmit:function(){return l(!0)},hideSubmit:t})})}))},link:"signin",linkText:(0,E.N)("signup_subtitle")+" "+(0,E.N)("sign_in"),linkBottom:!0,submitHandlerKey:"onGuestRegister"}},ze=function(e){var t=e.onSignUpClick;return(0,i.jsxs)("section",(0,r.pi)({className:"fl-login-invitation"},{children:[(0,i.jsx)(he.X,{children:(0,i.jsx)(E.L,{id:"signin_subtitle"})}),(0,i.jsx)(E.L,{component:"p",className:"fl-subtitle",id:"signup_invitation"}),(0,i.jsx)(O.z,(0,r.pi)({outlined:!0,onClick:t},{children:(0,i.jsx)(E.L,{id:"sign_up"})}))]}))},Ue=n.p+"assets/1a1dd800ce3a51d7ccad.svg",Ze=n.p+"assets/c6896d7b896f9972fb43.svg",Je=n.p+"assets/c25aaf6fe392317a5596.svg",Be=function(e){return(0,i.jsxs)("section",(0,r.pi)({className:"fl-features"},{children:[(0,i.jsx)(Ke,{title:"feature_download_title",desc:"feature_download_desc",iconSrc:Ue}),(0,i.jsx)(Ke,{className:"fl-feature-save",title:"feature_save_title",desc:"feature_save_desc",iconSrc:Ze}),(0,i.jsx)(Ke,{className:"fl-feature-custom",title:"feature_custom_title",desc:"feature_custom_desc",iconSrc:Je})]}))},Ke=function(e){return(0,i.jsxs)("div",(0,r.pi)({className:(0,d.cn)("fl-feature",e.className)},{children:[(0,i.jsx)(f.le,{src:e.iconSrc}),(0,i.jsxs)("div",(0,r.pi)({className:"fl-feature-body"},{children:[(0,i.jsx)(he.X,(0,r.pi)({small:!0},{children:(0,i.jsx)(E.L,{id:e.title})})),(0,i.jsx)(E.L,{component:"p",id:e.desc})]}))]}))},Ye=function(e){var t=e.fullscreen,n=e.className,o=e.view,s=e.onViewChange,a=(0,r._T)(e,["fullscreen","className","view","onViewChange"]),c=(0,E.N)("footer_novaxis_link");return(0,i.jsxs)("div",(0,r.pi)({className:(0,d.cn)("fl-login-panel",t&&"fl-fullscreen",n)},{children:[(0,i.jsx)("div",(0,r.pi)({className:"fl-login-panel-left"},{children:(0,i.jsx)(Ie,(0,r.pi)({},a,{view:o,onViewChange:s}))})),(0,i.jsxs)("div",(0,r.pi)({className:"fl-login-panel-right fl-bg-gradient"},{children:["signup"!==o?(0,i.jsx)(ze,{onSignUpClick:function(){return s("signup")}}):(0,i.jsx)(Be,{}),(0,i.jsxs)("div",(0,r.pi)({className:"fl-shop-branding"},{children:[(0,i.jsx)(E.L,{component:"span",className:"fl-shop-branding-txt",id:"powered_by"}),(0,i.jsx)(Ve,{src:S.n.manager("/assets/img/novaxis-logo-white.svg"),href:c,onClick:a.onLogoClick})]}))]}))]}))},Ve=function(e){return(0,i.jsx)("div",(0,r.pi)({className:"shop-brand"},{children:e.href||e.onClick?(0,i.jsx)("a",(0,r.pi)({target:"_blank",href:e.href,onClick:e.onClick},{children:(0,i.jsx)(We,{src:e.src})})):(0,i.jsx)(We,{src:e.src})}))},We=function(e){return(0,i.jsx)("img",{src:e.src,alt:"NovAxis Solutions"})},He=n(8978),Xe=n(8908),qe=n(7699),Qe=function(e){var t=e.active,n=e.hidden,o=e.size,s=e.header,a=e.footer,c=e.children,u=e.className,l=e.loading,p=e.theme,v=void 0===p?"default":p,g=e.allowDismissByObfuscator,m=e.onDismiss,y=function(){m&&m()},x="fl-modal-"+v,b=o&&"fl-modal-"+o,w=g?function(e){e.target===e.currentTarget&&y()}:void 0;return(0,i.jsxs)(He.u,(0,r.pi)({className:t?"fl-modal-open":void 0},{children:[(0,i.jsx)($e,{id:"naModalBlur",disabled:!t}),(0,i.jsx)(Xe.Z,(0,r.pi)({component:null},{children:t&&(0,i.jsx)(qe.Z,(0,r.pi)({classNames:"fl-modal-transition",timeout:500},{children:(0,i.jsxs)("div",(0,r.pi)({className:"fl-modal-root"},{children:[(0,i.jsx)("div",{onClick:g?w:void 0,className:(0,d.cn)("fl-modal-obfuscator",x),style:{visibility:n?"hidden":void 0}}),(0,i.jsxs)("div",(0,r.pi)({className:(0,d.cn)("fl-modal",a&&"fl-f",s&&"fl-h",x,b,u)},{children:[s&&(0,i.jsx)("div",(0,r.pi)({className:"fl-modal-header"},{children:"string"==typeof s?(0,i.jsx)(he.X,{children:s}):s(e)})),(0,i.jsx)("div",(0,r.pi)({className:"fl-modal-body"},{children:c})),a&&(0,i.jsx)("div",(0,r.pi)({className:"fl-modal-footer"},{children:a(e)})),(0,i.jsx)(f.le,{src:h,className:"fl-close",onClick:y}),(0,i.jsx)(se.f,{active:l})]}))]}))}))}))]}))},$e=function(e){var t=e.id,n=e.value,r=void 0===n?3:n,o=e.disabled;return(0,i.jsxs)("style",{children:["#".concat(t," { transition: filter 300ms linear; }"),!o&&"#".concat(t," { filter: blur(").concat(r,"px); }")]})},et=function(e){var t=e.className,n=e.allowDismissByObfuscator,s=void 0===n||n,a=e.onDismiss,c=(0,r._T)(e,["className","allowDismissByObfuscator","onDismiss"]),u=[(0,Z.wN)(o.Ty.getStore()),o.Ty.setView],l=u[0],f=u[1];return(0,i.jsx)(Qe,(0,r.pi)({},c,{allowDismissByObfuscator:s,active:null!=l.view,onDismiss:function(){f(null),a&&a()},className:(0,d.cn)("fl-login-modal",t)},{children:(0,i.jsx)(Ye,{view:l.view||"signup",initialValues:{email:l.email||void 0},allowGuest:l.allowGuest,onViewChange:f})}))},tt=n(1256),nt=n(7774);function rt(e){return(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:if(!ot())return[2,at(e)];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(e)];case 2:return n.sent(),[2,!0];case 3:return t=n.sent(),console.warn(t),[2,!1];case 4:return[2]}}))}))}function it(e){return(0,r.mG)(this,void 0,void 0,(function(){var t,n,i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:if(!ot())return[2,st(e)];r.label=1;case 1:return r.trys.push([1,3,,4]),t=new Blob([e],{type:"text/html"}),n=new ClipboardItem({"text/html":t}),[4,navigator.clipboard.write([n])];case 2:return r.sent(),[2,!0];case 3:return i=r.sent(),console.warn(i),[2,!1];case 4:return[2]}}))}))}function ot(){var e;return null!=(null===(e=window.navigator)||void 0===e?void 0:e.clipboard)&&null!=window.Blob}function st(e){var t=document.createElement("div"),n=t.firstElementChild;if(!n)return!1;t.innerHTML=e,t.style.visibility="hidden",t.style.position="absolute",t.style.top="0",t.style.left="0",document.body.appendChild(t);var r=function(e){var t,n,r;try{null===(t=window.getSelection())||void 0===t||t.removeAllRanges();var i=document.createRange(),o="string"==typeof e?document.getElementById(e):e;return o&&(i.selectNode(o),null===(n=window.getSelection())||void 0===n||n.addRange(i),document.execCommand("copy"),null===(r=window.getSelection())||void 0===r||r.removeAllRanges()),!0}catch(e){return console.warn(e),!1}}(n);return document.body.removeChild(t),r}function at(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();var n=!1;try{n=document.execCommand("copy")}catch(e){n=!1}return document.body.removeChild(t),n}var ct=n(6004),ut=((0,s.forwardRef)((function(e,t){var n,o,a=e.text,c=e.richText,u=e.icon,l=void 0===u?"copy":u,d=e.label,f=e.labelCopied,h=(e.children,e.onClick),p=e.onBlur,v=(0,r._T)(e,["text","richText","icon","label","labelCopied","children","onClick","onBlur"]),g=(0,ct.N)()[0],m=(0,s.useState)(!1),y=m[0],x=m[1],b=(0,nt.U)((function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return e="function"==typeof a?a():a,[4,(c?it:rt)(e)];case 1:return t.sent()&&x(!0),[2]}}))}))}),[a])[0];return(0,i.jsx)(O.z,(0,r.pi)({},v,{ref:t,icon:y?"check":l,onBlur:function(e){y&&g((function(){x(!1)}),1e3),null==p||p(e)},onClick:function(e){return b(),null==h?void 0:h(e)}},{children:y?null!==(n=f&&(0,i.jsx)(E.L,{id:f}))&&void 0!==n?n:(0,i.jsx)(E.L,{id:"copied"}):null!==(o=d&&(0,i.jsx)(E.L,{id:d}))&&void 0!==o?o:(0,i.jsx)(E.L,{id:"copy"})}))})),function(e){var t=e.text,n=e.icon,o=void 0===n?"copy":n,a=(0,s.useState)(!1),c=a[0],u=a[1],l=(0,nt.U)((function(){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return[4,rt("function"==typeof t?t():t)];case 1:return e.sent()&&u(!0),[2]}}))}))}),[t])[0];return(0,i.jsx)(tt.e,{active:c,onChange:u,component:f.JO,componentProps:{fa:o,onClick:l},alignment:"top-center",render:function(){return(0,i.jsx)(E.L,{id:"copied"})}})}),lt=(n(9675),n(9934)),dt="https://www.google.com/recaptcha/api.js?render="+(0,a.Rd)("google").reCaptchaSiteKey;function ft(){return(0,r.mG)(this,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){return[2,(0,lt.v)(dt)]}))}))}var ht=function(e){var t=e.name,n=e.action,o=e.novalidate,a=(0,P.cl)((function(e){return e.errors[t]}));!function(e){var t=(0,s.useState)(!1),n=(t[0],t[1]);(0,s.useEffect)((function(){var t=!0;return(0,lt.v)(e).then((function(){t&&n(!0)})).catch((function(e){console.error(e)})),function(){t=!1}}),[e])}(dt);var u=function(e,t){var n=(0,P.Gc)(),i=c("google").reCaptchaSiteKey;return(0,s.useCallback)((function(o){var s=o.valid;return(0,r.mG)(void 0,void 0,void 0,(function(){var o,a;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return s?[4,ft()]:[2];case 1:return r.sent(),[4,pt({siteKey:i,action:t})];case 2:return o=r.sent(),n.setFieldValue(e,o),o?[2]:[2,(a={},a[e]="Invalid token",a)]}}))}))}),[e,t,n,i])}(t,n);return(0,P.QZ)(o?void 0:u),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(vt,{}),a?(0,i.jsx)(E.L,{id:a}):null]})};function pt(e){var t=e.siteKey,n=e.action;return new Promise((function(e){window.grecaptcha.ready((function(){window.grecaptcha.execute(t,{action:n}).then((function(t){e(t)}))}))}))}var vt=function(){return(0,i.jsx)(E.L,{component:"p",className:"fl-recaptcha-branding",id:"recaptcha_text",values:[function(e){return(0,i.jsx)(E.L,{component:"a",href:"https://policies.google.com/terms",id:"terms_of_use",className:"fl-text-lower",target:"_blank"},e)},function(e){return(0,i.jsx)(E.L,{component:"a",href:"https://policies.google.com/privacy",id:"privacy_policy",className:"fl-text-lower",target:"_blank"},e)}]})},gt=function(e){return(0,i.jsxs)(P.l0,(0,r.pi)({},e,{children:[(0,i.jsx)(ee,{name:"name",label:(0,E.N)("your_name"),validate:ie}),(0,i.jsx)(ee,{name:"replyto",label:(0,E.N)("your_email"),validate:[ie,re],type:"email"}),(0,i.jsx)(ne,{multi:!0,creatable:!0,placeholder:(0,E.N)("email_address"),name:"emails",label:(0,E.N)("share_email"),validate:[ie,mt]}),(0,i.jsx)(ht,{name:"recaptcha",action:"fld/share/submit"}),(0,i.jsx)(P.nS,{render:function(e){var t=e.submitting,n=e.validating;return(0,i.jsx)(O.z,(0,r.pi)({disabled:t||n,loading:t||n,primary:!0,type:"submit",className:"fl-width-1-1"},{children:(0,i.jsx)(E.L,{id:"send"})}))}})]}))},mt=function(e,t){if(!e||0===e.length)return"error_email_invalid";for(var n=0,r=e;n<r.length;n++){var i=r[n],o=re(i);if(o)return o}},yt=n(5516);function xt(e){return(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return[4,yt.h.post("/email/share",e)];case 1:return(t=n.sent()).ok?[2,!0]:(pe.R.log(t),[2,!1])}}))}))}var bt=function(e){var t=e.url,n=e.onDismiss,a=e.size,c=void 0===a?"small":a,l=(0,r._T)(e,["url","onDismiss","size"]),d=u(),f=function(){var e=(0,s.useState)(),t=e[0],n=e[1];return(0,s.useEffect)((function(){var e=!0;return(0,o.OD)().then((function(t){return e&&n(t)})),function(){e=!1}}),[]),t}();return(0,i.jsxs)(Qe,(0,r.pi)({},l,{header:function(){return(0,i.jsx)(he.X,{children:(0,i.jsx)(E.L,{id:"shareform_title"})})},size:c,onDismiss:n},{children:[(0,i.jsx)(E.L,{id:"shareform_email_desc",component:"p"}),(0,i.jsx)(gt,{values:{name:null==d?void 0:d.firstName,replyto:f},onSubmit:function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){var i;return(0,r.Jh)(this,(function(o){switch(o.label){case 0:return[4,xt((0,r.pi)((0,r.pi)({},e),{url:t,languageCode:(0,V.G3)()}))];case 1:return(i=o.sent())&&n&&n(),[2,i]}}))}))}})]}))},wt=function(e){var t=e.className,n=(0,r._T)(e,["className"]);return(0,i.jsx)(_e,(0,r.pi)({},n,{className:(0,d.cn)("fl-twitter-button",t)}))},Ct=function(e){var t=e.className,n=(0,r._T)(e,["className"]);return(0,i.jsx)(_e,(0,r.pi)({},n,{className:(0,d.cn)("fl-email-button",t)}))},_t=function(e){var t=e.links,n=e.size,o=e.className,a=e.onViewChange,c=(0,s.useState)(null),u=c[0],l=c[1];return(0,i.jsxs)("div",(0,r.pi)({className:(0,d.cn)("fl-sharelink-buttons",o)},{children:[(0,i.jsx)(ke,{type:"circle",size:n,text:"Share by Facebook",href:null==t?void 0:t.facebook,target:{width:670,height:340}}),(0,i.jsx)(wt,{type:"circle",size:n,text:"Share by Twitter",href:null==t?void 0:t.twitter,target:{width:670,height:500}}),(0,i.jsx)(Ct,{type:"circle",size:n,text:"Share by email",onClick:function(e,t){a&&a(e,t),t&&!t.defaultPrevented&&l(e)}.bind(void 0,"email")}),t&&(0,i.jsx)(bt,{url:t.url,active:"email"===u,onDismiss:function(){a&&a(null),l(null)}})]}))},kt=function(e){var t=e.links,n=e.onShareViewChange;return(0,i.jsxs)("section",(0,r.pi)({className:"fl-shareview"},{children:[(0,i.jsxs)("div",(0,r.pi)({className:"fl-sharelink"},{children:[(0,i.jsx)(F.z,{readOnly:!0,autoSelect:!0,value:t.url}),(0,i.jsx)(ut,{text:t.url})]})),(0,i.jsx)(_t,{size:"large",className:"fl-shareview-buttons",links:t,onViewChange:n})]}))};var Et=function(e){var t=e.privateId,n=e.active,o=e.onDismiss,a=e.allowDismissByObfuscator,c=void 0===a||a,u=(0,r._T)(e,["privateId","active","onDismiss","allowDismissByObfuscator"]),l=function(){return o&&o()},d=function(e,t){var n=(0,s.useRef)(t),i=(0,s.useState)(),o=i[0],a=i[1];return n.current=t,(0,s.useEffect)((function(){var t=!0;if(e)return function(e,t){return void 0===t&&(t=(0,V.G3)()),(0,r.mG)(this,void 0,void 0,(function(){var n;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,yt.h.post("/logos/"+e+"/share",{languageCode:t})];case 1:return(n=r.sent()).ok?[2,n.data]:(pe.R.log(n),[2])}}))}))}(e).then((function(e){!t&&e||(e?a(e):n.current&&n.current())})),function(){t=!1}}),[e,n]),o}(n?t:void 0,l),f=(0,s.useState)(!1),h=f[0],p=f[1];return(0,i.jsx)(Qe,(0,r.pi)({},u,{allowDismissByObfuscator:c,hidden:h,size:"small",active:n,loading:!d,onDismiss:o,header:function(){return(0,i.jsx)(he.X,{children:(0,i.jsx)(E.L,{id:"shareform_title"})})}},{children:d&&(0,i.jsx)(kt,{links:d,onShareViewChange:function(e,t){p("email"===e),e||l()}})}))},St=n(1568),jt=n(409),Nt=n(3396),Lt=n(6034),At=n(5316),Ot=n(9141),Tt=n(9525),Dt=n(6714),Mt=n(6155),Rt=n(3924);function Pt(e,t){return(0,r.mG)(this,void 0,void 0,(function(){var n,i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:if(!e)throw new Error("Invalid template name");return[4,It(e)];case 1:return n=r.sent(),i=n?"put":"post",[4,yt.h[i]("/assets-management/logos/"+e,t)];case 2:return[2,r.sent()]}}))}))}function It(e){return(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:if(!e)throw new Error("Invalid template name");return[4,yt.h.get("/assets-management/logos/"+e)];case 1:return(t=n.sent()).ok?[2,(0,Rt.aU)(t.data)]:404!==t.status?(pe.R.log(t),[2,null]):[2,null]}}))}))}n(6514);var Ft=n(9543),Gt=(0,Tt.WD)((function(e){var t=e.getService,n=e.snapshot,i=e.send;return function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e,o,s,c,u;return(0,r.Jh)(this,(function(l){switch(l.label){case 0:if(e=t(Dt.Xz),o=(0,a.yF)("privateId"),s=null!==(u=(0,a.yF)("meta"))&&void 0!==u?u:{},!o)return pe.R.validation("Could not find template private ID."),[2,!1];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Pt(o,{svgData:e.renderToString(),meta:(0,r.pi)((0,r.pi)({},s),{background:n.getLoadable(Dt.zv.background).getValue()})})];case 2:return l.sent(),i(Ft.BU.saveCurrentStateVersion),Mt.$E({id:"save",message:(0,V.NC)("logo_save_success")}),[2,!0];case 3:return c=l.sent(),pe.R.log(c),[2,!1];case 4:return[2]}}))}))}})),zt=(0,Tt.WD)((function(e){var t=e.send;return function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(n){switch(n.label){case 0:return e=(0,a.yF)("privateId"),[4,t(Gt)];case 1:return n.sent()&&(location.href=S.n.manager("/admin/apps/logos"+(0,w.cZ)({template:e,search:e}))),[2]}}))}))}})),Ut=function(e){var t=u();return(0,Nt.GJ)(),(0,i.jsxs)(p,(0,r.pi)({logoSrc:S.n.base("/assets/img/logo-freelogodesign.svg"),onLogoClick:function(){return(0,St.bY)((function(){var e=!!(0,a.F6)();location.href=e?S.n.manager():S.n.website()}),!0)}},{children:[e.children,(0,i.jsxs)(j,(0,r.pi)({user:t,onSignInClick:o.tl,onSignUpClick:o._O},{children:[(0,i.jsx)(b.sN,(0,r.pi)({onClick:function(){return(0,St.bY)(S.n.manager())}},{children:(0,i.jsx)(E.L,{id:"user_logos"})})),(0,i.jsx)(b.sN,(0,r.pi)({onClick:function(){return(0,St.bY)(S.n.account())}},{children:(0,i.jsx)(E.L,{id:"account"})})),(0,i.jsx)(L,{}),(0,i.jsx)(b.Cl,{}),(0,i.jsx)(b.sN,(0,r.pi)({onClick:function(){return o.w7(S.n.manager())}},{children:(0,i.jsx)(E.L,{id:"user_signout"})}))]})),(0,i.jsx)(R,{}),(0,i.jsx)(et,{})]}))},Zt="bottom-center",Jt=function(e){var t=e.disabled,n=(0,a.yF)("privateId"),o=(0,T.Yd)(),s=o[0],c=o[1],u=(0,Tt.G2)(Dt.Xz),l=(0,Ot.Qu)().saveLogo,d=(0,At._i)(),f=(0,nt.U)((function(){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return n?[4,l({silent:!0,allowAnonymous:!0,svgData:d()||u.renderToString()})]:[2];case 1:return e.sent(),c("share"),[2]}}))}))}),[]),h=f[0],p=f[1];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(O.z,{transparent:!0,disabled:t,titleAlignment:Zt,title:(0,E.N)("share"),icon:"share-alt",loading:p,onClick:h}),(0,i.jsx)(Et,{active:"share"===s&&!t,onDismiss:function(){return c(null)},privateId:n})]})},Bt=function(){return(0,i.jsx)(O.z,{transparent:!0,title:(0,E.N)("faq_help"),titleAlignment:Zt,icon:"question",target:"_blank",href:S.n.help()})},Kt=function(e){var t=e.disabled,n=(0,T.Yd)(),o=n[0],s=n[1],a=(0,Tt.G2)(Dt.Xz),c=(0,Lt.Zl)(At.Yj);return"preview"===o?(0,i.jsx)(O.z,(0,r.pi)({titleAlignment:Zt,onClick:function(){s(null)}},{children:(0,i.jsx)(E.L,{id:"close"})})):(0,i.jsx)(O.z,(0,r.pi)({collapse:!0,disabled:t,titleAlignment:Zt,icon:"eye",onClick:function(){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){return c(a.renderToString()),s("preview"),[2]}))}))}},{children:(0,i.jsx)(E.L,{id:"preview"})}))},Yt=function(e){var t=e.disabled,n=(0,D.x)(),o=(0,T.Yd)()[0],s=(0,Ot.Qu)(),a=(0,At._i)(),c=(0,nt.U)((function(){var e="preview"===o?a():void 0;return s.saveLogo({svgData:e})}),[a,s]),u=c[0],l=c[1];return(0,i.jsx)(O.z,(0,r.pi)({collapse:!0,icon:"save",titleAlignment:Zt,onClick:u,disabled:l||n||t},{children:(0,i.jsx)(E.L,{id:"save"})}))},Vt=function(e){var t=e.disabled,n=(0,D.x)(),o=(0,T.Yd)()[0],s=(0,Ot.Qu)(),a=(0,At._i)(),c=(0,nt.U)((function(){var e="preview"===o?a():void 0;return s.completeLogo({allowAnonymous:!0,svgData:e})}),[a,s]),u=c[0],l=c[1];return(0,i.jsx)(O.z,(0,r.pi)({titleAlignment:Zt,onClick:u,disabled:l||n||t,primary:!0},{children:(0,i.jsx)(E.L,{id:"finish"})}))},Wt=function(){var e=!(0,jt.Gw)();return(0,i.jsxs)("div",(0,r.pi)({className:"fl-menubar-section"},{children:[(0,i.jsx)(Bt,{}),(0,i.jsx)(Jt,{disabled:e}),(0,i.jsx)(Kt,{disabled:e}),(0,i.jsx)(Yt,{disabled:e}),(0,i.jsx)(Vt,{disabled:e})]}))},Ht=function(){var e=!(0,jt.Gw)(),t=(0,D.x)(),n=(0,Tt.aK)(),o=(0,nt.U)((function(){return n(Gt)}),[]),s=o[0],a=o[1],c=(0,nt.U)((function(){return n(zt)}),[]),u=c[0],l=c[1];return(0,i.jsxs)("div",(0,r.pi)({className:"fl-menubar-section"},{children:[(0,i.jsx)(Kt,{}),(0,i.jsx)(O.z,(0,r.pi)({collapse:!0,icon:"save",titleAlignment:Zt,onClick:s,disabled:t||a||e},{children:(0,i.jsx)(E.L,{id:"save"})})),(0,i.jsx)(O.z,(0,r.pi)({titleAlignment:Zt,onClick:u,disabled:t||l||e,primary:!0},{children:(0,i.jsx)(E.L,{id:"done"})}))]}))}},5316:function(e,t,n){n.d(t,{JN:function(){return o},Yj:function(){return i},_i:function(){return s}});var r=n(6034),i=(0,r.cn)({key:"renderedSVGString",default:""}),o=function(){return(0,r.sJ)(i)},s=function(){return(0,r._8)((function(e){var t=e.snapshot;return function(){return t.getLoadable(i).getValue()}}))}},6981:function(e,t,n){n.d(t,{BA:function(){return a},Xn:function(){return i},ri:function(){return s}});var r=Symbol("Service");function i(e){return e.$$name||(e.$$name=o(),e.$$typeOf=r),e}var o=(()=>{let e=0;return()=>"s_"+Date.now()+"_"+e++})();function s(e,t=[]){return a(new class{constructor(e){this._subscriptions=new Set,this._middlewares=new Set;const t=new class{constructor(e){this._options=new Map,this.getOption=this.getOption.bind(this),null!=e&&this.configure(e)}getOption(e){if(!this._options.has(e))throw new Error('Missing config "'+e+'"');return this._options.get(e)}configure(e){for(const t in e){const n=e[t];void 0!==n&&(null!==n?this._options.set(t,n):this._options.delete(t))}return this}dispose(){this._options.clear()}}(e),n=new class{constructor(e){this._services=new Map,this._getConfig=e.getOption,this.getService=this.getService.bind(this)}getService(e){const t=function(e){var t;return"string"==typeof e?e:null!=(t=e.$$name)?t:e.$$name=o()}(e);if(this._services.has(t))return this._services.get(t).instance;if("string"==typeof e)throw new Error('Service is not registered "'+e.toString()+'"');return this._registerService(t,e)}inject(e,t){const n=e.length,r=new Array(n);for(let t=0;t<n;t++)r[t]=this.getService(e[t]);return t.apply(void 0,r)}dispose(){this._services.forEach((e=>{e.instance.dispose()})),this._services.clear()}_registerService(e,t){const n=t.$$typeOf===r?e=>new t(e):t,i={instance:n({key:e,getService:this.getService,getOption:this._getConfig}),builder:n};return this._services.set(e,i),i.instance}}(t);this.getOption=t.getOption,this.getService=n.getService,this.createContext=this.createContext.bind(this),this.useContext=this._middlewares.add.bind(this._middlewares),this.register=this._subscriptions.add.bind(this._subscriptions),this.unregister=this._subscriptions.delete.bind(this._subscriptions),this.register(t),this.register(n)}createContext(){let e={};return this._middlewares.forEach((t=>t(e))),e.getService=this.getService,e}dispose(){this._middlewares.clear(),this._subscriptions.forEach(c)}}(e),t)}function a(e,t){for(const n of t)n(e);return e}function c(e){e.dispose()}},5873:function(e,t,n){n.d(t,{Cp:function(){return N},Dp:function(){return A},Eo:function(){return Ne},FK:function(){return D},J6:function(){return L},Jn:function(){return De},Mr:function(){return y},Vw:function(){return Le},X6:function(){return M},de:function(){return T},p9:function(){return E}});var r=n(3313),i=n.n(r),o=n(4012),s=n(8908),a=n(7699),c=Object.defineProperty,u=Object.defineProperties,l=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,v=(e,t)=>{for(var n in t||(t={}))f.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))h.call(t,n)&&p(e,n,t[n]);return e},g=(e,t)=>u(e,l(t)),m=(e,t)=>{var n={};for(var r in e)f.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))t.indexOf(r)<0&&h.call(e,r)&&(n[r]=e[r]);return n},y=(e=>(e[e.NULL=0]="NULL",e[e.SOLID=1]="SOLID",e[e.GRADIENT=2]="GRADIENT",e))(y||{});function x(e,t,n){return e>t?t:e<n?n:e}function b(e){if(!e.startsWith("#")){const t=document.createElement("canvas").getContext("2d");if(!t)throw new Error("2d context not supported or canvas already initialized");return t.fillStyle=e,k(t.fillStyle)}return 4===e.length||5===e.length?k(e=e.split("").map(((e,t)=>t?e+e:"#")).join("")):7===e.length||9===e.length?k(e):"#000000"}function w(e){e=e.slice(1);const t=parseInt(e.slice(0,2),16),n=parseInt(e.slice(2,4),16),r=parseInt(e.slice(4,6),16);let i=parseInt(e.slice(6,8),16)||void 0;return i&&(i/=255),{r:t,g:n,b:r,a:i}}function C({r:e,g:t,b:n,a:r}){e/=255,t/=255,n/=255;const i=Math.max(e,t,n),o=i-Math.min(e,t,n);return{h:o?60*(i===e?(t-n)/o+(t<n?6:0):i===t?2+(n-e)/o:4+(e-t)/o):0,s:i?o/i*100:0,v:100*i,a:r}}function _({r:e,g:t,b:n,a:r}){return k("#"+[e,t,n].map(((e,t)=>void 0!==e?(t<3?e:Math.round(255*e)).toString(16).padStart(2,"0"):"")).join(""))}function k(e){return e.length>7?e.substr(0,7):e}function E(e,t){let n=b("#121212"),r=w(n),i=C(r);return"hex"===e?(n=b(t),r=w(n),i=C(r)):"rgb"===e?(r=t,n=_(r),i=C(r)):"hsv"===e&&(i=t,r=function({h:e,s:t,v:n,a:r}){const i=~~(e/60),o=e/60-i,s=(n/=100)*(1-(t/=100)),a=n*(1-t*o),c=n*(1-t*(1-o)),u=i%6;return{r:Math.round(255*[n,a,s,s,c,n][u]),g:Math.round(255*[c,n,n,a,s,s][u]),b:Math.round(255*[s,s,c,n,n,a][u]),a:r}}(i),n=_(r)),{hex:n,rgb:r,hsv:i}}var S=308,j=574,N="objectBoundingBox",L=Object.freeze({type:0}),A=Object.freeze(g(v({},E("rgb",{r:0,g:0,b:0,a:1})),{left:0}));function O(e,t,n,r){return Math.round(180*Math.atan2(t-r,e-n)/Math.PI+180)%360}function T(e,t,n){const r=E(e,t);return r.left=n,r}function D(e){var t,n,r,i;const{x1:o=0,y1:s=50,x2:a=100,y2:c=50}=e;return{id:null!=(t=e.id)?t:R(),type:null!=(n=e.type)?n:"linear",units:null!=(r=e.units)?r:"objectBoundingBox",points:null!=(i=e.points)?i:[],x1:o,y1:s,x2:a,y2:c,degree:O(o,s,a,c)}}function M(e){return g(v({},e),{id:R()})}var R=(()=>{let e=0;return()=>"g_"+function(e){let t,n,r=0;if(0===e.length)return r;for(t=0;t<e.length;t++)n=e.charCodeAt(t),r=(r<<5)-r+n,r|=0;return r}(Date.now().toString())+"_"+e++})();function P(e){const t=(0,r.useRef)(null);return(0,r.useEffect)((()=>{e&&("function"==typeof e?e(t.current):e.current=t.current)}),[e]),t}var I=(0,r.forwardRef)((({className:e,style:t,readOnly:n,clamped:o,onStartChange:s,onChange:a,onEndChange:c,children:u},l)=>{const d=P(l),f=(0,r.useRef)(null),h=(0,r.useRef)(!1),p=(0,r.useRef)(null),[v,g]=(0,r.useState)(null),m=(0,r.useCallback)(((e,t)=>{if(f.current){const{width:n,height:r,left:i,top:s}=f.current;p.current=o?[x(e.clientX-i,n,0),x(e.clientY-s,r,0)]:[e.clientX,e.clientY],t(...p.current)}}),[o]),y=n?void 0:e=>{!h.current&&d.current&&("mousedown"===e.type&&0!==e.button||(e.preventDefault(),h.current=!0,f.current=d.current.getBoundingClientRect(),m(G(e),((e,t)=>(s(e,t),a(e,t)))),g(F[e.type])))};return(0,r.useEffect)((()=>{if(n||!v)return;const[e,t]=v,r=e=>{m(G(e),a)},i=()=>{o(),h.current=!1,g(null),p.current&&(a(...p.current),c(...p.current))};window.addEventListener(e,r,!1),window.addEventListener(t,i,!1);const o=()=>{window.removeEventListener(e,r,!1),window.removeEventListener(t,i,!1)};return o}),[a,c,m,v]),i().createElement("div",{ref:d,className:e,style:t,onMouseDown:y,onTouchStart:y},u)})),F={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend"]};function G(e){return e.type.indexOf("touch")<0?e:e.touches[0]}var z=({width:e,color:t,readOnly:n,onChange:o,onStartChange:s,onEndChange:a})=>{const c=(0,r.useMemo)((()=>{var n;const r=function(e,t){return e*t}(null!=(n=t.hsv.a)?n:1,e);return r}),[t.hsv.a,e]),u=n=>r=>{n(E("hsv",g(v({},t.hsv),{a:r/e})))},l=(0,r.useMemo)((()=>`${t.rgb.r}, ${t.rgb.g}, ${t.rgb.b}`),[t.rgb]),d=(0,r.useMemo)((()=>{var e;return`${l}, ${null!=(e=t.rgb.a)?e:1}`}),[l,t.rgb.a]),f=(0,r.useMemo)((()=>-c-2),[c]);return i().createElement(I,{clamped:!0,readOnly:n,className:"rcp-alpha",onChange:u(o),onStartChange:u(s),onEndChange:u(a),style:{background:`linear-gradient(to right, rgba(${l}, 0), rgba(${l}, 1)) top left / auto auto,\n                conic-gradient(#666 0.25turn, #999 0.25turn 0.5turn, #666 0.5turn 0.75turn, #999 0.75turn) top left / 12px 12px\n                repeat`}},i().createElement("div",{className:"rcp-alpha-cursor",style:{left:c,background:`linear-gradient(to right, rgba(${d}), rgba(${d})) top left / auto auto,\n                conic-gradient(#666 0.25turn, #999 0.25turn 0.5turn, #666 0.5turn 0.75turn, #999 0.75turn) ${f}px 2px / 12px 12px\n                repeat`}}))},U=({width:e,height:t,color:n,readOnly:o,onChange:s,onStartChange:a,onEndChange:c})=>{const u=(0,r.useMemo)((()=>{const[r,i]=function(e,t,n){const{s:r,v:i}=e.hsv;return[r/100*t,(100-i)/100*n]}(n,e,t);return{x:r,y:i}}),[n,e,t]),l=r=>(i,o)=>{r(E("hsv",g(v({},n.hsv),{s:i/e*100,v:100-o/t*100})))};return i().createElement(I,{clamped:!0,readOnly:o,className:"rcp-saturation",style:{height:t,backgroundColor:`hsl(${n.hsv.h}, 100%, 50%)`},onChange:l(s),onStartChange:l(a),onEndChange:l(c)},i().createElement("div",{className:"rcp-saturation-cursor",style:{left:u.x,top:u.y,backgroundColor:n.hex}}))},Z=({width:e,color:t,readOnly:n,onChange:o,onStartChange:s,onEndChange:a})=>{const c=(0,r.useMemo)((()=>{const n=function(e,t){return e/360*t}(t.hsv.h,e);return n}),[t.hsv.h,e]),u=n=>r=>{r/e*360||console.log(),n(E("hsv",g(v({},t.hsv),{h:r/e*360})))};return i().createElement(I,{clamped:!0,readOnly:n,className:"rcp-hue",onChange:u(o),onStartChange:u(s),onEndChange:u(a)},i().createElement("div",{className:"rcp-hue-cursor",style:{left:c,backgroundColor:`hsl(${t.hsv.h}, 100%, 50%)`}}))},J=(0,r.createContext)({localize:e=>e}),B=({localize:e,children:t})=>(0,r.createElement)(J.Provider,{value:{localize:e}},t);function K(){return(0,r.useContext)(J).localize}function Y(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}var V=/[0-9A-F]/i,W=", ",H={linear:(e,t)=>"linear-gradient("+t+"deg, "+e.map((e=>X(e)+" "+e.left+"%")).join(",")+") top left / auto auto",radial:(e,t)=>"radial-gradient("+e.map((e=>X(e)+" "+e.left+"%")).join(",")+")"};function X({rgb:e}){var t;return"rgba("+e.r+W+e.g+W+e.b+W+(null!=(t=e.a)?t:1)+")"}function q(e,t,n){return(0,H[e])(t,n)}function Q(e){return(2===e.type?q(e.value.type,e.value.points,e.value.degree):0===e.type?"linear-gradient(to right, transparent 0%, transparent 100%)":function(e){const t=X(e);return"linear-gradient(to right, "+t+"0, "+t+" 100%)"}(e.value))+", conic-gradient(#fff 0.25turn, #ebebeb 0.25turn 0.5turn, #fff 0.5turn 0.75turn, #ebebeb 0.75turn) top left / 12px 12px repeat"}var $=(0,r.forwardRef)((({color:e,disabled:t,className:n,title:r,onClick:i},o)=>React.createElement("div",{ref:o,className:"rcp-colorbadge"+(t?" rcp-disabled":"")+(n?" "+n:""),title:r,style:0!==e.type?g(v({},ee),{background:2===e.type?q(e.value.type,e.value.points,e.value.degree):X(e.value)}):ee,onClick:t?void 0:i},0===e.type&&React.createElement(ne,null)))),ee={position:"relative"},te={width:"100%",height:"100%",position:"absolute",top:0,left:0},ne=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",style:te},React.createElement("path",{d:"M0 0L300 300",fill:"none",stroke:"#f00",strokeWidth:"2"})),re=({color:e,readOnly:t,hideHEX:n,hideNullColor:o,hasColor:s,onChange:a})=>{const c=K(),u=(0,r.useCallback)((()=>({value:e.hex,inputted:!1})),[e.hex]),[l,d]=(0,r.useState)(u);return(0,r.useEffect)((()=>{l.inputted||d(u)}),[l.inputted,u]),i().createElement(i().Fragment,null,!n&&i().createElement("div",{className:"rcp-fields-element-row"},!o&&i().createElement($,{className:"none-element"+(s?"":" rcp-active"),color:L,title:c("nocolor"),onClick:()=>a(null)}),i().createElement("div",{className:"rcp-fields-element hex-element"},i().createElement("input",{tabIndex:1,readOnly:t,className:"rcp-fields-element-input",value:l.value,onFocus:e=>{d(g(v({},l),{inputted:!0})),e.currentTarget.select()},onChange:e=>{const t=e.target.value;(function(e){return e.startsWith("#")?(e=e.slice(1),V.test(e[e.length-1])):/\w/i.test(e)&&!/\d/.test(e)||""===e})(t)&&(a(E("hex",t)),d(g(v({},l),{value:t})))},onBlur:()=>d(g(v({},l),{inputted:!1}))}),i().createElement("label",{className:"rcp-fields-element-label"},"HEX"))))},ie=({readOnly:e,color:t,hideRGB:n,hideHSV:o,hideAlpha:s,onChange:a})=>{const c=!s,u=(0,r.useCallback)((()=>({value:`${t.rgb.r}, ${t.rgb.g}, ${t.rgb.b}${c&&void 0!==t.rgb.a?`, ${Y(t.rgb.a,3)}`:""}`,inputted:!1})),[t.rgb,c]),l=(0,r.useCallback)((()=>({value:`${Math.round(t.hsv.h)}, ${Math.round(t.hsv.s)}%, ${Math.round(t.hsv.v)}%${c&&void 0!==t.hsv.a?`, ${Y(t.hsv.a,3)}`:""}`,inputted:!1})),[t.hsv,c]),[d,f]=(0,r.useState)(u),[h,p]=(0,r.useState)(l);return(0,r.useEffect)((()=>{d.inputted||f(u)}),[d.inputted,u]),(0,r.useEffect)((()=>{h.inputted||p(l)}),[h.inputted,l]),i().createElement(i().Fragment,null,(!n||!o)&&i().createElement(i().Fragment,null,!n&&i().createElement("div",{className:"rcp-fields-element"},i().createElement("input",{tabIndex:2,readOnly:e,className:"rcp-fields-element-input",value:d.value,onFocus:e=>{f(g(v({},d),{inputted:!0})),e.currentTarget.select()},onChange:e=>{const t=e.target.value.match(/\d+(?:\.\d+)?/g);if(t&&(3===t.length||c&&4===t.length)){const e=function(e){const[t,n,r,i]=e.map(((e,t)=>x(Number(e),t<3?255:1,0)));return{r:t,g:n,b:r,a:i}}(t);a(E("rgb",e))}f(g(v({},d),{value:e.target.value}))},onBlur:()=>f(g(v({},d),{inputted:!1}))}),i().createElement("label",{className:"rcp-fields-element-label"},"RGB")),!o&&i().createElement("div",{className:"rcp-fields-element"},i().createElement("input",{tabIndex:3,readOnly:e,className:"rcp-fields-element-input",value:h.value,onFocus:e=>{p(g(v({},h),{inputted:!0})),e.currentTarget.select()},onChange:e=>{const t=e.target.value.match(/\d+(?:\.\d+)?/g);if(t&&(3===t.length||c&&4===t.length)){const e=function(e){const[t,n,r,i]=e.map(((e,t)=>x(Number(e),t?t<3?100:1:360,0)));return{h:t,s:n,v:r,a:i}}(t);a(E("hsv",e))}p(g(v({},h),{value:e.target.value}))},onBlur:()=>p(g(v({},h),{inputted:!1}))}),i().createElement("label",{className:"rcp-fields-element-label"},"HSV"))))},oe=({color:e,readOnly:t,hideHEX:n,hideRGB:r,hideHSV:o,hideAlpha:s,hideNullColor:a,hasColor:c,onChange:u})=>i().createElement(i().Fragment,null,(!n||!r||!o)&&i().createElement("div",{className:"rcp-fields"},i().createElement(re,{color:e,readOnly:t,hideHEX:n,hideNullColor:a,hasColor:c,onChange:u}),i().createElement(ie,{color:e,readOnly:t,hideRGB:r,hideHSV:o,hideAlpha:s,onChange:u}))),se={clientX:0,clientY:0,clientX1:0,clientY1:0};function ae(e){return function(e){if(e.type.indexOf("touch")<0)return[{clientX:e.clientX,clientY:e.clientY}];{const t=e.touches,n=t.length,r=new Array(n);for(let e=0;e<n;e++){const n=t.item(e);r[e]={clientX:n.clientX,clientY:n.clientY}}return r}}(e)[0]}function ce(e){var t=e,{svg:n,active:r,className:i}=t,o=m(t,["svg","active","className"]);return React.createElement("button",g(v({},o),{className:"rcp-button"+(r?" rcp-active":"")+(i?" "+i:"")}),React.createElement(ue,{content:n}))}function ue({content:e}){return React.createElement("span",{dangerouslySetInnerHTML:{__html:e}})}var le=({width:e,index:t,gradient:n,readOnly:i,onStartChange:o,onEndChange:s,onChange:a,onIndexChange:c})=>{const{points:u,units:l,degree:d}=n,f=(0,r.useRef)({points:u,isDeleting:!1}),h=(0,r.useRef)(null),[p,m]=(0,r.useState)(-1),y=function(e){const t=(0,r.useRef)(v({},se)),n=(0,r.useRef)(e);n.current.start=e.start,n.current.move=e.move,n.current.end=e.end;const i=(0,r.useCallback)((e=>t.current=e),[t]);return(0,r.useCallback)((e=>{const r=e.type.indexOf("touch")>=0,o=ae(e),s=i({clientX:o.clientX,clientX1:o.clientX,clientY:o.clientY,clientY1:o.clientY}),a=e=>{const r=ae(e);n.current.move&&n.current.move(i(g(v({},t.current),{clientX:r.clientX,clientY:r.clientY})))},c=e=>{n.current.end&&n.current.end(i(t.current)),document.removeEventListener(r?"touchmove":"mousemove",a),document.removeEventListener(r?"touchend":"mouseup",c)};n.current.start&&n.current.start(s),document.addEventListener(r?"touchmove":"mousemove",a),document.addEventListener(r?"touchend":"mouseup",c)}),[t,n,i])}({start:()=>{f.current.points=u,o(n),a(n)},move:e=>{var r,i,o;const s=f.current,u=null==(r=h.current)?void 0:r.getBoundingClientRect();if(!u)return;const l=(null==(i=s.points[t-1])?void 0:i.left)||0,d=(null==(o=s.points[t+1])?void 0:o.left)||100,p=(e.clientX-e.clientX1)/(u.width||0)||0,y=Math.min(Math.max(s.points[t].left+100*p,0),100),x=s.points.slice(),b=x.length>2&&e.clientY<u.top-20||e.clientY>u.top+u.height+20,w=x[t]=g(v({},x[t]),{left:y});if(s.isDeleting!==b&&(s.isDeleting=b,m(b&&x.length>2?t:-1)),w.left<l||w.left>d){x.sort(ve);const r=x.indexOf(w);e.clientX1+=u.width*((s.points[r].left-s.points[t].left)/100),a(g(v({},n),{points:s.points=x})),c(r)}else a(g(v({},n),{points:x}))},end:()=>{const e=f.current;if(e.isDeleting&&p>=0&&u.length>1){e.isDeleting=!1,m(-1);const t=g(v({},n),{points:ge(u,p)});a(t),s(t)}}}),b=(0,r.useMemo)((()=>u.filter(((e,t)=>t!==p))),[u,p]),w=e=>t=>{const r=function(e,t){const n=t-e.degree,r=.5*(e.x1+e.x2),i=.5*(e.y1+e.y2),[o,s]=fe([e.x1,e.y1],n,r,i),[a,c]=fe([e.x2,e.y2],n,r,i);return g(v({},e),{degree:O(o,s,a,c),x1:o,y1:s,x2:a,y2:c})}(n,t);e!==a&&a(r),e(r)};return React.createElement("div",{className:"rcp-gradientbar",style:{width:e}},React.createElement("div",{className:"rcp-gradient",style:{background:q("linear",b,90)}}),React.createElement("div",{className:"rcp-gradient-content",ref:h,onMouseDown:i?void 0:e=>{var t;const r=function(e){return e.type.indexOf("touch")<0?e:e.touches[0]}(e),i=h.current;if(i){const e=i.getBoundingClientRect(),o=Math.min(Math.max(Math.round((r.clientX-e.left)/e.width*100),0),100);let l=0,d=u[0];for(let e=0,t=u.length;e<t&&u[e].left<o;e++)l=e;d=u[l];const f=[...u],h=function({rgb:e},{rgb:t},n){var r,i;const o=null!=(r=e.a)?r:1;return E("rgb",{r:Math.round(e.r+(t.r-e.r)*n/100),g:Math.round(e.g+(t.g-e.g)*n/100),b:Math.round(e.b+(t.b-e.b)*n/100),a:Math.round(o+((null!=(i=t.a)?i:1)-o)*n/100)})}(d,null!=(t=u[l+1])?t:d,(r.clientX-(e.left+e.width*(d.left/100)))/e.width*100),p=d.left>o?l:l+1;h.left=o,f.splice(p,0,h);const m=g(v({},n),{points:f});a(m),s(m),c(p)}}},b.map(((e,n)=>{const r=i?void 0:e=>{e.stopPropagation(),c(n),y(e)};return React.createElement("div",{key:n,className:"rcp-gradientbar-color"+(n===t?" rcp-active":""),onTouchStart:r,onMouseDown:r,style:{backgroundColor:X(e),left:e.left+"%"}})}))),React.createElement("div",{className:"rcp-gradient-inputs"},React.createElement(he,{readOnly:i,units:l,onChange:e=>{const t=g(v({},n),{units:e});a(t),s(t)}}),React.createElement(pe,{readOnly:i,degree:d,onChange:w(a),onStartChange:w(o),onEndChange:w(s)}),React.createElement(ce,{disabled:i,svg:'<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="exchange-alt" class="svg-inline--fa fa-exchange-alt fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"></path></svg>',title:"Reverse",onClick:()=>{const e=g(v({},n),{points:[...u].reverse().map(((e,t)=>g(v({},e),{left:x(100-e.left,100,0)})))});c(u.length-1-t),a(e),s(e)}}),React.createElement(ce,{className:"danger",svg:'<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="trash-alt" class="svg-inline--fa fa-trash-alt fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"></path></svg>',disabled:u.length<3,title:"Remove",onClick:()=>{const e=u.length-2;t>e&&c(e),a(g(v({},n),{points:ge(u,t)}))}})))},de=Math.PI/180;function fe([e,t],n,r,i){const o=n*de,s=Math.sin(o),a=Math.cos(o),c=(e-=r)*a-(t-=i)*s,u=e*s+t*a;return e=c+r,t=u+i,[Math.round(100*(c+r))/100,Math.round(100*(u+i))/100]}function he({units:e,readOnly:t,onChange:n}){return React.createElement("label",{className:"rcp-units-label"},React.createElement("input",{type:"checkbox",checked:!e||"objectBoundingBox"===e,onChange:t?void 0:e=>n(e.currentTarget.checked?"objectBoundingBox":"userSpaceOnUse")}),React.createElement("span",null,"Box"))}function pe({degree:e,readOnly:t,onChange:n,onStartChange:i,onEndChange:o}){const s=(0,r.useRef)(null),a=(0,r.useRef)(null),[c,u]=(0,r.useState)(!1),l=e=>(t,n)=>{if(!s.current)return;const r=s.current.getBoundingClientRect(),i=360-(function(e,t){const n=t.x-e.x,r=t.y-e.y;return 180+180/Math.PI*Math.atan2(-n,-r)}({x:r.left+.5*r.width,y:r.top+.5*r.height},{x:t,y:n})-180);e(d(i))},d=(0,r.useCallback)((t=>!a.current||isNaN(t)?e:(t=Math.round(t%360),a.current.value=t+"",t)),[e]);return(0,r.useEffect)((()=>{a.current&&!c&&d(e)}),[e,d,c]),React.createElement(React.Fragment,null,React.createElement(I,{ref:s,readOnly:t,className:"rcp-rotate",onChange:l(n),onStartChange:l(i),onEndChange:l(o)},React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"100%",height:"100%",style:{transform:"rotateZ("+e+"deg)"}},React.createElement("circle",{fill:"none",strokeWidth:"2",stroke:"currentColor",r:"15",cx:"16",cy:"16"}),React.createElement("circle",{fill:"currentColor",r:"3",cx:"16",cy:"8"}))),React.createElement("input",{ref:a,readOnly:t,type:c?"number":"text",className:"rcp-fields-element-input rcp-degree",defaultValue:e+"",onFocus:n=>{t||(u(!0),n.currentTarget.value=e.toString(),n.currentTarget.select())},onBlur:e=>{t||(u(!1),o(d(parseInt(e.currentTarget.value))))},onKeyDown:e=>"Enter"===e.key&&e.currentTarget.blur(),style:{width:64}}))}function ve(e,t){return e.left===t.left?0:e.left>t.left?1:-1}function ge(e,t){return[...e.slice(0,t),...e.slice(t+1)]}var me=({readOnly:e,hideGradient:t,hideAlpha:n,colors:i,width:o,size:s=28,gap:a=5,onColorClick:c})=>{const u=(0,r.useMemo)((()=>(t?i.filter((e=>!t||2!==e.type)):i).map(xe)),[t,i]);return React.createElement("div",{className:"rcp-colorlist"},function(n,r,i){const o=Math.ceil(n.length/r),s=[];for(let e=0;e<o;e++){const t=e*r;s.push(n.slice(t,t+r))}return s.map(((n,r)=>React.createElement("div",{key:r,className:"rcp-colorlist-row"},n.map(((n,i)=>((n,r)=>React.createElement($,{disabled:e||t&&2===n.type,key:r.toString(),color:n,onClick:e=>{e.preventDefault(),c(n,e)}}))(n,i*(r+1)))))))}(u,Math.floor(o/(s+a))))};function ye(e){var t;const n=e.rgb;return v(v({},e),E("rgb",{r:n.r,g:n.g,b:n.b,a:null!=(t=n.a)?t:1}))}function xe(e){return 1===e.type?{type:e.type,value:ye(e.value)}:2===e.type?{type:e.type,value:g(v({},e.value),{points:e.value.points.map(ye)})}:e}var be={type:1,value:E("hex","#FF0000")},we={type:2,value:D({type:"linear",units:"objectBoundingBox",points:[g(v({},be.value),{left:0}),g(v({},E("hex","#FFFFFF")),{left:100})]})},Ce={type:2,value:D(g(v({},we.value),{type:"radial"}))};function _e({disabled:e,color:t,type:n,label:r,title:i,onClick:o}){const s=2===t.type?t.value.type===n:1===t.type?"solid"===n:0===t.type&&"none"===n,a=K();return React.createElement("button",{title:a(i),className:"rcp-type-button "+n+(s?" active":""),onClick:o,disabled:s||e},a(r))}function ke(e,t){return{type:2,value:g(v({},we.value),{type:t,points:[g(v({},e),{left:0}),we.value.points[1]]})}}var Ee=({color:e,readOnly:t,hideGradient:n,hideNullColor:r,onChange:i})=>React.createElement("div",{className:"rcp-colortypes"},_e({color:e,type:"solid",label:"color",title:"color",disabled:t,onClick:()=>{return i(0===e.type?be:{type:1,value:null!=(t=e.value.points[0])?t:A});var t}}),!n&&_e({color:e,type:"linear",label:"linear",title:"linear_gradient",disabled:t,onClick:()=>i(0===e.type?we:2===e.type?g(v({},e),{value:g(v({},e.value),{type:"linear"})}):ke(e.value,"linear"))}),!n&&_e({color:e,type:"radial",label:"radial",title:"radial_gradient",disabled:t,onClick:()=>i(0===e.type?Ce:2===e.type?g(v({},e),{value:g(v({},e.value),{type:"radial"})}):ke(e.value,"radial"))})),Se=({localize:e=(e=>e),readOnly:t=!1,width:n=S,height:i=j,hideHEX:o=!1,hideRGB:s=!1,hideHSV:a=!1,hideAlpha:c=!1,hideGradient:u=!1,hideNullColor:l=!1,nullColor:d,dark:f=!1,color:h,palette:p=[],hidePalette:m,barRenderer:y,onChange:x,onStartChange:b,onEndChange:w})=>{const C=d?{type:0,value:d}:L,_=null!=h?h:C,k=n-40,[E,N]=(0,r.useState)(0),O=(0,r.useRef)(E),T=function(e,t){var n,i;const o=(0,r.useRef)(1===(null==t?void 0:t.type)?t.value:A),s=o.current,a=t&&0!==t.type?2===t.type?null!=(i=null!=(n=t.value.points[null!=e?e:0])?n:t.value.points[t.value.points.length-1])?i:s:t.value:s;return(0,r.useEffect)((()=>{o.current=a}),[a]),a}(E,_),D=(e=je)=>t=>{const n="function"==typeof t?t(T):t;if(u||2!==_.type)e({type:1,value:n});else{const t=_.value,r=[...t.points];r[O.current]=g(v({},n),{left:r[O.current].left}),e({type:_.type,value:g(v({},t),{points:r})})}},M=(e=je)=>t=>{e({type:2,value:t})},R=D(x),P=D(b),I=D(w),F=e=>{0===e.type&&(e=l?{type:1,value:A}:C),x(e),w&&w(e)};return React.createElement(B,{localize:e},React.createElement("div",{className:"rcp "+(f?"rcp-dark":"rcp-light"),style:{width:n,maxHeight:i}},React.createElement("div",{className:"rcp-bar"},React.createElement(Ee,{readOnly:t,color:_,hideNullColor:l,hideGradient:u,onChange:F}),null==y?void 0:y()),React.createElement(U,{readOnly:t,width:n,height:.5625*n,color:T,onChange:R,onStartChange:P,onEndChange:I}),React.createElement("div",{className:"rcp-body"},React.createElement(Z,{readOnly:t,width:k,color:T,onChange:R,onStartChange:P,onEndChange:I}),!c&&React.createElement(z,{readOnly:t,width:k,color:T,onChange:R,onStartChange:P,onEndChange:I}),!u&&2===_.type&&React.createElement(le,{readOnly:t,width:k,index:E,gradient:_.value,onIndexChange:e=>{N(O.current=e)},onChange:M(x),onEndChange:M(w),onStartChange:M(b)}),React.createElement(oe,{readOnly:t,color:T,hasColor:0!==_.type,hideNullColor:l,hideHEX:o,hideRGB:s,hideHSV:a,hideAlpha:c,onChange:e=>null==e?F(C):R(e)}),!m&&p.length>0&&React.createElement(me,{readOnly:t,hideGradient:u,width:k,colors:p,onColorClick:e=>{P(e),F(e)}}))))},je=()=>{},Ne=(0,r.forwardRef)(((e,t)=>{var n=e,{size:r="normal",color:o=L,disabled:s,className:a,onChange:c,onClick:u}=n,l=m(n,["size","color","disabled","className","onChange","onClick"]);return i().createElement("button",g(v({type:"button"},l),{disabled:s,ref:t,className:"rcp-colorbutton rcp-colorbutton-"+r+(s?" rcp-disabled":"")+("string"==typeof a?" "+a:""),onClick:s?void 0:u,style:{background:Q(o),position:"relative"}}),0===o.type&&i().createElement(ne,null))})),Le=(0,r.forwardRef)(((e,t)=>{var n=e,{children:s,width:a=S,height:c=j,active:u,onActiveChange:l}=n,d=m(n,["children","width","height","active","onActiveChange"]);const f=r.Children.only(s);if(!(0,r.isValidElement)(f))throw new Error("Child must be typeof ReactElement");const[h,p]=(0,r.useState)(Ae),y=f.props.onClick,x=P(t);return(0,r.useEffect)((()=>{if(x.current){const e=x.current.getBoundingClientRect();p({top:e.top-0*c,left:e.left-1*a,height:c,width:a})}}),[x,c,a,u]),i().createElement(i().Fragment,null,(0,r.cloneElement)(f,{ref:x,onClick:e=>(null==y||y(e),void l(!u))}),(0,o.createPortal)(i().createElement(Oe,g(v({},d),{width:a,height:c,container:h,active:u,onActiveChange:l})),document.body))})),Ae={left:0,height:0,top:0,width:0},Oe=e=>{var t=e,{container:n,active:o,hideOnClick:c,onActiveChange:u}=t,l=m(t,["container","active","hideOnClick","onActiveChange"]);const d=(0,r.useRef)(null),f=function(e){const t=function(){const[e,t]=(0,r.useState)(Te);return(0,r.useEffect)((()=>{const e=()=>t(Te);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),e}();return(0,r.useMemo)((()=>{const{top:n,left:r}=e;return{top:x(n,t.height-e.height,0),left:x(r,t.width-e.width,0),transformOrigin:"100% 0"}}),[t,e])}(n),h=(0,r.useRef)(!1),p=l.localize,g=e=>{e.stopPropagation(),h.current=!1},y=e=>{const t=d.current;t&&(t.style.pointerEvents=e?"none":"auto")};return(0,r.useEffect)((()=>{if(!o)return;const e=e=>{"Escape"===e.key&&u(!1)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[o,u]),i().createElement(i().Fragment,null,c&&o&&i().createElement("div",{className:"rcp-obfuscator",onClick:()=>h.current&&u(!1),onMouseDown:()=>{h.current=!0}}),i().createElement(s.Z,null,o&&i().createElement(a.Z,{classNames:"rcp-anim",timeout:300,onExit:()=>y(!0),onEnter:()=>y(!1)},i().createElement("div",{ref:d,className:"rcp-overlay",style:f,onMouseDown:g,onTouchStart:g,onClick:g},i().createElement(Se,v({barRenderer:()=>i().createElement(ce,{className:"rcp-close-button danger",title:null==p?void 0:p("close"),svg:'<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" class="svg-inline--fa fa-times fa-w-11" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg>',onClick:()=>u(!1)})},l))))))};function Te(){return{width:window.innerWidth,height:window.innerHeight}}function De(e){var t,n;return 1===e.type?Me(e.value):2===e.type?[(n=e.value).type,n.units,n.x1,n.y1,n.x2,n.y2,n.points.map(Me).join(",")].join(","):null!=(t=e.value)?t:""}function Me(e){var t,n;const r=e.rgb;return[r.r,r.g,r.b,null!=(t=r.a)?t:1,null!=(n=e.left)?n:0].join(",")}},4239:function(e,t,n){function r(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function i(e){return Array.isArray(e)?e:[e]}function o(e,t){const n=e.length;if(n!==t.length)return!0;for(let r=0;r<n;r++)if(e[r]!==t[r])return!0;return!1}n.d(t,{LF:function(){return r},Mp:function(){return o},rY:function(){return i}})},1131:function(e,t,n){function r(e,t){if(null==t)return e;const n=Object.keys(t);for(const r of n)e[r]=t[r];return e}n.d(t,{f:function(){return r}})},9443:function(e,t,n){n.d(t,{E_:function(){return r},LZ:function(){return o},wO:function(){return i}});const r="",i=Object.freeze({}),o=[]},2674:function(e,t,n){n.d(t,{$L:function(){return s},Ku:function(){return u},L6:function(){return x},M3:function(){return l},NS:function(){return i},Oq:function(){return m},PZ:function(){return y},QK:function(){return h},Qe:function(){return p},Rb:function(){return o},SH:function(){return v},p8:function(){return a}});var r=n(3422);const i="http://www.w3.org/2000/svg";function o(e){const t=e.transform.baseVal.consolidate();return t?r.y3.fromMatrix(t.matrix):void 0}function s(e){const t=c("g");return t.setAttribute("transform",e),o(t)}function a(e,t){if(!t)return e;const n=Object.keys(t);for(const r of n)null==typeof t[r]?e.removeAttribute(r):e.setAttribute(r,t[r]);return e}function c(e,t){return a(document.createElementNS(i,e),t)}function u(e,t){const n=c("svg"),r=e.parentNode,i=e.nextSibling;n.style.position="fixed",n.style.visibility="hidden",n.appendChild(e),document.body.appendChild(n);const o=t(e);return document.body.removeChild(n),r?r.insertBefore(e,i):n.removeChild(e),o}function l(e){const t=document.createElement("div");t.innerHTML='<svg xmlns="'+i+'">'+e+"</svg>";const n=t.childNodes.item(0),r=[];for(;n.firstChild;){const e=n.removeChild(n.firstChild);e instanceof SVGElement&&r.push(e)}return r}const d=/\s*\:+\s*/g,f=/(?:\s*\;\s*)+/g;function h(e){const t=e.split(f),n={};for(const e of t){const t=e.split(d);t[0]&&(n[t[0]]=t[1])}return n}function p(e){const t=Object.keys(e),n=new Array(t.length);return Object.keys(e).forEach(((t,r)=>{n[r]=t+":"+e[t]})),n.join(";")}function v(e){return(new XMLSerializer).serializeToString(e)}function g(e,t,n){return t(e)&&n.push(e),e.childNodes.forEach((e=>g(e,t,n))),n}function m(e,t){return g(e,t,[])}function y(e,t){t(e),e.childNodes.forEach((e=>y(e,t)))}function x(e){var t,n;const r=e.getBoundingClientRect();return{bottom:r.bottom,height:r.height,left:r.left,right:r.right,top:r.top,width:r.width,x:null!=(t=r.x)?t:r.left,y:null!=(n=r.y)?n:r.top}}},5923:function(e,t,n){n.d(t,{Q5:function(){return d},ju:function(){return u}});var r=n(6508);const i={done:!0,value:void 0};var o;(e=>{const t={next:()=>i};e.empty=function(){return t},e.single=function(e){let t=!1;return{next:()=>t?i:(t=!0,{done:!1,value:e})}},e.fromArray=function(e,t=0,n=e.length){return{next:()=>t>=n?i:{done:!1,value:e[t++]}}},e.fromNativeIterator=function(e){return{next(){const t=e.next();return t.done?i:{done:!1,value:t.value}}}},e.from=function(t){return t?Array.isArray(t)?e.fromArray(t):t:e.empty()},e.map=function(e,t){return{next(){const n=e.next();return n.done?i:{done:!1,value:t(n.value)}}}},e.filter=function(e,t){return{next(){for(;;){const n=e.next();if(n.done)return i;if(t(n.value))return{done:!1,value:n.value}}}}},e.forEach=function(e,t){for(let n=e.next();!n.done;n=e.next())t(n.value)},e.collect=function(e,t=Number.POSITIVE_INFINITY){const n=[];if(0===t)return n;let r=0;for(let i=e.next();!(i.done||(n.push(i.value),++r>=t));i=e.next());return n},e.concat=function(...e){let t=0;return{next(){if(t>=e.length)return i;const n=e[t].next();return n.done?(t++,this.next()):n}}}})(o||(o={}));const s=class{constructor(e){this.element=e,this.next=s.Undefined,this.prev=s.Undefined}};let a=s;a.Undefined=new s(void 0);class c{constructor(){this._first=a.Undefined,this._last=a.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===a.Undefined}clear(){this._first=a.Undefined,this._last=a.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,t){const n=new a(e);if(this._first===a.Undefined)this._first=n,this._last=n;else if(t){const e=this._last;this._last=n,n.prev=e,e.next=n}else{const e=this._first;this._first=n,n.next=e,e.prev=n}this._size+=1;let r=!1;return()=>{r||(r=!0,this._remove(n))}}shift(){if(this._first!==a.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==a.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==a.Undefined&&e.next!==a.Undefined){const t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===a.Undefined&&e.next===a.Undefined?(this._first=a.Undefined,this._last=a.Undefined):e.next===a.Undefined?(this._last=this._last.prev,this._last.next=a.Undefined):e.prev===a.Undefined&&(this._first=this._first.next,this._first.prev=a.Undefined);this._size-=1}iterator(){let e,t=this._first;return{next:()=>t===a.Undefined?i:(e?e.value=t.element:e={done:!1,value:t.element},t=t.next,e)}}toArray(){const e=[];for(let t=this._first;t!==a.Undefined;t=t.next)e.push(t.element);return e}}var u;(e=>{function t(e){return(t,n=null,r)=>{let i,o=!1;return i=e((e=>{if(!o)return i?i.dispose():o=!0,t.call(n,e)}),null,r),o&&i.dispose(),i}}function n(e,t){return a(((n,r=null,i)=>e((e=>n.call(r,t(e))),null,i)))}function i(e,t){return a(((n,r=null,i)=>e((e=>{t(e),n.call(r,e)}),null,i)))}function o(e,t){return a(((n,r=null,i)=>e((e=>t(e)&&n.call(r,e)),null,i)))}function s(e,t,r){let i=r;return n(e,(e=>(i=t(i,e),i)))}function a(e){let t;const n=new d({onFirstListenerAdd(){t=e(n.fire,n)},onLastListenerRemove(){t.dispose()}});return n.event}function c(e,t,n=100,r=!1,i){let o,s,a,c=0;const u=new d({leakWarningThreshold:i,onFirstListenerAdd(){o=e((e=>{c++,s=t(s,e),r&&!a&&u.fire(s),clearTimeout(a),a=setTimeout((()=>{const e=s;s=void 0,a=void 0,(!r||c>1)&&u.fire(e),c=0}),n)}))},onLastListenerRemove(){o.dispose()}});return u.event}function u(e){let t,n=!0;return o(e,(e=>{const r=n||e!==t;return n=!1,t=e,r}))}e.None=()=>r.JT.None,e.once=t,e.map=n,e.forEach=i,e.filter=o,e.signal=function(e){return e},e.any=function(...e){return(t,n=null,i)=>(0,r.F8)(...e.map((e=>e((e=>t.call(n,e)),null,i))))},e.reduce=s,e.snapshot=a,e.debounce=c,e.stopwatch=function(e){const r=(new Date).getTime();return n(t(e),(e=>(new Date).getTime()-r))},e.latch=u,e.buffer=function(e,t=!1,n=[]){let r=n.slice(),i=e((e=>{r?r.push(e):s.fire(e)}));const o=()=>{r&&r.forEach((e=>s.fire(e))),r=null},s=new d({onFirstListenerAdd(){i||(i=e((e=>s.fire(e))))},onFirstListenerDidAdd(){r&&(t?setTimeout(o):o())},onLastListenerRemove(){i&&i.dispose(),i=null}});return s.event};class l{constructor(e){this.event=e}map(e){return new l(n(this.event,e))}forEach(e){return new l(i(this.event,e))}filter(e){return new l(o(this.event,e))}reduce(e,t){return new l(s(this.event,e,t))}latch(){return new l(u(this.event))}debounce(e,t=100,n=!1,r){return new l(c(this.event,e,t,n,r))}on(e,t,n){return this.event(e,t,n)}once(e,n,r){return t(this.event)(e,n,r)}}e.chain=function(e){return new l(e)},e.fromNodeEventEmitter=function(e,t,n=(e=>e)){const r=(...e)=>i.fire(n(...e)),i=new d({onFirstListenerAdd:()=>e.on(t,r),onLastListenerRemove:()=>e.removeListener(t,r)});return i.event},e.fromDOMEventEmitter=function(e,t,n=(e=>e)){const r=(...e)=>i.fire(n(...e)),i=new d({onFirstListenerAdd:()=>e.addEventListener(t,r),onLastListenerRemove:()=>e.removeEventListener(t,r)});return i.event},e.fromPromise=function(e){const t=new d;let n=!1;return e.then(void 0,(()=>null)).then((()=>{n?t.fire(void 0):setTimeout((()=>t.fire(void 0)),0)})),n=!0,t.event},e.toPromise=function(e){return new Promise((n=>t(e)(n)))}})(u||(u={}));const l=class{constructor(e){var t;this._disposed=!1,this._options=e,this._leakageMon=void 0,this._handleError=null!=(t=null==e?void 0:e.onUnexpectedError)?t:l.onUnexpectedError}get event(){return this._event||(this._event=(e,t,n)=>{this._listeners||(this._listeners=new c);const i=this._listeners.isEmpty();i&&this._options&&this._options.onFirstListenerAdd&&this._options.onFirstListenerAdd(this);const o=this._listeners.push(t?[e,t]:e);let s,a;return i&&this._options&&this._options.onFirstListenerDidAdd&&this._options.onFirstListenerDidAdd(this),this._options&&this._options.onListenerDidAdd&&this._options.onListenerDidAdd(this,e,t),this._leakageMon&&(s=this._leakageMon.check(this._listeners.size)),a={dispose:()=>{s&&s(),a.dispose=l._noop,!this._disposed&&(o(),this._options&&this._options.onLastListenerRemove)&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this))}},n instanceof r.SL?n.add(a):Array.isArray(n)&&n.push(a),a}),this._event}fire(e){if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new c);for(let t=this._listeners.iterator(),n=t.next();!n.done;n=t.next())this._deliveryQueue.push([n.value,e]);for(;this._deliveryQueue.size>0;){const[e,t]=this._deliveryQueue.shift();try{"function"==typeof e?e.call(void 0,t):e[0].call(e[1],t)}catch(e){this._handleError(e)}}}}dispose(){this._listeners&&this._listeners.clear(),this._deliveryQueue&&this._deliveryQueue.clear(),this._leakageMon&&this._leakageMon.dispose(),this._disposed=!0}};let d=l;d._noop=function(){},d.onUnexpectedError=function(e){console.error(e)}},1959:function(e,t,n){n.d(t,{AO:function(){return u},Eu:function(){return a},Kn:function(){return l},Ut:function(){return s},cM:function(){return i},k3:function(){return c}});var r=n(4753);function i(e,t,n,r){const i=e+n,o=t+r;return{x:e,y:t,x2:i,y2:o,cx:i-.5*n,cy:o-.5*r,width:n,height:r}}function o(e,t,n,r){const i=n-e,o=r-t;return{x:e,y:t,x2:n,y2:r,cx:n-.5*i,cy:r-.5*o,width:i,height:o}}function s(e,t){const n=e.x+e.width,i=e.y+e.height,s=(0,r.DC)((0,r.E9)(e.x,e.y),t),a=(0,r.DC)((0,r.E9)(n,e.y),t),c=(0,r.DC)((0,r.E9)(e.x,i),t),u=(0,r.DC)((0,r.E9)(n,i),t);return o(Math.min(s.x,a.x,c.x,u.x),Math.min(s.y,a.y,c.y,u.y),Math.max(s.x,a.x,c.x,u.x),Math.max(s.y,a.y,c.y,u.y))}function a(e){return[(0,r.E9)(e.x,e.y),(0,r.E9)(e.x2,e.y),(0,r.E9)(e.x2,e.y2),(0,r.E9)(e.x,e.y2)]}function c(e,t){return t?{topLeft:(0,r.DC)((0,r.E9)(e.x,e.y),t),topRight:(0,r.DC)((0,r.E9)(e.x2,e.y),t),bottomRight:(0,r.DC)((0,r.E9)(e.x2,e.y2),t),bottomLeft:(0,r.DC)((0,r.E9)(e.x,e.y2),t),center:(0,r.DC)((0,r.E9)(e.cx,e.cy),t)}:{topLeft:(0,r.E9)(e.x,e.y),topRight:(0,r.E9)(e.x2,e.y),bottomRight:(0,r.E9)(e.x2,e.y2),bottomLeft:(0,r.E9)(e.x,e.y2),center:(0,r.E9)(e.cx,e.cy)}}function u(e){return e.reduce(((e,t)=>{return n=t,void 0===(r=e)?n:o(Math.min(n.x,r.x),Math.min(n.y,r.y),Math.max(n.x2,r.x2),Math.max(n.y2,r.y2));var n,r}),void 0)||{x:0,y:0,x2:0,y2:0,cx:0,cy:0,width:0,height:0}}const l=Object.freeze({x:0,y:0,cx:0,cy:0,x2:0,y2:0,width:0,height:0})},3422:function(e,t,n){n.d(t,{Jc:function(){return c},Jp:function(){return h},SO:function(){return v},Wn:function(){return f},_O:function(){return g},g0:function(){return p},w9:function(){return d},xk:function(){return l},y3:function(){return s},yR:function(){return u}});const r=Math.PI/180,i=/[\s,]+/g,o=window.DOMMatrix;function s(e){return new o("string"==typeof e?e.replace(i,","):e)}function a(e,t,n,r,i,o){const s=u();return s.a=e,s.b=t,s.c=n,s.d=r,s.e=i,s.f=o,s}function c(e){return e.toString()}function u(){return new o}function l(e,t){return a(1,0,0,1,e,t)}function d(e,t,n=0,r=0){return a(e,0,0,t,n-n*e,r-r*t)}function f(e,t,n){const i=-e*r,o=a(Math.cos(i),-Math.sin(i),Math.sin(i),Math.cos(i),0,0);if(t>0||n>0){const e=l(-t,-n);return h(l(t,n),h(o,e))}return o}function h(e,t){return e.multiply(t)}function p(e,t){return void 0===e?t:void 0===t?e:e.multiply(t)}function v(e){return e.inverse()}function g(e){return-180*Math.atan2(e.c,e.d)/Math.PI}s.fromArray=function(e){return new o(e)},s.fromMatrix=e=>{var t,n,r,i,s,a;if("object"==typeof e&&null!==e){const c=new o;return c.a=null!=(t=e.a)?t:1,c.b=null!=(n=e.b)?n:0,c.c=null!=(r=e.c)?r:0,c.d=null!=(i=e.d)?i:1,c.e=null!=(s=e.e)?s:0,c.f=null!=(a=e.f)?a:0,c}return o.fromMatrix(e)},s.DEFAULT=Object.freeze(new o)},4753:function(e,t,n){function r(e,t){return new DOMPoint(e,t,0,1)}n.d(t,{DC:function(){return o},E9:function(){return r},SO:function(){return u},Y3:function(){return a},h3:function(){return s},qw:function(){return c},xE:function(){return i}});const i=Object.freeze({x:0,y:0});function o(e,t){return e.matrixTransform(t)}function s(e,t){return r(e.x-t.x,e.y-t.y)}function a(e,t){const n=s(t,e);return 180+180/Math.PI*Math.atan2(-n.x,-n.y)}function c(e,t){return function(e,t,n,r){const i=e-n,o=t-r;return Math.sqrt(i*i+o*o)}(e.x,e.y,t.x,t.y)}function u(e,t){return{x:.5*(e.x+t.x),y:.5*(e.y+t.y)}}},6521:function(e,t,n){n.d(t,{Di:function(){return s},Wq:function(){return c},dZ:function(){return a},ls:function(){return o}});var r=n(5677),i=n(6926);const o=r.dz?i.D.WinCtrl:i.D.CtrlCmd,s=i.D.Alt,a=i.D.Shift,c=r.dz?i.D.CtrlCmd:i.D.WinCtrl},6926:function(e,t,n){n.d(t,{D:function(){return r}});var r=(e=>(e[e.CtrlCmd=2048]="CtrlCmd",e[e.Shift=1024]="Shift",e[e.Alt=512]="Alt",e[e.WinCtrl=256]="WinCtrl",e))(r||{})},6508:function(e,t,n){function r(e){}function i(e){return Array.isArray(e)?(e.forEach((e=>{e&&e.dispose()})),[]):e?(e.dispose(),e):void 0}function o(...e){return e.forEach(r),{dispose:()=>i(e)}}n.d(t,{B9:function(){return i},F8:function(){return o},JT:function(){return a},SL:function(){return s}});class s{constructor(){this._toDispose=new Set,this._isDisposed=!1}dispose(){this._isDisposed||(this._isDisposed=!0,this.clear())}clear(){this._toDispose.forEach((e=>e.dispose())),this._toDispose.clear()}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return this._isDisposed?console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}}class a{constructor(){this._store=new s}dispose(){this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}a.None=Object.freeze({dispose(){}})},5677:function(e,t,n){n.d(t,{ED:function(){return v},OS:function(){return C},U5:function(){return w},dz:function(){return g}});const r="en";let i,o,s,a=!1,c=!1,u=!1,l=!1,d=!1,f=r;const h="undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.electron&&"renderer"===process.type;if("object"!=typeof navigator||h){if("object"==typeof process){a="win32"===process.platform,c="darwin"===process.platform,u="linux"===process.platform,i=r,f=r;const e=process.env.VSCODE_NLS_CONFIG;if(e)try{const t=JSON.parse(e),n=t.availableLanguages["*"];i=t.locale,f=n||r,o=t._translationsConfigFile}catch(e){}l=!0}}else s=navigator.userAgent,a=s.indexOf("Windows")>=0,c=s.indexOf("Macintosh")>=0,u=s.indexOf("Linux")>=0,!0,i=navigator.language,f=i;let p=0;c?p=1:a?p=3:u&&(p=2);const v=a,g=c,m=f;var y,x;(x=y||(y={})).value=function(){return m},x.isDefaultVariant=function(){return 2===m.length?"en"===m:m.length>=3&&"e"===m[0]&&"n"===m[1]&&"-"===m[2]},x.isDefault=function(){return"en"===m};const b="object"==typeof self?self:"object"==typeof n.g?n.g:{};!function(){if(b.setImmediate)return b.setImmediate.bind(b);if("function"==typeof b.postMessage&&!b.importScripts){let e=[];b.addEventListener("message",(t=>{if(t.data&&t.data.vscodeSetImmediateId)for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r.id===t.data.vscodeSetImmediateId)return e.splice(n,1),void r.callback()}}));let t=0;return n=>{const r=++t;e.push({id:r,callback:n}),b.postMessage({vscodeSetImmediateId:r})}}if("undefined"!=typeof process&&"function"==typeof process.nextTick)return process.nextTick.bind(process);Promise.resolve()}();var w=(e=>(e[e.Windows=1]="Windows",e[e.Macintosh=2]="Macintosh",e[e.Linux=3]="Linux",e))(w||{});const C=c?2:a?1:3},2660:function(e,t,n){function r(e){return e.replace(/[a-z][A-Z]/g,(e=>{const t=e.toLowerCase();return t[0]+"-"+t[1]})).toLowerCase()}function i(e){return e.replace(/[^A-Za-z]+[A-Za-z]/g,(e=>e[e.length-1].toUpperCase()))}function o(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function s(e){const t=100*e-100;return(t>0?"+":"")+t.toFixed(1)+"%"}function a(e){return"A: "+(e>0?"+":"")+e.toFixed(1)+""}function c(e){return(e>0?"+":"")+e.toFixed(0)+"px"}n.d(t,{Bk:function(){return c},T3:function(){return s},Xv:function(){return o},j0:function(){return a},nT:function(){return r},zW:function(){return i}})},3550:function(e,t,n){n.d(t,{i:function(){return r}});const r=(()=>{const e=(new Date).getTime().toString(24);let t=0;return()=>e+"_"+t++})()},3415:function(e,t,n){function r(e,t){return isFinite(e)?e:t}n.d(t,{HX:function(){return o},sT:function(){return r}});const i={cm:37.795280352161,px:1};function o(e){if("number"==typeof e)return e;let t,n;if("string"==typeof e)for(let r=e.length-1;r>-1;r--)if(e.charCodeAt(r)>45&&e.charCodeAt(r)<58)return t=e.substr(0,r+1),n=e.substr(r+1),+t*(i[n]||1);return 0}},9525:function(e,t,n){n.d(t,{YP:function(){return ue},Gh:function(){return ee},zW:function(){return ae},ft:function(){return ce},Cr:function(){return $},u2:function(){return Q},r2:function(){return q},S0:function(){return X},EZ:function(){return H},ih:function(){return W},WD:function(){return se},HW:function(){return ve},Jh:function(){return re},jp:function(){return fe},g4:function(){return xe},IX:function(){return le},Yb:function(){return he},C6:function(){return me},v5:function(){return ge},ho:function(){return ye},aK:function(){return pe},G2:function(){return de}});var r=n(6981),i=n(5677);const o=e=>new Error('Unimplemented function "'+e+'"');var s=(e=>(e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.KEY_0=21]="KEY_0",e[e.KEY_1=22]="KEY_1",e[e.KEY_2=23]="KEY_2",e[e.KEY_3=24]="KEY_3",e[e.KEY_4=25]="KEY_4",e[e.KEY_5=26]="KEY_5",e[e.KEY_6=27]="KEY_6",e[e.KEY_7=28]="KEY_7",e[e.KEY_8=29]="KEY_8",e[e.KEY_9=30]="KEY_9",e[e.KEY_A=31]="KEY_A",e[e.KEY_B=32]="KEY_B",e[e.KEY_C=33]="KEY_C",e[e.KEY_D=34]="KEY_D",e[e.KEY_E=35]="KEY_E",e[e.KEY_F=36]="KEY_F",e[e.KEY_G=37]="KEY_G",e[e.KEY_H=38]="KEY_H",e[e.KEY_I=39]="KEY_I",e[e.KEY_J=40]="KEY_J",e[e.KEY_K=41]="KEY_K",e[e.KEY_L=42]="KEY_L",e[e.KEY_M=43]="KEY_M",e[e.KEY_N=44]="KEY_N",e[e.KEY_O=45]="KEY_O",e[e.KEY_P=46]="KEY_P",e[e.KEY_Q=47]="KEY_Q",e[e.KEY_R=48]="KEY_R",e[e.KEY_S=49]="KEY_S",e[e.KEY_T=50]="KEY_T",e[e.KEY_U=51]="KEY_U",e[e.KEY_V=52]="KEY_V",e[e.KEY_W=53]="KEY_W",e[e.KEY_X=54]="KEY_X",e[e.KEY_Y=55]="KEY_Y",e[e.KEY_Z=56]="KEY_Z",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.NumLock=78]="NumLock",e[e.ScrollLock=79]="ScrollLock",e[e.US_SEMICOLON=80]="US_SEMICOLON",e[e.US_EQUAL=81]="US_EQUAL",e[e.US_COMMA=82]="US_COMMA",e[e.US_MINUS=83]="US_MINUS",e[e.US_DOT=84]="US_DOT",e[e.US_SLASH=85]="US_SLASH",e[e.US_BACKTICK=86]="US_BACKTICK",e[e.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",e[e.US_BACKSLASH=88]="US_BACKSLASH",e[e.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",e[e.US_QUOTE=90]="US_QUOTE",e[e.OEM_8=91]="OEM_8",e[e.OEM_102=92]="OEM_102",e[e.NUMPAD_0=93]="NUMPAD_0",e[e.NUMPAD_1=94]="NUMPAD_1",e[e.NUMPAD_2=95]="NUMPAD_2",e[e.NUMPAD_3=96]="NUMPAD_3",e[e.NUMPAD_4=97]="NUMPAD_4",e[e.NUMPAD_5=98]="NUMPAD_5",e[e.NUMPAD_6=99]="NUMPAD_6",e[e.NUMPAD_7=100]="NUMPAD_7",e[e.NUMPAD_8=101]="NUMPAD_8",e[e.NUMPAD_9=102]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=104]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",e[e.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",e[e.ABNT_C1=110]="ABNT_C1",e[e.ABNT_C2=111]="ABNT_C2",e[e.MAX_VALUE=112]="MAX_VALUE",e))(s||{});class a{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const c=new a,u=new a,l=new a;var d,f;function h(e,t){if(0===e)return null;const n=(65535&e)>>>0,r=(4294901760&e)>>>16;return new g(0!==r?[p(n,t),p(r,t)]:[p(n,t)])}function p(e,t){const n=!!(2048&e),r=!!(256&e),o=t===i.U5.Macintosh?r:n,s=!!(1024&e),a=!!(512&e),c=t===i.U5.Macintosh?n:r;return new v(o,s,a,c,255&e)}!function(){function e(e,t,n=t,r=n){c.define(e,t),u.define(e,n),l.define(e,r)}e(0,"unknown"),e(1,"Backspace"),e(2,"Tab"),e(3,"Enter"),e(4,"Shift"),e(5,"Ctrl"),e(6,"Alt"),e(7,"PauseBreak"),e(8,"CapsLock"),e(9,"Escape"),e(10,"Space"),e(11,"PageUp"),e(12,"PageDown"),e(13,"End"),e(14,"Home"),e(15,"LeftArrow","Left"),e(16,"UpArrow","Up"),e(17,"RightArrow","Right"),e(18,"DownArrow","Down"),e(19,"Insert"),e(20,"Delete"),e(21,"0"),e(22,"1"),e(23,"2"),e(24,"3"),e(25,"4"),e(26,"5"),e(27,"6"),e(28,"7"),e(29,"8"),e(30,"9"),e(31,"A"),e(32,"B"),e(33,"C"),e(34,"D"),e(35,"E"),e(36,"F"),e(37,"G"),e(38,"H"),e(39,"I"),e(40,"J"),e(41,"K"),e(42,"L"),e(43,"M"),e(44,"N"),e(45,"O"),e(46,"P"),e(47,"Q"),e(48,"R"),e(49,"S"),e(50,"T"),e(51,"U"),e(52,"V"),e(53,"W"),e(54,"X"),e(55,"Y"),e(56,"Z"),e(57,"Meta"),e(58,"ContextMenu"),e(59,"F1"),e(60,"F2"),e(61,"F3"),e(62,"F4"),e(63,"F5"),e(64,"F6"),e(65,"F7"),e(66,"F8"),e(67,"F9"),e(68,"F10"),e(69,"F11"),e(70,"F12"),e(71,"F13"),e(72,"F14"),e(73,"F15"),e(74,"F16"),e(75,"F17"),e(76,"F18"),e(77,"F19"),e(78,"NumLock"),e(79,"ScrollLock"),e(80,";",";","OEM_1"),e(81,"=","=","OEM_PLUS"),e(82,",",",","OEM_COMMA"),e(83,"-","-","OEM_MINUS"),e(84,".",".","OEM_PERIOD"),e(85,"/","/","OEM_2"),e(86,"`","`","OEM_3"),e(110,"ABNT_C1"),e(111,"ABNT_C2"),e(87,"[","[","OEM_4"),e(88,"\\","\\","OEM_5"),e(89,"]","]","OEM_6"),e(90,"'","'","OEM_7"),e(91,"OEM_8"),e(92,"OEM_102"),e(93,"NumPad0"),e(94,"NumPad1"),e(95,"NumPad2"),e(96,"NumPad3"),e(97,"NumPad4"),e(98,"NumPad5"),e(99,"NumPad6"),e(100,"NumPad7"),e(101,"NumPad8"),e(102,"NumPad9"),e(103,"NumPad_Multiply"),e(104,"NumPad_Add"),e(105,"NumPad_Separator"),e(106,"NumPad_Subtract"),e(107,"NumPad_Decimal"),e(108,"NumPad_Divide")}(),(f=d||(d={})).toString=function(e){return c.keyCodeToStr(e)},f.fromString=function(e){return c.strToKeyCode(e)},f.toUserSettingsUS=function(e){return u.keyCodeToStr(e)},f.toUserSettingsGeneral=function(e){return l.keyCodeToStr(e)},f.fromUserSettings=function(e){return u.strToKeyCode(e)||l.strToKeyCode(e)};class v{constructor(e,t,n,r,i){this.ctrlKey=e,this.shiftKey=t,this.altKey=n,this.metaKey=r,this.keyCode=i}equals(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}getHashCode(){return`${this.ctrlKey?"1":"0"}${this.shiftKey?"1":"0"}${this.altKey?"1":"0"}${this.metaKey?"1":"0"}${this.keyCode}`}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}toChord(){return new g([this])}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class g{constructor(e){if(0===e.length)throw"parts"?new Error("Illegal argument: parts"):new Error("Illegal argument");this.parts=e}getHashCode(){let e="";for(let t=0,n=this.parts.length;t<n;t++)0!==t&&(e+=";"),e+=this.parts[t].getHashCode();return e}equals(e){if(null===e)return!1;if(this.parts.length!==e.parts.length)return!1;for(let t=0;t<this.parts.length;t++)if(!this.parts[t].equals(e.parts[t]))return!1;return!0}}class m{constructor(){this._arr=[]}has(e){let t=h(e,i.OS);if(null!==t)for(const e of this._arr)if(t.equals(e.keybinding))return!0;return!1}getKeybindingByCommand(e){const t=this._arr.find((t=>t.command===e));return null!=t&&t.keybinding||void 0}set(e,t){this._arr.push({keybinding:h(e,i.OS),command:t})}dispatch(e){for(let t=this._arr.length-1;t>=0;t--){let n=this._arr[t];if(e.toChord().equals(n.keybinding))return n.command}return null}}var y=n(5923);const x=class{constructor(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new y.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event,this._zoomFactor=1,this._fullscreen=!1,this._onDidChangeFullscreen=new y.Q5,this.onDidChangeFullscreen=this._onDidChangeFullscreen.event}getZoomLevel(){return this._zoomLevel}getTimeSinceLastZoomLevelChanged(){return Date.now()-this._lastZoomLevelChangeTime}setZoomLevel(e,t){this._zoomLevel!==e&&(this._zoomLevel=e,this._lastZoomLevelChangeTime=t?0:Date.now(),this._onDidChangeZoomLevel.fire(this._zoomLevel))}getZoomFactor(){return this._zoomFactor}setZoomFactor(e){this._zoomFactor=e}getPixelRatio(){let e=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}setFullscreen(e){this._fullscreen!==e&&(this._fullscreen=e,this._onDidChangeFullscreen.fire())}isFullscreen(){return this._fullscreen}};let b=x;b.INSTANCE=new x,b.INSTANCE.onDidChangeFullscreen;const w=navigator.userAgent,C=w.indexOf("Trident")>=0,_=w.indexOf("Edge/")>=0,k=(w.indexOf("Opera"),w.indexOf("Firefox")>=0),E=w.indexOf("AppleWebKit")>=0;!(w.indexOf("Chrome")>=0)&&w.indexOf("Safari"),w.indexOf("iPad"),_&&w.indexOf("WebView/"),window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches;var S=n(6926);let j=new Array(230),N=new Array(s.MAX_VALUE);!function(){for(let e=0;e<N.length;e++)N[e]=-1;function e(e,t){j[e]=t,N[t]=e}e(3,s.PauseBreak),e(8,s.Backspace),e(9,s.Tab),e(13,s.Enter),e(16,s.Shift),e(17,s.Ctrl),e(18,s.Alt),e(19,s.PauseBreak),e(20,s.CapsLock),e(27,s.Escape),e(32,s.Space),e(33,s.PageUp),e(34,s.PageDown),e(35,s.End),e(36,s.Home),e(37,s.LeftArrow),e(38,s.UpArrow),e(39,s.RightArrow),e(40,s.DownArrow),e(45,s.Insert),e(46,s.Delete),e(48,s.KEY_0),e(49,s.KEY_1),e(50,s.KEY_2),e(51,s.KEY_3),e(52,s.KEY_4),e(53,s.KEY_5),e(54,s.KEY_6),e(55,s.KEY_7),e(56,s.KEY_8),e(57,s.KEY_9),e(65,s.KEY_A),e(66,s.KEY_B),e(67,s.KEY_C),e(68,s.KEY_D),e(69,s.KEY_E),e(70,s.KEY_F),e(71,s.KEY_G),e(72,s.KEY_H),e(73,s.KEY_I),e(74,s.KEY_J),e(75,s.KEY_K),e(76,s.KEY_L),e(77,s.KEY_M),e(78,s.KEY_N),e(79,s.KEY_O),e(80,s.KEY_P),e(81,s.KEY_Q),e(82,s.KEY_R),e(83,s.KEY_S),e(84,s.KEY_T),e(85,s.KEY_U),e(86,s.KEY_V),e(87,s.KEY_W),e(88,s.KEY_X),e(89,s.KEY_Y),e(90,s.KEY_Z),e(93,s.ContextMenu),e(96,s.NUMPAD_0),e(97,s.NUMPAD_1),e(98,s.NUMPAD_2),e(99,s.NUMPAD_3),e(100,s.NUMPAD_4),e(101,s.NUMPAD_5),e(102,s.NUMPAD_6),e(103,s.NUMPAD_7),e(104,s.NUMPAD_8),e(105,s.NUMPAD_9),e(106,s.NUMPAD_MULTIPLY),e(107,s.NUMPAD_ADD),e(108,s.NUMPAD_SEPARATOR),e(109,s.NUMPAD_SUBTRACT),e(110,s.NUMPAD_DECIMAL),e(111,s.NUMPAD_DIVIDE),e(112,s.F1),e(113,s.F2),e(114,s.F3),e(115,s.F4),e(116,s.F5),e(117,s.F6),e(118,s.F7),e(119,s.F8),e(120,s.F9),e(121,s.F10),e(122,s.F11),e(123,s.F12),e(124,s.F13),e(125,s.F14),e(126,s.F15),e(127,s.F16),e(128,s.F17),e(129,s.F18),e(130,s.F19),e(144,s.NumLock),e(145,s.ScrollLock),e(186,s.US_SEMICOLON),e(187,s.US_EQUAL),e(188,s.US_COMMA),e(189,s.US_MINUS),e(190,s.US_DOT),e(191,s.US_SLASH),e(192,s.US_BACKTICK),e(193,s.ABNT_C1),e(194,s.ABNT_C2),e(219,s.US_OPEN_SQUARE_BRACKET),e(220,s.US_BACKSLASH),e(221,s.US_CLOSE_SQUARE_BRACKET),e(222,s.US_QUOTE),e(223,s.OEM_8),e(226,s.OEM_102),e(229,s.KEY_IN_COMPOSITION),C?e(91,s.Meta):k?(e(59,s.US_SEMICOLON),e(107,s.US_EQUAL),e(109,s.US_MINUS),i.dz&&e(224,s.Meta)):E&&(e(91,s.Meta),i.dz?e(93,s.Meta):e(92,s.Meta))}();const L=i.dz?S.D.WinCtrl:S.D.CtrlCmd,A=S.D.Alt,O=S.D.Shift,T=i.dz?S.D.CtrlCmd:S.D.WinCtrl;class D{constructor(e){this._standardKeyboardEventBrand=!0;let t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=function(e){if(e.charCode){let t=String.fromCharCode(e.charCode).toUpperCase();return d.fromString(t)}return j[e.keyCode]||s.Unknown}(t),this.code=t.code,this.ctrlKey=this.ctrlKey||this.keyCode===s.Ctrl,this.altKey=this.altKey||this.keyCode===s.Alt,this.shiftKey=this.shiftKey||this.keyCode===s.Shift,this.metaKey=this.metaKey||this.keyCode===s.Meta,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=s.Unknown;this.keyCode!==s.Ctrl&&this.keyCode!==s.Shift&&this.keyCode!==s.Alt&&this.keyCode!==s.Meta&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=L),this.altKey&&(t|=A),this.shiftKey&&(t|=O),this.metaKey&&(t|=T),t|=e,t}_computeRuntimeKeybinding(){let e=s.Unknown;return this.keyCode!==s.Ctrl&&this.keyCode!==s.Shift&&this.keyCode!==s.Alt&&this.keyCode!==s.Meta&&(e=this.keyCode),new v(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}class M{constructor(){this._onAction=new y.Q5,this._onKeyDown=this._onKeyDown.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._keydownDispatcher=new m,this._keyupDispatcher=new m,this.onKey=this._onAction.event}registerActions(e){for(const t of e)(t.keyUp?this._keyupDispatcher:this._keydownDispatcher).set(t.keyCode,t.action)}getKeybindingByCommand(e){return this._keydownDispatcher.getKeybindingByCommand(e)||this._keyupDispatcher.getKeybindingByCommand(e)}bindTo(e){this._element=e,e.addEventListener("keydown",this._onKeyDown),e.addEventListener("keyup",this._onKeyUp)}_onKeyDown(e){const t=new D(e),n=this._keydownDispatcher.dispatch(t.toKeybinding());this._onAction.fire({action:n,event:t})}_onKeyUp(e){const t=new D(e),n=this._keyupDispatcher.dispatch(t.toKeybinding());this._onAction.fire({action:n,event:t})}unbind(){this._element&&(this._element.removeEventListener("keydown",this._onKeyDown),this._element.removeEventListener("keyup",this._onKeyUp),this._element=void 0)}dispose(){this.unbind()}toReactHandlers(){return{onKeyDown:this._onKeyDown,onKeyUp:this._onKeyUp}}}var R=n(6521);function P(e){let t=s.Unknown;for(const n of e.split("+")){let e=d.fromUserSettings("cmd"===n.toLowerCase()?"meta":n);e===s.Ctrl?t|=R.ls:e===s.Shift?t|=R.dZ:e===s.Alt?t|=R.Di:e===s.Meta?t|=R.Wq:t|=e}return t}class I{constructor(){this._resolver=new M,this.toKeybindString=F}configure(e){this._resolver.registerActions(e.keybindings.map((e=>{const t=e.key.split(" ").map(P),n=(t[0]|(65535&t[1])<<16>>>0)>>>0;return{action:e.command,keyCode:n,keyUp:"-"===e.command[0]}})))}getKeybindingByCommand(e){return this._resolver.getKeybindingByCommand(e)}setContainer(e){if(e===this._container)return;this._resolver.unbind();const t=this._container="string"==typeof e?document.getElementById(e):e;(t&&t instanceof Element||t instanceof Document)&&this._resolver.bindTo(t)}subscribe(e){return this._resolver.onKey(e).dispose}toReactHandlers(){return this._resolver.toReactHandlers()}dispose(){this._resolver.dispose(),this._resolver=void 0,this._container=void 0}}const F=i.ED||i.dz?e=>e?e.parts.map((e=>{let t=d.toUserSettingsGeneral(e.keyCode);return e.altKey&&(t=d.toUserSettingsGeneral(s.Alt)+"+"+t),e.shiftKey&&(t=d.toUserSettingsGeneral(s.Shift)+"+"+t),e.ctrlKey&&(t=d.toUserSettingsGeneral(s.Ctrl)+"+"+t),t})).join(", "):"":()=>"";var G=n(3313),z=Object.defineProperty,U=Object.defineProperties,Z=Object.getOwnPropertyDescriptor,J=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,V=(e,t,n)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,W=(e,t)=>{for(var n in t||(t={}))K.call(t,n)&&V(e,n,t[n]);if(B)for(var n of B(t))Y.call(t,n)&&V(e,n,t[n]);return e},H=(e,t)=>U(e,J(t)),X=(e,t)=>{var n={};for(var r in e)K.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&B)for(var r of B(e))t.indexOf(r)<0&&Y.call(e,r)&&(n[r]=e[r]);return n},q=(e,t)=>{for(var n in t)z(e,n,{get:t[n],enumerable:!0})},Q=(e,t,n,r)=>{for(var i,o=r>1?void 0:r?Z(t,n):t,s=e.length-1;s>=0;s--)(i=e[s])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&z(t,n,o),o},$=(e,t,n)=>new Promise(((r,i)=>{var o=e=>{try{a(n.next(e))}catch(e){i(e)}},s=e=>{try{a(n.throw(e))}catch(e){i(e)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,s);a((n=n.apply(e,t)).next())})),ee=class{constructor(){this._items=new Map,this._commandNameSymbol=Symbol("CommandName"),this.send=this.send.bind(this),this.sendByName=this.sendByName.bind(this)}send(e,...t){return e(this._getContext())(...t)}sendByName(e,...t){const n=this.get(e);return n&&this.send(n,...t)}configure({contextGetter:e}){return this._getContext=e,this}register(e,t){const n=function(e){return"string"==typeof e?e:e.name}(e),r="string"==typeof e?t:e;if(null==r)throw new Error("Invalid command handler");return r[this._commandNameSymbol]=n,this._items.set(n,r),this}unregister(e){const t=this._items.get(e);return t&&(delete t[this._commandNameSymbol],this._items.delete(e)),this}get(e){return this._items.get(e)}getCommandName(e){return e[this._commandNameSymbol]}dispose(){this._items.clear()}};ee=Q([r.Xn],ee);var te=()=>new I,ne=[({getService:e,createContext:t,useContext:n})=>{const r=e(ee),i=r.send;r.configure({contextGetter:t}),n((e=>{e.send=i}))},({getService:e,getOption:t})=>{const n=t("keyboard");n&&e(te).configure(n)}];function re(e,t=[]){return(0,r.ri)(e,[...ne,...ie(t)])}function ie(e){return e.map((e=>t=>{const{desactivate:n,activate:r}=e;t.register({dispose:"function"==typeof n?()=>n(t):oe}),r(t)}))}var oe=()=>{};function se(e,t){if("function"==typeof e)return t?n=>()=>e(n).apply(void 0,t):e;{const{key:t,callback:n}=e;return Object.defineProperty(n,"name",{get:()=>t}),n}}var ae=class{constructor(){this.eventMap=new Map}on(e,t){return this.eventMap.has(e)||this.eventMap.set(e,new y.Q5),this.eventMap.get(e).event(t)}fire(e,t){var n;null==(n=this.eventMap.get(e))||n.fire(t)}};ae=Q([r.Xn],ae);var ce=class{constructor(){this._onInitializeSnapshot=new y.Q5,this.initializeSnapshot=e=>{this._onInitializeSnapshot.fire(e),this._onInitializeSnapshot.dispose()},this.onInitializeSnapshot=y.ju.once(this._onInitializeSnapshot.event),this.persist=(e,t)=>{throw o("persist")},this.recover=e=>{throw o("recover")}}};ce=Q([r.Xn],ce);var ue=(0,G.createContext)(null);function le(){return(0,G.useContext)(ue)}function de(e){return le().getService(e)}function fe(e){return()=>de(e)}var he=fe(ee);function pe(){return he().send}function ve(e){return()=>{const t=pe();return(0,G.useCallback)(((...n)=>t(e,...n)),[t,e])}}var ge=fe(te);function me(e){const t=he(),n=ge();return(0,G.useMemo)((()=>{const r=t.getCommandName(e);return r&&F(n.getKeybindingByCommand(r))}),[e,n,t])}var ye=fe((function({getOption:e}){var t;const n=null!=(t=e("locale"))?t:{};return e=>{var t;return null!=(t=n[e])?t:e}})),xe={colors:{primary:"#3be2ab",primaryAlt:"#3db1ff",secondary:"#1e292c",tertiary:"orange"},status:{danger:"#ff5061",muted:"#f4f6fb",success:"#5dbd5d",warning:"#faa05a"}}},6714:function(e,t,n){n.d(t,{Xz:function(){return Ki},Nf:function(){return Xt},fm:function(){return Zt},vo:function(){return ic},JQ:function(){return Cn},$2:function(){return ba},zv:function(){return br},iz:function(){return $e},Uk:function(){return Be},Dh:function(){return on},PE:function(){return ln},fC:function(){return as},mQ:function(){return rn},zP:function(){return Sr},__:function(){return rs},Du:function(){return Os},dc:function(){return Wa},qt:function(){return wn},iC:function(){return Yi},H5:function(){return Dt},Nd:function(){return tc},DK:function(){return zi},Pj:function(){return kn},WN:function(){return Bn},$o:function(){return Sn}});var r=n(9525),i=n(43),o=n(3313),s=n(6981);Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var a=n(9443),c=n(6034);function u(e,t){const n=new Map(e);return n.delete(t)?n:e}var l=Object.defineProperty,d=Object.defineProperties,f=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,g=(e,t,n)=>t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||(t={}))p.call(t,n)&&g(e,n,t[n]);if(h)for(var n of h(t))v.call(t,n)&&g(e,n,t[n]);return e};function y(e){return t=>{const n=e.getLoadable(t).contents;if(n instanceof Promise||n instanceof Error)throw new Error("Tried to get value of a pending promise or error.");return n}}function x(e,t){return e.asyncMap((e=>{const n=e.retain();return t(e).finally((()=>{setTimeout(n,0)}))}))}const b={arraySelector:function({key:e,count:t,item:n}){return(0,c.nZ)({key:e,get:({get:e})=>{const r=e(t),i=[];for(let t=0;t<r;t++)i[t]=e(n(t));return i},set:({set:e,get:r,reset:i},o)=>{const s=r(t);if(o instanceof c.nY){i(t);for(let e=0;e<s;e++)i(n(e))}else{const r=o.length;for(let t=0;t<r;t++)e(n(t),o[t]);if(e(t,r),s>r)for(let e=r;e<s;e++)i(n(e))}}})}};function w(e){const t=t=>n=>{var r=n,{key:i}=r,o=((e,t)=>{var n={};for(var r in e)p.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&h)for(var r of h(e))t.indexOf(r)<0&&v.call(e,r)&&(n[r]=e[r]);return n})(r,["key"]);return t(m({key:e+"."+i},o))},n=Object.keys(b).reduce(((e,n)=>(e[n]=t(b[n]),e)),{});return r=m({},n),i={atom:t(c.cn),selector:t(c.nZ),atomFamily:t(c.xu),selectorFamily:t(c.CG)},d(r,f(i));var r,i}function C(e){return _(e,e[e.length-1])}function _(e,t){return function(e,t){return t<0?e:[...e.slice(0,t),...e.slice(t+1)]}(e,e.indexOf(t))}w.extensions=b;var k=n(3550),E=n(6521);const S=class{constructor(e,t=S._noConstraint,n=S._noConstraint){this._localConstraint=t,this._constraint=n,this.client={x:e.clientX,y:e.clientY},this.local=this._localConstraint(this.client)}get current(){var e;return null!=(e=this._current)?e:this._current=this._constraint(this.local)}};let j=S;j._noConstraint=e=>e;var N=(e=>(e[e.NONE=0]="NONE",e[e.START=1]="START",e[e.MOVE=2]="MOVE",e[e.END=4]="END",e[e.CLICK=8]="CLICK",e[e.MENU=16]="MENU",e[e.DRAG=3]="DRAG",e))(N||{}),L=(e=>(e[e.PRIMARY=0]="PRIMARY",e[e.SECONDARY=2]="SECONDARY",e[e.TERTIARY=1]="TERTIARY",e[e.PINCH=3]="PINCH",e))(L||{});class A{constructor(e){this.target=e,this.cancel=e.cancel}get isPrimary(){return 0===this.type}get isSecondary(){return 2===this.type}get isTertiary(){return 1===this.type}get clientPosition(){return this.points[0].client}get localPosition(){return this.points[0].local}get position(){return this.points[0].current}static create(e,t=e.target){const n=new A(t);return Object.assign(n,e),n.cancelled=!1,n.cancel=t.cancel,n}static fromDOMEvent(e,t){const n=new A(t.target);return n.touch=!0,n.target=t.target,n.touch=e.type.indexOf("touch")>-1,n.sourceEvent=e,n.action=function(e){switch(e){case"touchstart":case"mousedown":return 1;case"touchmove":case"mousemove":return 3;case"touchend":case"mouseup":return 4;case"click":return 8;case"contextmenu":return 16;default:return 0}}(e.type),n.keyMod=function(e){let t=0;return e.ctrlKey&&(t|=E.ls),e.altKey&&(t|=E.Di),e.shiftKey&&(t|=E.dZ),e.metaKey&&(t|=E.Wq),t}(e),n.points=function(e,t){const{localConstraints:n,constraints:r}=t,i=n&&(e=>(n.forEach((t=>e=t(e))),e)),o=r&&(e=>(r.forEach((t=>e=t(e))),e));if(e.touch){const t=e.sourceEvent.touches,n=t.length,r=new Array(n);for(let e=0;e<n;e++){const n=t.item(e);r[e]=new j(n,i,o)}return r}return[new j(e.sourceEvent,i,o)]}(n,t),n.pointCount=n.points.length,n.type=n.touch?n.points.length>1?3:0:e.button,n.cancelled=!1,n}dispose(){this.target=null}cancel(){this.cancelled=!0}preventDefault(){this.sourceEvent.preventDefault()}stopPropagation(){this.sourceEvent.stopPropagation()}toObject(){return{touch:this.touch,type:this.type,action:this.action,keyMod:this.keyMod,points:this.points.map((e=>({client:e.client,local:e.local,current:e.current})))}}}var O=n(6508);function T(e){var t;const n=(0,o.useRef)(null);return(0,o.useEffect)((()=>{const e=n.current;return()=>{e.dispose()}}),[]),null!=(t=n.current)?t:n.current=e()}var D=n(5923);const M=(e,t,n)=>{const r=e=>i.fire(e),i=new D.Q5({onFirstListenerAdd:()=>{e.addEventListener(t,r,n)},onLastListenerRemove:()=>{e.removeEventListener(t,r,n)}});return i.event};class R{constructor(){this.timer=0,this.isTouch=!1}verify(e){if("mousedown"===e){const e=this.isTouch;return this.isTouch=!1,!e}return"touchstart"===e&&(this.isTouch=!0),!0}dispose(){clearTimeout(this.timer),this.isTouch=!1}}var P=Object.defineProperty,I=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,z=(e,t,n)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const U=(()=>{let e=0;return()=>"ctl_"+e++})(),Z=class{constructor(e={}){this.options=e,this.gesture=O.JT.None,this._cancelled=!1,this._completed=!0,this._touchFixer=new R,this._disposables=new O.SL,this._onStart=this._register(new D.Q5),this._onMove=this._register(new D.Q5),this._onEnd=this._register(new D.Q5),this._onCancel=this._register(new D.Q5),this._onClick=this._register(new D.Q5),this._onChange=this._register(new D.Q5),this._onContextMenu=this._register(new D.Q5),this._onComplete=this._register(new D.Q5),this._constraints=new Set,this._localConstraints=new Set,this.name=U(),this.onStart=this._onStart.event,this.onMove=this._onMove.event,this.onEnd=this._onEnd.event,this.onChange=this._onChange.event,this.onCancel=this._onCancel.event,this._options=((e,t)=>{for(var n in t||(t={}))F.call(t,n)&&z(e,n,t[n]);if(I)for(var n of I(t))G.call(t,n)&&z(e,n,t[n]);return e})({cancellable:!0},e),this._parentSub=O.JT.None,this.cancel=this.cancel.bind(this),this.listener=this.listener.bind(this),this.clickListener=this.clickListener.bind(this),this.contextMenuListener=this.contextMenuListener.bind(this)}get onClick(){return this._onClick.event}get onContextMenu(){return this._onContextMenu.event}get onComplete(){return this._onComplete.event}get constraints(){return this._constraints}get localConstraints(){return this._localConstraints}_register(e){return this._disposables.add(e)}_initEvent(e,t){const n=A.fromDOMEvent(e,{target:this,constraints:this._constraints,localConstraints:this._localConstraints});return t&&(n.points=t.points),n}listener(e){this._touchFixer.verify(e.type)&&this._start(this._initEvent(e))}clickListener(e){this._cancelled||this._click(this._initEvent(e))}contextMenuListener(e){this._cancelled||this._contextMenu(this._initEvent(e))}_start(e){this._isDisposed?console.warn("Tried to start gesture from a disposed controller"):(e.touch||this._completed)&&(this.gesture.dispose(),this._completed=!1,this._cancelled=!1,K(this._onStart,e),this._cancelled?this.complete(e):this.gesture=this._initMovement(e))}_initMovement(e){const t=()=>{if(this._completed)throw new Error("Illegal function call after completion")},n={},[r,i]=Z.EVENT_TYPE[e.sourceEvent.type],o=this._initEvent.bind(this),s=D.ju.once(this.onCancel),a=M(window,r),c=D.ju.once(M(window,i)),u=D.ju.once(M(document,"keydown")),l=D.ju.once(M(window,"blur"));let d=e;const f=function(e){let t=null,n=null;return{set:e=>{n=e},dispose:V((()=>{t!==n&&e(t=n)}))}}((e=>{t(),K(this._onMove,d=o(e))})),h=e=>{t(),n.dispose(),this.complete(e),d=null},p=e=>{("keydown"===e.type&&"Escape"===e.key||"blur"===e.type)&&this.cancel()};return n.dispose=(0,O.F8)(f,a(f.set),c((e=>{f.dispose();const t=o(e,d);K(this._onEnd,t),h(t)})),s((()=>h(e))),u(p),l(p)).dispose,n}_click(e){K(this._onClick,e)}_contextMenu(e){K(this._onContextMenu,e)}addConstraint(e){const t=this._constraints.add(e);return this._onChange.fire(this),this._register({dispose:()=>t.delete(e)})}addLocalConstraint(e){const t=this._localConstraints.add(e);return this._onChange.fire(this),this._register({dispose:()=>t.delete(e)})}complete(e){if(!this._isDisposed){const t=A.create(e,this);t.cancelled=this._cancelled,this._completed=!0,K(this._onComplete,t)}}cancel(){!this._isDisposed&&this._options.cancellable&&(this._cancelled=!0,this._onCancel.fire())}dispose(){this.cancel(),this._isDisposed=!0,this._parentSub.dispose(),this._touchFixer.dispose(),this._disposables.dispose(),this._constraints.clear(),this._localConstraints.clear()}setParent(e,t){if(e===this)throw new Error("Cannot assign parent to itself");if(this._parentSub.dispose(),null!=e){const n=[Y(this,e),e.onChange((()=>this.setParent(e,t)))];t&&n.push((0,O.F8)(B(e.onStart,this._start.bind(this),this),B(e.onClick,this._click.bind(this),this),B(e.onContextMenu,this._contextMenu.bind(this),this))),this._parentSub={dispose:()=>(0,O.B9)(n)}}else this._parentSub=O.JT.None}static create(e){return new Z(e)}};let J=Z;function B(e,t,n){return e((e=>t(A.create(e,n))))}function K(e,t){e.fire(t),t.dispose()}function Y(e,t){return(0,O.F8)(...W(e.constraints,t.constraints),...W(e.localConstraints,t.localConstraints))}function V(e){let t,n=!1,r=0;return r=window.requestAnimationFrame((function i(o){void 0===t&&(t=o),e(o),n||(r=window.requestAnimationFrame(i))})),()=>{n=!0,cancelAnimationFrame(r)}}function W(e,t){const n=[];return t.forEach((t=>{e.add(t),n.push({dispose:()=>{e.delete(t)}})})),n}J.EVENT_TYPE={touchstart:["touchmove","touchend"],mousedown:["mousemove","mouseup"]};var H=n(1188),X=n(4012);function q(e){const t=(0,o.useRef)(null);return(0,o.useEffect)((()=>{e&&("function"==typeof e?e(t.current):e.current=t.current)}),[e]),t}var Q=n(2674),$=n(4753),ee=Object.defineProperty,te=Object.defineProperties,ne=Object.getOwnPropertyDescriptors,re=Object.getOwnPropertySymbols,ie=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,se=(e,t,n)=>t in e?ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ae=(e,t)=>{for(var n in t||(t={}))ie.call(t,n)&&se(e,n,t[n]);if(re)for(var n of re(t))oe.call(t,n)&&se(e,n,t[n]);return e},ce=(e,t)=>te(e,ne(t));class ue{constructor(){this._components=new Set,this._onChange=new D.Q5,this._onRender=new D.Q5,this._state={position:{x:0,y:0}},this.onChange=this._onChange.event,this.onRender=this._onRender.event}getState(){return this._state}setState(e){this._onChange.fire(this._state="function"==typeof e?e(this._state):e)}refresh(){this.setState(ce(ae({},this._state),{version:(new Date).getTime()}))}subscribeComponent(e,t=1){const n={component:e,priority:t};return this._components.add(n),this.refresh(),()=>{this._components.delete(n)}}render(){const e=this._state;return Array.from(this._components).sort(le).map((({component:t},n)=>t(e,n)))}open(e=$.xE,t){this.setState({active:!0,advanced:t,position:e})}close(){this.setState((e=>ce(ae({},e),{active:!1})))}dispose(){this._onChange.dispose(),this._onRender.dispose(),this._components.clear()}static create(){return new ue}}const le=(e,t)=>e.priority>t.priority?-1:e.priority<t.priority?1:0;var de=n(1959),fe=n(8370),he=n(1131),pe=n(3422),ve=n(4239);function ge(e,t,n,r){return(0,pe.xk)(null!=n?t.x-e.x+(t.width-e.width)*n:0,null!=r?t.y-e.y+(t.height-e.height)*r:0)}function me(e,t){e.forEach(((e,n)=>{!1!==t(e,n)&&me(e.children,t)}))}var ye=n(8881),xe=n(2660),be=(()=>{const e={},t=(t,r,i,o)=>{const s=t.toLowerCase();e[t]=n(t,r,i,o),e[s]=n(s,r,i,o&&o.toLowerCase())},n=(e,t,n,r=e)=>0===t?function(){const t=n(e);t.relative=e.charCodeAt(0)>96,this.push(t)}:function(i){let o=e;const s=i.length%t;if(0!==s)throw new Error("Invalid path sequence: "+e+i.join(",")+",-".repeat(s));for(let s=0,a=i.length;s<a;s+=t){const a=new Array(t);for(let e=0;e<t;e++)a[e]=i[s+e];const c=n(o,...a);c.relative=e.charCodeAt(0)>96,this.push(c),o=r}},r=(e,t,n)=>({code:e,x:t,y:n});return t("M",2,r,"L"),t("L",2,r),t("V",1,((e,t)=>({code:e,y:t}))),t("H",1,((e,t)=>({code:e,x:t}))),t("Q",4,((e,t,n,r,i)=>({code:e,x1:t,y1:n,x:r,y:i}))),t("S",4,((e,t,n,r,i)=>({code:e,x2:t,y2:n,x:r,y:i}))),t("C",6,((e,t,n,r,i,o,s)=>({code:e,x1:t,y1:n,x2:r,y2:i,x:o,y:s}))),t("A",7,((e,t,n,r,i,o,s,a)=>({code:e,rx:t,ry:n,xAxisRotation:r,largeArc:Boolean(i),sweep:Boolean(o),x:s,y:a}))),t("T",2,r),t("Z",0,(e=>({code:e}))),e})(),we=class{constructor(e){this.number=Ce.bind(this),this.bool=_e.bind(this),this.data=e,this.length=e.length,this.index=0}get char(){return this.data.charAt(this.index)}get charCode(){return this.data.charCodeAt(this.index)}};function Ce(){for(;this.index<this.length&&!ke(this.charCode)&&"-"!==this.char;)this.index++;const e=this.index;for("-"===this.char&&this.index++;ke(this.charCode);)this.index++;return+this.data.substring(e,this.index)}function _e(){for(;this.index<this.length&&"1"!==this.char&&"0"!==this.char;)this.index++;const e="1"===this.char;return this.index++,e}function ke(e){return e>45&&e<58||101===e||69===e||46===e}function Ee(e){return Se[e.code].call(void 0,e)}var Se=(()=>{const e={},t=(t,n)=>{const r=e=>n(e);e[t]=r,e[t.toLowerCase()]=r},n=" ",r=e=>[e.code+e.x,e.y].join(n);return t("M",r),t("L",r),t("V",(e=>e.code+e.y)),t("H",(e=>e.code+e.x)),t("Q",(e=>[e.code+e.x1,e.y1,e.x,e.y].join(n))),t("S",(e=>[e.code+e.x2,e.y2,e.x,e.y].join(n))),t("C",(e=>[e.code+e.x1,e.y1,e.x2,e.y2,e.x,e.y].join(n))),t("A",(e=>[e.code+e.rx,e.ry,e.xAxisRotation,+e.largeArc,+e.sweep,e.x,e.y].join(n))),t("T",r),t("Z",(e=>e.code)),e})();function je(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}var Ne=n(5873);function Le(e,t){(0,o.useEffect)((()=>t&&e(t).dispose),[e,t])}function Ae(){let e="";for(let t=0;t<arguments.length;t++){const n=typeof arguments[t];"undefined"!==n&&"boolean"!==n&&null!==n&&(e+=" "+arguments[t])}return e.substr(1)}var Oe=n(6926),Te=(e=>(e[e.NONE=0]="NONE",e[e.X=1]="X",e[e.Y=2]="Y",e[e.XY=3]="XY",e))(Te||{}),De=n(3415),Me=(0,o.createContext)("editor"),Re=class{constructor({key:e},t){this._middlewares=new Set,this._sections=new Map,this.defaultSection="root",this.key=e,this.scopeId=t}section(e){let t=this._sections.get(e);return null==t&&this._sections.set(e,t=new Pe),t.scopeId=this.scopeId,t}add(e){return this.section(this.defaultSection).add(e),this}addMiddleware(e){return this._middlewares.add(e),this}getMiddlewares(){return Array.from(this._middlewares)}dispose(){this._sections.forEach((e=>{e.dispose()})),this._sections.clear(),this._middlewares.clear()}};Re=(0,r.u2)([s.Xn],Re);var Pe=class{constructor(){this._items=[],this.map=this._items.map.bind(this._items),this.forEach=this._items.forEach.bind(this._items)}toArray(){return this._items.slice()}add(e){if("function"!=typeof e)throw new Error("Invalid component renderer");const t=this.scopeId;return this._items.push((()=>(0,o.createElement)(Me.Provider,{value:t},(0,o.createElement)(e)))),this}dispose(){this._items=[],this.map=null}},Ie=(0,r.jp)(Re);function Fe(e,t){const n=(0,r.Yb)(),i=(0,o.useRef)(a.wO),s=(0,o.useContext)(Me),c=null!=t?t:s;(0,o.useEffect)((()=>{const t=i.current,r=Object.keys(e);if(!function(e,t){for(const n in e)if(e[n]!==t[n])return!1;for(const n in t)if(e[n]!==t[n])return!1;return!0}(t,e)){i.current=e;const t=c?c+".":"";for(const i of r)n.register(t+i,e[i])}return()=>{for(const e of r)n.unregister(c+"."+e)}}),[e,c,n])}var Ge={};(0,r.r2)(Ge,{item:()=>Je});var{atom:ze,selectorFamily:Ue}=w("clipboard"),Ze=ze({key:"_clipboardMap",default:new Map}),Je=Ue({key:"item",get:e=>({get:t})=>t(Ze).get(e),set:e=>({set:t},n)=>{void 0===n||n instanceof c.nY?t(Ze,(t=>u(t,e))):t(Ze,(t=>new Map(t).set(e,n)))}}),Be={};(0,r.r2)(Be,{behaviorStack:()=>He,currentBehavior:()=>qe,defaultBehavior:()=>Xe,hasBehavior:()=>Qe,id:()=>We});var{atom:Ke,selector:Ye}=w("editor"),Ve=Ke({key:"_behaviorStack",default:a.LZ}),We=Ke({key:"id",default:"editor_"+(0,k.i)()}),He=Ye({key:"behaviorStack",get:({get:e})=>{const t=e(Ve);return 0===t.length?[e(Xe)]:t},set:({set:e},t)=>e(Ve,t)}),Xe=Ke({key:"defaultBehavior",default:"select"}),qe=Ye({key:"currentBehavior",get:({get:e})=>{const t=e(He);return t[t.length-1]},set:({set:e,get:t},n)=>{n instanceof c.nY?e(He,C):e(He,(e=>function(e,t){return e.indexOf(t)<0?[...e,t]:e}(e,n)))}}),Qe=(0,c.CG)({key:"hasBehavior",get:e=>({get:t})=>t(He).indexOf(e)>-1,set:e=>({set:t},n)=>{n instanceof c.nY||!n?t(He,(t=>_(t,e))):t(He,(t=>t.indexOf(e)<0?[...t,e]:t))}}),$e={};(0,r.r2)($e,{clientRect:()=>tt});var{atom:et}=w("editor"),tt=et({key:"clientRect",default:{bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}}),nt={};(0,r.r2)(nt,{size:()=>it});var{atom:rt}=w("window"),it=rt({key:"size",default:{width:window.innerWidth,height:window.innerHeight},effects_UNSTABLE:[({setSelf:e})=>{const t=()=>{e({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}]}),ot={};(0,r.r2)(ot,{action:()=>ft,anchors:()=>Ot,clientCursorPosition:()=>vt,clientCursorRange:()=>kt,clientCursorStartPosition:()=>gt,cursorData:()=>xt,cursorPosition:()=>bt,cursorRange:()=>Ct,cursorStartPosition:()=>wt,eventData:()=>_t,keyMod:()=>ht,mode:()=>yt,pointCount:()=>jt,pointData:()=>Et,pointDataList:()=>Nt,startPointCount:()=>Lt,startPointData:()=>St,startPointDataList:()=>At,tips:()=>Tt,touch:()=>mt,type:()=>pt});var{atom:st,selector:at,atomFamily:ct,arraySelector:ut}=w("pointer"),lt={x:0,y:0},dt={client:lt,local:lt,current:lt},ft=st({key:"action",default:N.NONE}),ht=st({key:"keyMod",default:0}),pt=st({key:"type",default:L.PRIMARY}),vt=at({key:"clientCursorPosition",get:({get:e})=>e(Et(0)).client}),gt=at({key:"clientCursorStartPosition",get:({get:e})=>e(St(0)).client}),mt=st({key:"touch",default:!1}),yt=at({key:"mode",get:({get:e})=>({touch:e(mt),action:e(ft),keyMod:e(ht)})}),xt=at({key:"cursorData",get:({get:e})=>e(Et(0))}),bt=at({key:"cursorPosition",get:({get:e})=>e(Et(0)).local}),wt=at({key:"cursorStartPosition",get:({get:e})=>e(St(0)).local}),Ct=at({key:"cursorRange",get:({get:e})=>[e(wt),e(bt)]}),_t=at({key:"eventData",get:({get:e})=>({touch:e(mt),action:e(ft),type:e(pt),keyMod:e(ht),points:e(Nt)}),set:({set:e},t)=>{t instanceof c.nY?(e(mt,t),e(ft,t),e(pt,t),e(ht,t),e(Nt,t),e(At,t)):(e(mt,t.touch),e(ft,t.action),e(pt,t.type),e(ht,t.keyMod),e(Nt,t.points),t.action===N.START&&e(At,t.points))}}),kt=at({key:"clientCursorRange",get:({get:e})=>[e(vt),e(gt)]}),Et=ct({key:"pointData",default:dt}),St=ct({key:"startPointData",default:dt}),jt=st({key:"pointCount",default:0}),Nt=ut({key:"pointDataList",count:jt,item:Et}),Lt=st({key:"startPointCount",default:0}),At=ut({key:"startPointDataList",count:Lt,item:St}),Ot=st({key:"anchors",default:[lt]}),Tt=st({key:"tips",default:a.LZ});function Dt(){return(0,c.sJ)(Be.id)}var Mt=null,Rt=(0,o.createContext)(null);function Pt(e){const t=(0,o.useContext)(Rt),n=(0,c._8)((({set:e,snapshot:t})=>t=>{t.sourceEvent!==Mt&&(Mt=t.sourceEvent,e(ot.eventData,t.toObject()))}),[]),r=T((()=>{const e=J.create();return e.onStart(n),e.onMove(n),e.onEnd(n),e}));return(0,o.useEffect)((()=>{if(null!=r&&null!=t)return r.setParent(t,e),()=>{r.setParent(null)}}),[t,r,e]),r}function It(){const e=(0,o.useContext)(Rt);if(null===e)throw new Error("PointerControllerProvider not found");return e}function Ft(){return(0,c.sJ)(nt.size)}var Gt=({children:e})=>{const t=Ie().getMiddlewares();let n,r=e;for(;n=t.pop();)r=(0,i.tZ)(n,null,r);return(0,i.tZ)(React.Fragment,null,r)},zt=({config:e,plugins:t,children:n})=>{const o=T((()=>(0,r.Jh)(e,t)));return(0,i.tZ)(r.YP.Provider,{value:o},n(o))},Ut=(0,o.memo)((({name:e})=>{const t=Ie();return(0,i.tZ)(React.Fragment,null,t.section(e).map(((t,n)=>(0,i.tZ)(t,{key:e+"."+n}))))})),Zt=({id:e="editor_"+(0,k.i)(),config:t,plugins:n,children:o})=>(0,i.tZ)(H.b,{theme:r.g4},(0,i.tZ)(zt,{config:t,plugins:n},(t=>(0,i.tZ)(c.Wh,{initializeState:n=>{const{initializeSnapshot:i}=t.getService(r.ft);n.set(Be.id,e),i(n)}},(0,i.tZ)(Jt,null),(0,i.tZ)(Gt,null,o,(0,i.tZ)(Ut,{name:"root"})))))),Jt=()=>(function(e){const t=(0,r.IX)();(0,o.useEffect)((()=>{t.useContext(e)}),[e,t])}((0,c._8)((e=>t=>{t.snapshot=e.snapshot,t.gotoSnapshot=e.gotoSnapshot,t.refresh=e.refresh,t.reset=e.reset,t.set=e.set,t.transact_UNSTABLE=e.transact_UNSTABLE}),[])),null),Bt=(0,o.forwardRef)(((e,t)=>{var n=e,{children:i}=n,s=(0,r.S0)(n,["children"]);const a=(0,r.aK)(),c=(0,r.Yb)(),u=(0,r.v5)(),l=u.toReactHandlers();if((0,o.useLayoutEffect)((()=>u.subscribe((({action:e,event:t})=>{if(null!=e)try{const n=c.get(e);null!=n&&(a(n),t.preventDefault())}catch(e){console.warn(null==e?void 0:e.message)}}))),[a,u,c]),!(0,o.isValidElement)(i))throw new Error("Invalid child element");return(0,o.cloneElement)(i,(0,r.EZ)((0,r.ih)({},s),{ref:t,tabIndex:0,onKeyDown:l.onKeyDown,onKeyUp:l.onKeyUp}))})),Kt=(0,i.iv)({position:"relative",boxSizing:"border-box",width:"100%",height:"100%",border:0,backgroundColor:r.g4.status.muted,outline:"none","svg *":{userSelect:"none",touchAction:"none"},"& > *":{userSelect:"none"},".noevent":{pointerEvents:"none"}}),Yt=({children:e,className:t})=>((0,o.useLayoutEffect)((()=>{if(t){try{document.body.classList.add(t)}catch(e){}return()=>{try{document.body.classList.remove(t)}catch(e){}}}}),[t]),(0,X.createPortal)(e,document.body)),Vt=({children:e})=>{const t=(0,c.sJ)(ot.clientCursorPosition),n=(0,c.sJ)(ot.tips),r="translate("+t.x+"px,"+t.y+"px)";return(0,i.tZ)(Yt,null,(0,i.tZ)("ul",{css:Wt,style:{transform:r}},n.map(((e,t)=>(0,i.tZ)("li",{key:t},e)))))},Wt=(0,i.iv)({fontFamily:'"Lucida Console", Monaco, monospace',fontSize:"12px",pointerEvents:"none",listStyle:"none",margin:0,padding:0,position:"fixed",zIndex:99,top:0,left:0,"> li":{position:"relative",whiteSpace:"pre",transform:"translate(-50%, calc(-100% - 20px))",background:"rgba(30,41,44,0.75)",color:"white",borderRadius:"3px",padding:"4px 6px"}}),Ht=(0,o.forwardRef)((({children:e},t)=>{const n=Pt(),r=q(t);return(0,i.tZ)(Rt.Provider,{value:n},(0,o.cloneElement)(e,{ref:r,onTouchStart:n.listener,onMouseDown:n.listener,onClick:n.clickListener,onContextMenu:n.contextMenuListener}))})),Xt=(0,o.forwardRef)(((e,t)=>{const n=Dt(),r=q(t),s=Ft(),a=(0,c.Zl)($e.clientRect),u=(0,o.useCallback)((()=>{var e;null==(e=r.current)||e.focus()}),[r]),l=(0,o.useCallback)((()=>{var e;null==(e=r.current)||e.blur()}),[r]);var d;return d=r,(0,o.useEffect)((()=>{const e=d?d.current:window.document;if(!e)return;const t=e=>{e.preventDefault()};return e.addEventListener("touchmove",t,{passive:!1}),()=>{e.removeEventListener("touchmove",t)}}),[d]),(0,o.useEffect)((()=>{const e=r.current;e instanceof HTMLElement&&a((0,Q.L6)(e))}),[a,s,r]),Fe({focus:u,blur:l}),(0,i.tZ)(Ht,{ref:r},(0,i.tZ)(Bt,null,(0,i.tZ)("div",{id:n,css:Kt},(0,i.tZ)(Ut,{name:"container"}),(0,i.tZ)(Ut,{name:"overlay"}),(0,i.tZ)(Vt,null))))})),qt=e=>{const{keys:t,render:n,component:r}=e,i=(0,c.sJ)(Be.currentBehavior);return t.indexOf(i)<0?null:r?(0,o.createElement)(r):n({current:i})},Qt=(0,r.jp)((()=>new ue)),$t={};(0,r.r2)($t,{activeItem:()=>nn,state:()=>tn});var{atom:en}=w("contextMenu"),tn=en({key:"state",default:{position:$.xE}}),nn=en({key:"activeItem",default:null}),rn={};(0,r.r2)(rn,{toggleGrid:()=>es,toggleGuides:()=>ns});var on={};(0,r.r2)(on,{enabled:()=>an,snapThreshold:()=>un,step:()=>cn});var{atom:sn}=w("grid"),an=sn({key:"enabled",default:!1}),cn=sn({key:"step",default:64}),un=sn({key:"snapThreshold",default:10}),ln={};(0,r.r2)(ln,{GuideLevel:()=>Fo,createGuide:()=>Wo,enabled:()=>Yo,lines:()=>Vo});var dn={};(0,r.r2)(dn,{copiedObject:()=>fn});var fn=Ge.item("copiedObject"),hn={};(0,r.r2)(hn,{endPoint:()=>bn,pointState:()=>pn,startPoint:()=>xn,state:()=>yn});var pn=(0,c.xu)({key:"pointState",default:void 0}),{selector:vn}=w("selectionRect"),gn=pn("$$selectionStart$$"),mn=pn("$$selectionEnd$$"),yn=vn({key:"state",get:({get:e})=>{const t=e(xn),n=e(bn);if(null==t||null==n)return null;const r=t.x-n.x,i=t.y-n.y;return{x:Math.min(t.x,t.x-r),y:Math.min(t.y,t.y-i),width:Math.abs(r),height:Math.abs(i)}}}),xn=vn({key:"startPoint",get:({get:e})=>e(gn),set:({set:e},t)=>{e(mn,t),e(gn,t)}}),bn=vn({key:"endPoint",get:({get:e})=>e(mn),set:({set:e},t)=>e(mn,t)}),wn={};(0,r.r2)(wn,{TARGET_PROXY_ID:()=>Qi,TransformAction:()=>$i,absoluteBBox:()=>No,absoluteTransform:()=>jo,attribute:()=>fo,attrs:()=>lo,bbox:()=>so,children:()=>vo,computedAttribute:()=>ho,computedAttrs:()=>po,current:()=>io,emptyTargetState:()=>Lo,initialTransform:()=>_o,mainId:()=>oo,nested:()=>mo,nestedLevel:()=>go,objects:()=>ao,parentId:()=>xo,persistedState:()=>bo,relativeTransform:()=>Eo,siblings:()=>yo,transform:()=>So,transformAction:()=>wo,transformDelta:()=>ko,tree:()=>co,type:()=>uo});var Cn={};(0,r.r2)(Cn,{append:()=>Ti,group:()=>Ri,remove:()=>Pi,resize:()=>Fi,setDefinition:()=>Mi,setDocument:()=>Zi,setLocked:()=>Di,setObjectAttrs:()=>Ji,ungroup:()=>Bi});var _n={};(0,r.r2)(_n,{enabled:()=>Ai,obfuscatorPathData:()=>Oi});var kn={};(0,r.r2)(kn,{focusCanvas:()=>mr,lookAt:()=>vr,move:()=>ar,moveDown:()=>cr,moveLeft:()=>dr,moveRight:()=>ur,moveUp:()=>lr,recenter:()=>gr,toggleRuler:()=>xr,zoom:()=>fr,zoomIn:()=>hr,zoomOut:()=>pr});var En={};(0,r.r2)(En,{clientRect:()=>zn,clientRectConstraint:()=>Gn,clientRectConstraintMap:()=>Fn,offset:()=>Jn,style:()=>Zn,viewBox:()=>Un});var Sn={};(0,r.r2)(Sn,{background:()=>Dn,moveFactor:()=>On,scale:()=>An,unitScale:()=>Tn});var{atom:jn,selector:Nn}=w("viewport"),Ln=jn({key:"_scale",default:1}),An=Nn({key:"scale",get:({get:e})=>e(Ln),set:({set:e},t)=>e(Ln,t instanceof c.nY?t:Math.max(t,.01))}),On=jn({key:"moveFactor",default:1}),Tn=Nn({key:"unitScale",get:({get:e})=>1/e(An)}),Dn=Nn({key:"background",get:({get:e})=>(0,r.EZ)((0,r.ih)({},e(br.size)),{unitScale:e(Tn)})}),{atom:Mn,selector:Rn,selectorFamily:Pn}=w("viewportElement"),In=Mn({key:"_offset",default:{x:0,y:0}}),Fn=Mn({key:"clientRectConstraints",default:new Map}),Gn=Pn({key:"clientRectConstraint",get:e=>({get:t})=>t(Fn).get(e),set:e=>({get:t,set:n},r)=>{!r||r instanceof c.nY?n(Fn,(t=>u(t,e))):n(Fn,(t=>new Map(t).set(e,r)))}}),zn=Rn({key:"clientRect",get:({get:e})=>{const t=e($e.clientRect),n=e(Fn),i=(0,r.ih)({},t);return n.forEach((({top:e=0,left:t=0,width:n=0,height:r=0})=>{i.x=i.left=i.left+t,i.y=i.top=i.top+e,i.width=Math.max(i.width+n,0),i.height=Math.max(i.height+r,0),i.right=i.left+i.width,i.bottom=i.top+i.height})),i}}),Un=Rn({key:"viewBox",get:({get:e})=>{const t=e(Tn),{width:n,height:r}=e(zn),i=e(br.size),o=n*t,s=r*t,a=e(Jn);return{x:-(.5*o-.5*i.width)+a.x,y:-(.5*s-.5*i.height)+a.y,width:o,height:s}}}),Zn=Rn({key:"style",get:({get:e})=>{const t=e($e.clientRect),n=e(zn);return{position:"absolute",top:n.top-t.top,left:n.left-t.left,width:n.width,height:n.height}}}),Jn=Rn({key:"offset",get:({get:e})=>{const t=e(In),n=e(An),r=e(Tn),{width:i,height:o}=e(zn),s=e(br.size),a=s.width*n,c=s.height*n,u=o<c,l=(i-a)*r*.5,d=(o-c)*r*.5;return{x:i<a?Math.min(Math.max(t.x,l),-l):0,y:u?Math.min(Math.max(t.y,d),-d):0}},set:({set:e},t)=>e(In,t)}),Bn={};(0,r.r2)(Bn,{enabled:()=>er,height:()=>or,offset:()=>rr,state:()=>sr,stepSize:()=>tr,style:()=>ir,unitsPerStep:()=>nr});var Kn={width:"left",height:"top"},Yn=[];for(let e=.1;e<1e5;e*=10)Yn.push(1*e),Yn.push(2*e),Yn.push(5*e);var Vn=class{constructor(e){this._initialized=!1,this._container=e.container,this._props=(0,r.ih)((0,r.ih)({},Vn.defaultProps),e),void 0===e.width&&(this._props.width=this._container.offsetWidth),void 0===e.height&&(this._props.height=this._container.offsetHeight)}_initialize(){this._initialized=!0,this._rulerTop=Xn(this._container),this._rulerLeft=Xn(this._container),this._corner=Xn(this._container)}setProps(e){return function(e,t){if(!t)return e;const n=Object.keys(t);for(const r of n)e[r]=t[r]}(this._props,e),this}render(){this._initialized||this._initialize();const e=this._props;this._container.style.position="relative",function(e,t){const n=t.rulerHeight,r=e.getContext("2d"),i=n.toString();e.setAttribute("width",i),e.setAttribute("height",i),r.fillStyle=t.backgroundColor,r.strokeStyle=t.stroke,r.lineWidth=1,r.fillRect(0,0,n,n)}(this._corner,e),this._render(this._rulerTop,!0),this._render(this._rulerLeft,!1)}_render(e,t){const n=this._props,{rulerHeight:r,scale:i,backgroundColor:o,stroke:s,unitsPerStep:a}=n,c=t?"width":"height",u=t?"height":"width",l=t?"x":"y",d=n[c];!function(e,t,n,r){const i=t.rulerHeight.toString(),o=e.style,s=Kn[n],a=Kn[r],c=t[n]-t.rulerHeight;e.setAttribute(n,c.toString()),e.setAttribute(r,i),o[a]="0",o[s]=i+"px",o[n]=c+"px",o[r]=i+"px"}(e,n,c,u);const f=function(e){const t=window.devicePixelRatio||1,n=e.getBoundingClientRect();e.width=n.width*t,e.height=n.height*t;const r=e.getContext("2d");return r.scale(t,t),r}(e);if(f.fillStyle=o,t?f.fillRect(0,0,d,r):f.fillRect(0,0,r,d),0!==i){for(var h=1*i,p=n[l],v=n[c],g=50/h,m=1,y=0;y<Yn.length&&(m=j=Yn[y],!(g<=j));y++);f.fillStyle=s,f.strokeStyle=s,f.beginPath();var x=m*h,b=p/h%m*h-x;v=2*n[c];for(var w=b-x;b<v;b+=x){var C=Math.round(b);w+=x,C=Math.round(b)+.5,t?(f.moveTo(C,r),f.lineTo(C,0)):(f.moveTo(r,C),f.lineTo(0,C));var _=x/a;for(y=1;y<a;y++){var k=Math.round(b+_*y)+.5,E=y%2?12:10;t?(f.moveTo(k,r),f.lineTo(k,E)):(f.moveTo(r,k),f.lineTo(E,k))}var S,j=(w-p)/h;if(m>=1)S=Math.round(j);else{var N=(m+"").split(".")[1].length;S=+j.toFixed(N)}if(0!==S&&1e3!==S&&S%1e3==0&&(S=S/1e3+"K"),t)f.fillText(S,b+2,8);else{var L=(S+"").split("");for(y=0;y<L.length;y++)f.fillText(L[y],1,b+9+9*y)}}f.stroke()}}dispose(){this._initialized&&(this._rulerTop=Hn(this._rulerTop),this._rulerLeft=Hn(this._rulerLeft),this._rulerLeft=Hn(this._corner)),this._initialized=!1}static create(e){return new Vn({container:e})}},Wn=Vn;function Hn(e){const t=e.parentNode;t&&t.removeChild(e)}function Xn(e){const t=document.createElement("canvas");return t.style.position="absolute",t.style.top="0",t.style.left="0",e.appendChild(t),t}Wn.defaultProps={stepSize:50,unitsPerStep:10,rulerHeight:15,width:0,height:0,x:0,y:0,scale:1,stroke:"#777777",backgroundColor:"#F4F6FB"};var{atom:qn,selector:Qn}=w("viewportRuler"),$n=Wn.defaultProps,er=qn({key:"enabled",default:!1}),tr=qn({key:"stepSize",default:$n.stepSize}),nr=qn({key:"unitsPerStep",default:$n.unitsPerStep}),rr=Qn({key:"offset",get:({get:e})=>{const t=e(Un),n=e(An);return{x:-t.x*n,y:-t.y*n}}}),ir=qn({key:"style",default:{stroke:$n.stroke,backgroundColor:$n.backgroundColor}}),or=qn({key:"height",default:$n.rulerHeight}),sr=Qn({key:"state",get:({get:e})=>{const t=e($e.clientRect);return(0,r.EZ)((0,r.ih)((0,r.ih)({},e(ir)),e(rr)),{width:t.width,height:t.height,rulerHeight:e(or),scale:e(An),unitsPerStep:e(nr),stepSize:e(tr)})}}),ar=(0,r.WD)((({set:e})=>t=>{e(En.offset,(e=>(0,r.EZ)((0,r.ih)({},e),{x:e.x+t.x,y:e.y+t.y})))})),cr=(0,r.WD)(ar,[{x:0,y:5}]),ur=(0,r.WD)(ar,[{x:5,y:0}]),lr=(0,r.WD)(ar,[{x:0,y:-5}]),dr=(0,r.WD)(ar,[{x:-5,y:0}]),fr=(0,r.WD)((({snapshot:e,set:t})=>n=>{const r=e.getLoadable(Sn.scale).getValue(),{delta:i,snap:o}="number"==typeof n||void 0===n?{delta:null!=n?n:0,snap:!1}:n;let s=r+i;return o&&(s=Math.round(s/i)*i),t(Sn.scale,s)})),hr=(0,r.WD)(fr,[{delta:.25,snap:!0}]),pr=(0,r.WD)(fr,[{delta:-.25,snap:!0}]),vr=(0,r.WD)((({snapshot:e,set:t})=>n=>{if(!n)return;const{width:r,height:i,minScale:o=0,maxScale:s,margin:a=0}=n,c=e.getLoadable(En.clientRect).getValue();let u=Math.max(Math.min((c.width-2*a)/r,(c.height-2*a)/i),o);"number"==typeof s&&(u=Math.min(u,s)),t(Sn.scale,u)})),gr=(0,r.WD)((({send:e,snapshot:t})=>n=>{const i=t.getLoadable(br.size).getValue();e(vr,(0,r.ih)({width:i.width,height:i.height,maxScale:1},n))})),mr=(0,r.WD)(gr,[{margin:16,maxScale:void 0}]),yr=e=>!e,xr=(0,r.WD)((({set:e})=>()=>{e(Bn.enabled,yr)})),br={};(0,r.r2)(br,{DEFAULT_DOCUMENT_STATE:()=>si,attrs:()=>fi,background:()=>Ei,children:()=>pi,contentBBox:()=>mi,definition:()=>wi,defs:()=>xi,defsTree:()=>bi,documentId:()=>li,objectNestedLevel:()=>ji,objectSiblings:()=>Ni,relationTree:()=>Ci,size:()=>_i,solidGraphics:()=>gi,state:()=>hi,svgxString:()=>ki,title:()=>di,topObject:()=>Si,tree:()=>yi,viewBox:()=>vi});var wr="#text",Cr=wr,_r="fl:background",kr="fl:textpath",Er="data-uid",Sr={};function jr(e,t){const n=document.createElementNS(Q.NS,e);(0,Q.p8)(n,t);const r=document.createElementNS(Q.NS,"svg");return r.setAttribute("xmlns",Q.NS),r.appendChild(n),(0,Q.Ku)(r,(e=>function(e){if(!(((0,fe.L6)(e.nodeName.toLowerCase())&fe.We.SOLID)>0))return de.Kn;try{const t=parseFloat(e.getAttribute("stroke-width")||"0"),n=e.getBBox();return(0,de.cM)(n.x-.5*t,n.y-.5*t,n.width+t,n.height+t)}catch(e){return console.error(e),de.Kn}}(e.childNodes[0])))}(0,r.r2)(Sr,{BoundingBoxMap:()=>ti,absoluteBBox:()=>ei,absoluteTransform:()=>Xr,attribute:()=>zr,attributeNames:()=>Gr,attrs:()=>Zr,bbox:()=>Qr,children:()=>Jr,classList:()=>Ir,contentText:()=>Ur,defineBoundingBox:()=>ri,getBoundingBoxCallback:()=>ni,locked:()=>qr,objectState:()=>Yr,parentId:()=>Br,refId:()=>Fr,relationTree:()=>Wr,solidGraphics:()=>Kr,transform:()=>Hr,transformedBBox:()=>$r,tree:()=>Vr,type:()=>Pr});var{atomFamily:Nr,selectorFamily:Lr}=w("node"),Ar=/\s+/g,Or=Nr({key:"_children",default:a.LZ}),Tr=Nr({key:"_attributeNames",default:a.LZ}),Dr=Nr({key:"_attribute",default:null}),Mr=Nr({key:"_parentId",default:void 0}),Rr=Nr({key:"_bbox",default:de.Kn}),Pr=Nr({key:"type",default:a.E_}),Ir=Lr({key:"classList",get:e=>({get:t})=>{var n,r;return null!=(r=null==(n=t(zr([e,"class"])))?void 0:n.split(Ar))?r:[]},set:e=>({set:t},n)=>{const r=zr([e,"class"]);n instanceof c.nY?t(r,n):t(r,n.join(" "))}}),Fr=Nr({key:"refId",default:null}),Gr=Lr({key:"attributeNames",get:e=>({get:t})=>t(Tr(e)),set:e=>({set:t,get:n,reset:r},i)=>{const o=n(Tr(e));if(t(Tr(e),i),i instanceof c.nY)for(const t of o)r(Dr(e+"."+t));else for(const t of o)i.indexOf(t)<0&&r(Dr(e+"."+t))}}),zr=Lr({key:"attribute",get:e=>({get:t})=>t(Dr(e.join("."))),set:([e,t])=>({set:n,get:r,reset:i},o)=>{if(o instanceof c.nY||null==o){const o=Dr(e+"."+t),s=r(o);"id"===t&&s&&i(Fr(s)),n(Tr(e),(e=>e.filter((e=>e!==t)))),i(o)}else n(Tr(e),(e=>e.indexOf(t)<0?[...e,t]:e)),n(Dr(e+"."+t),o),"id"===t&&n(Fr(o),e)}}),Ur=Lr({key:"contentText",get:e=>({get:t})=>{const n=t(zr([e,Cr]));return"string"==typeof n?n:void 0},set:e=>({set:t},n)=>{t(zr([e,Cr]),n)}}),Zr=Lr({key:"attrs",get:e=>({get:t})=>t(Tr(e)).reduce(((n,r)=>(n[r]=t(Dr(e+"."+r)),n)),{}),set:e=>({set:t,get:n,reset:r},i)=>{const o=Tr(e),s=n(o);if(i instanceof c.nY){r(Tr(e));for(const t of s){const i=Dr(e+"."+t);let o;"id"===t&&(o=n(i))&&r(Fr(o)),r(i)}}else{t(o,Object.keys(i).map((o=>{const s=Dr(e+"."+o),a=i[o];if(t(s,a),"id"===o){const i=n(s);a?t(Fr(a),e):i&&r(Fr(i))}return o})));for(const t of s)null==i[t]&&r(Dr(e+"."+t))}}}),Jr=Lr({key:"children",get:e=>({get:t})=>t(Or(e)),set:e=>({set:t,get:n},r)=>{let i,o;r instanceof c.nY?(i=r,o=n(Or(e))):(i=e,o=r),t(Or(e),r);for(const e of o)t(Mr(e),i)}}),Br=Lr({key:"parentId",get:e=>({get:t})=>t(Mr(e)),set:e=>({get:t,set:n},r)=>{if(!r||r instanceof c.nY){const r=t(Mr(e));r&&n(Or(r),(t=>_(t,e)))}else n(Mr(e),r),n(Or(r),(t=>[...t,e]))}}),Kr=Lr({key:"solidGraphics",get:e=>({get:t})=>t(Or(e)).filter((e=>((0,fe.L6)(t(Pr(e)))&fe.We.SOLID_GRAPHICS)===fe.We.SOLID_GRAPHICS))}),Yr=Lr({key:"objectState",get:e=>({get:t})=>({id:e,type:t(Pr(e)),attrs:t(Zr(e)),children:t(Or(e))}),set:e=>({set:t},n)=>{n instanceof c.nY?(t(Pr(e),n),t(Zr(e),n),t(Jr(e),n)):(t(Pr(e),n.type),t(Zr(e),n.attrs),t(Jr(e),n.children))}}),Vr=Lr({key:"tree",get:e=>({get:t})=>function e(n){const r=(0,he.f)({},t(Yr(n)));return r.children=r.children.map(e),r}(e),set:e=>({set:t,get:n,reset:r},i)=>{i instanceof c.nY?function e(t){n(Jr(t)).forEach(e),r(Yr(t)),r(Br(t))}(e):function e(n,r){return t(Yr(n),{id:n,attrs:r.attrs,type:r.type,children:r.children.map((t=>e(t.id,t)))}),n}(e,i)}}),Wr=Lr({key:"relationTree",get:e=>({get:t})=>function e(n){return{id:n,children:t(Or(n)).map(e)}}(e),set:e=>({set:t,get:n},r)=>function e(r,i){if(i instanceof c.nY){const o=Or(r),s=n(o);t(o,i);for(const t of s)e(t,i)}else t(Jr(r),i.children.map((t=>(e(t.id,t),t.id))))}(e,r)}),Hr=Lr({key:"transform",get:e=>({get:t})=>{const n=t(zr([e,"transform"]));return null!=n?(0,pe.y3)(n):void 0},set:e=>({set:t},n)=>{t(zr([e,"transform"]),null==n||n instanceof c.nY?void 0:(0,pe.Jc)(n))}}),Xr=Lr({key:"absoluteTransform",get:e=>({get:t})=>{const n=t(Mr(e)),r=t(zr([e,"transform"])),i=r?(0,pe.y3)(r):pe.y3.DEFAULT;return n?(0,pe.Jp)(t(Xr(n)),i):i}}),qr=Nr({key:"locked",default:!1}),Qr=Lr({key:"bbox",get:e=>t=>{const n=t.get(Rr(e));if(n===de.Kn){const n=t.get(Pr(e));return ni(n)(e)(t)}return n},set:e=>({set:t,reset:n},r)=>{r instanceof c.nY||0===r.width&&0===r.height?n(Rr(e)):t(Rr(e),r)}}),$r=Lr({key:"transformedBBox",get:e=>({get:t})=>{const n=t(Qr(e)),r=t(Hr(e));return null!=r?(0,de.Ut)(n,r):n}}),ei=Lr({key:"absoluteBBox",get:e=>({get:t})=>{const n=t(Qr(e)),r=t(Xr(e));return null!=r?(0,de.Ut)(n,r):n}}),ti=function(e={default:void 0}){const t=e.default,n={};return{get:void 0===t?e=>n[e]:e=>{const r=n[e];return void 0===r?t:r},set:e.strict?(e,t)=>{if(e in n)throw new Error('Duplicated key "'+e+'"');return n[e]=t}:(e,t)=>n[e]=t}}({strict:!0,default:e=>({get:t})=>{var n,r;const i=t(Pr(e)),o=null!=(r=null==(n=ii(i))?void 0:n.reduce(((n,r)=>{const i=t(zr([e,r]));return null!=i&&(n[r]=i),n}),{}))?r:{},s=(0,fe.L6)(i);if((s&fe.We.SHAPE)===fe.We.SHAPE)return jr(i,o);if(s&fe.We.SOLID_GRAPHICS){const n=t(Kr(e)).map((e=>t($r(e)))),r=(0,de.AO)(n);return"svg"===i?function(e,t){return(0,de.Ut)(t,(0,fe.SQ)(e))}(o,r):r}return de.Kn}}),ni=ti.get,ri=ti.set,ii=(()=>{const e={circle:["r","cx","cy"],ellipse:["rx","ry","cx","cy"],path:["d"],rect:["x","y","width","height"],polygon:["points"],polyline:["points"],line:["x1","y1","x2","y2"],text:["x","y"],svg:["x","y","width","height","viewBox"]};for(const t in e)e[t].push("stroke-width");return t=>Object.prototype.hasOwnProperty.call(e,t)?e[t]:null})(),oi="_root_",si={id:oi,title:"Untitled",type:"svg",attrs:{xmlns:Q.NS,width:"512px",height:"512px"},children:a.LZ},{atom:ai,selector:ci,selectorFamily:ui}=w("document"),li=(0,c.Kz)(oi),di=ai({key:"title",default:"Untitled"}),fi=ci({key:"attrs",get:({get:e})=>e(Zr(oi)),set:({set:e},t)=>{e(Zr(oi),t)}}),hi=ci({key:"state",get:({get:e})=>e(Yr(oi)).type?(0,r.EZ)((0,r.ih)({},e(Yr(oi))),{title:e(di)}):si,set:({set:e},t)=>{t instanceof c.nY?(e(Yr(oi),si),e(di,t)):(e(Yr(oi),t),e(di,t.title))}}),pi=ci({key:"children",get:({get:e})=>e(Jr(oi)),set:({set:e},t)=>e(Jr(oi),t)}),vi=ci({key:"viewBox",get:({get:e})=>{const t=(0,fe.Lm)(e(zr([oi,"viewBox"])));if(t)return t;const n=e(_i);return{x:0,y:0,width:n.width,height:n.height}}}),gi=ci({key:"solidGraphics",get:({get:e})=>e(Kr(oi))}),mi=ci({key:"contentBBox",get:({get:e})=>{const t=e(gi),n=e((0,c.k9)(t.map((e=>$r(e)))));return(0,de.AO)(n)}}),yi=ci({key:"tree",get:({get:e})=>{const t=e(hi),{children:n}=t,i=(0,r.S0)(t,["children"]);return(0,r.EZ)((0,r.ih)({},i),{children:n.map((t=>e(Vr(t))))})},set:({set:e},t)=>e(Vr(oi),t)}),xi=ci({key:"defs",get:({get:e})=>{const t=e(pi).find((t=>"defs"===e(Pr(t))));return t?e(Jr(t)):[]},set:({get:e,set:t},n)=>{const r=e(pi).find((t=>"defs"===e(Pr(t))));if(r)t(Jr(r),n);else{const e=(0,fe.Ox)();t(Pr(e),"defs"),t(Jr(e),n),n instanceof c.nY||t(pi,(t=>[e,...t]))}}}),bi=ci({key:"defsTree",get:({get:e})=>e(xi).map((t=>e(Vr(t)))),set:({get:e,set:t},n)=>{if(n instanceof c.nY){for(const r of e(xi))t(Vr(r),n);t(xi,n)}else t(xi,n.map((e=>(t(Vr(e.id),e),e.id))))}}),wi=ui({key:"definition",get:e=>({get:t})=>t(xi).indexOf(e)<0?null:Vr(e),set:e=>({set:t,get:n,reset:r},i)=>{!i||i instanceof c.nY?(r(Vr(e)),t(xi,(t=>t.filter((t=>t!==e))))):(t(Vr(e),i),n(xi).indexOf(e)<0&&t(xi,(t=>[...t,e])))}}),Ci=ci({key:"relationTree",get:({get:e})=>e(Wr(oi)),set:({set:e},t)=>e(Wr(oi),t)}),_i=ci({key:"size",get:({get:e})=>{const t=e(fi);return{width:parseInt(t.width||si.attrs.width)||0,height:parseInt(t.height||si.attrs.height)||0}},set:({set:e},t)=>{if(t instanceof c.nY)e(Zr(oi),{width:si.attrs.width,height:si.attrs.height,viewBox:si.attrs.viewBox});else{const n=Math.max(t.width,0),i=Math.max(t.height,0);e(Zr(oi),(e=>(0,r.EZ)((0,r.ih)({},e),{width:n+"px",height:i+"px",viewBox:"0 0 "+n+" "+i})))}}}),ki=ci({key:"svgxString",get:({get:e})=>{const t=e(yi);return(0,fe.sD)(t)},set:({set:e,get:t,reset:n},r)=>{if(r instanceof c.nY)e(yi,r);else{t(pi).forEach((e=>{n(Vr(e))}));const i=(0,fe.op)(r);i&&e(yi,i)}}}),Ei=ci({key:"background",get:({get:e})=>{var t;const n=e(pi).find((t=>e(Pr(t))===_r));return null!=(t=n?e(zr([n,"fill"])):void 0)?t:"none"},set:({get:e,set:t},n)=>{let r=e(pi).find((t=>e(Pr(t))===_r));if(!r){const e=r=(0,fe.Ox)();t(Pr(e),_r),t(pi,(t=>[e,...t]))}n instanceof c.nY||!n||"none"===n?t(pi,(t=>t.filter((t=>e(Pr(t))!==_r)))):t(zr([r,"fill"]),n)}}),Si=ui({key:"topObject",get:e=>({get:t})=>{let n=e,r=n;for(;n;){const e=t(Br(n));if(!e)return r;r=n,n=e}return e}}),ji=ui({key:"objectNestedLevel",get:e=>({get:t})=>{const n=t(li);let r=t(Br(e)),i=0;for(;r&&r!==n;)if(r=t(Br(r)),i++,i>50){console.warn("To many levels");break}return i}}),Ni=ui({key:"objectSiblings",get:e=>({get:t})=>{const n=t(Br(e));return n?t(Jr(n)):a.LZ}}),{selector:Li}=w("cropping"),Ai=Be.hasBehavior("cropping"),Oi=Li({key:"obfuscatorPathData",get:({get:e})=>{if(!e(Ai))return;const t=e(En.viewBox),{width:n,height:r}=e(_i);return["M",t.x," ",t.y,"h",t.width,"v",t.height,"h",-t.width,"z M0 0","v",r,"h",n,"v",-r,"z"].join("")}}),Ti=(0,r.WD)((({snapshot:e,gotoSnapshot:t})=>n=>(0,r.Cr)(void 0,null,(function*(){"string"==typeof n&&(n={value:n});const i=n.use&&(0,ve.rY)(n.use),{centered:o,flatten:s}=n,a="string"==typeof n.value?(0,fe.Ie)(n.value):(0,ve.rY)(n.value),c=[];let u=s?(0,fe.yQ)(a,c):a;n.group&&(u=[(0,fe.Wm)({type:"g",children:u})]);const l=u.map((e=>e.id)),d=yield x(e,(e=>(0,r.Cr)(void 0,null,(function*(){const{set:t}=e;for(const e of u)t(Sr.tree(e.id),e);if(t(br.children,(e=>[...e,...l])),c.length>0&&t(br.defsTree,(e=>[...e,...c])),o&&(yield function(e,t){return(0,r.Cr)(this,null,(function*(){const n=yield Promise.all(t.map((t=>e.getPromise(Sr.transformedBBox(t))))),r=yield e.getPromise(br.viewBox),i=(0,de.AO)(n),o=Math.min(r.width/i.width,r.height/i.height),s=ge(i,r,.5,.5),a=o<1?(0,pe.Jp)((0,pe.w9)(o,o,r.x+.5*r.width,r.y+.5*r.height),s):s;for(const n of t)e.set(Sr.transform(n),a)}))}(e,l)),i)for(const t of i)yield t(e,l)}))));return t(d),l})))),Di=(0,r.WD)((({set:e})=>(t,n)=>{e(Sr.locked(t),n)})),Mi=(0,r.WD)((({set:e})=>t=>{e(br.definition(t.id),t)})),Ri=(0,r.WD)((({set:e,snapshot:t})=>n=>(0,r.Cr)(void 0,null,(function*(){if(n.length<2)return n;const i=n[0],o=yield t.getPromise(Sr.parentId(i));if(!o)return n;const s=[],a=(0,fe.Wm)({type:"g",children:s});return e(Sr.tree(o),(e=>{const t=[],i=e.children;let o=0;for(let e=0,r=i.length;e<r;e++){const r=i[e];n.indexOf(r.id)<0?t.push(r):(s.push(r),o=t.length)}return t.splice(o,0,a),(0,r.EZ)((0,r.ih)({},e),{children:t})})),[a.id]})))),Pi=(0,r.WD)((({snapshot:e,set:t,reset:n})=>i=>(0,r.Cr)(void 0,null,(function*(){const r=[],o=Ii(yield e.getPromise(br.relationTree),i,r);t(br.relationTree,o),me(r,(e=>{n(Sr.bbox(e.id)),n(Sr.objectState(e.id))}))}))));function Ii(e,t,n){const r=[];for(const i of e.children)t.indexOf(i.id)<0?r.push(Ii(i,t,n)):n.push(i);return{id:e.id,children:r}}var Fi=(0,r.WD)((({snapshot:e,set:t})=>n=>(0,r.Cr)(void 0,null,(function*(){if(!n.target||0===n.target.length)return;if(!n.width&&!n.height)return;const{getPromise:r}=e,i=(0,de.AO)(yield r((0,c.k9)(n.target.map((e=>Sr.absoluteBBox(e)))))),{width:o,height:s,x:a=i.x,y:u=i.y}=n;let l=void 0!==o?o/i.width:void 0,d=void 0!==s?s/i.height:void 0;const f=a-i.x,h=u-i.y;n.preserveAspect?(l=Math.min(null!=l?l:d,null!=d?d:l),d=l):(l=null!=l?l:d,d=null!=d?d:l);const p=(0,pe.Jp)((0,pe.w9)(l,d,a,u),(0,pe.xk)(f,h));for(const e of n.target)t(Sr.transform(e),(e=>e?(0,pe.Jp)(p,e):p))})))),Gi=class extends class{constructor(){this._onChange=new D.Q5,this.onChange=this._onChange.event,this.index=-1,this.length=0,this.states=[],this.maxLength=20,this.undo=this.undo.bind(this),this.redo=this.redo.bind(this),this.reset=this.reset.bind(this),this.init=this.init.bind(this),this.commit=this.commit.bind(this)}push(e){const t=this.states.slice(0,this.index+1);t.push(e)>this.maxLength&&t.shift(),this.index=(this.length=t.length)-1,this.states=t,this.notify("push")}setIndex(e){(e=Math.min(Math.max(e,0),this.length-1))!==this.index&&(this.index=e,this.notify("navigate"))}notify(e){if(!this._initialized)return;const t=this.states[this.index];this._onChange.fire({action:e,index:this.index,length:this.length,state:t})}current(){return this.states[this.index]}get(e){return this.states[Math.min(Math.max(e,0),this.length-1)]}init(e){this._initialized&&(this._initialized=!1,this.reset()),e&&this.push(e),this.commit(),this._initialized=!0,this.notify("init")}commit(){this.states=this.states.slice(this.index,this.index+1),this.length=this.states.length,this.index=this.length-1,this._initialState=this.states[0],this.notify("commit")}reset(){this._initialState?(this.states=[this._initialState],this.index=0):(this.states=[],this.index=-1),this.commit(),this.notify("reset")}undo(){this.setIndex(this.index-1)}redo(){this.setIndex(this.index+1)}dispose(){this._onChange.dispose(),this.reset()}}{constructor({getService:e}){super(),this._items=new Map,this._stateQuery=(0,r.WD)((({snapshot:e})=>(t=e)=>t.getPromise(this.recoilState))),this._pendingStatePush=Promise.resolve(),this._send=e(r.Gh).send,this.recoilState=(0,c.nZ)({key:"StateHistoryService_trackedState",get:({get:e})=>{const t={};return Array.from(this._items).forEach((([n,r])=>{t[n]=e(r)})),t},set:({set:e},t)=>{if(t instanceof c.nY)return;const n=new Map(this._items);for(const r in t)n.has(r)&&e(n.get(r),t[r])}})}getTrackedState(e){return(0,r.Cr)(this,null,(function*(){return yield this._send(this._stateQuery,e)}))}pushCurrentState(){return(0,r.Cr)(this,null,(function*(){this._pendingStatePush=this._pushCurrentState()}))}register(e){this._items.set(e.key,e)}unregister(e){this._items.delete(e.key)}subscribe(e){return this.onChange(e).dispose}_pushCurrentState(){return(0,r.Cr)(this,null,(function*(){yield this._pendingStatePush,this.push(yield this.getTrackedState())}))}};Gi=(0,r.u2)([s.Xn],Gi);var zi=(0,r.jp)(Gi);function Ui(e){const t=zi();(0,o.useEffect)((()=>(t.register(e),()=>{t.unregister(e)})),[e,t])}var Zi=(0,r.WD)((({snapshot:e,gotoSnapshot:t,send:n,getService:i})=>o=>(0,r.Cr)(void 0,null,(function*(){"string"==typeof o&&(o={svg:o});const s=i(Gi),a=yield function(e,{svg:t,canvas:n}){return x(e,(e=>(0,r.Cr)(this,[e],(function*({set:e,reset:i,getLoadable:o,getPromise:s}){var a;if(i(Be.behaviorStack),e(br.svgxString,t),!n)return;const c=o(br.size).getValue(),u=o(br.attrs).getValue(),l=o(br.children).getValue(),d=n.cropped?yield s(br.contentBBox):(0,fe.Lm)(u.viewBox)||{x:0,y:0,width:c.width,height:c.height},f=2*(null!=(a=n.padding)?a:0),h=Math.min((n.width-f)/d.width,(n.height-f)/d.height),p=(0,pe.Jp)((0,pe.xk)(.5*(n.width-h*d.width),.5*(n.height-h*d.height)),(0,pe.Jp)((0,pe.w9)(h,h),(0,pe.xk)(-d.x,-d.y)));e(br.attrs,(e=>(0,r.EZ)((0,r.ih)({},e),{viewBox:"0 0 "+n.width+" "+n.height,width:n.width.toString(),height:n.height.toString()})));for(const t of l)e(Sr.transform(t),(e=>e?(0,pe.Jp)(p,e):p))}))))}(e,o),c=yield s.getTrackedState(a);t(a),i(r.zW).fire("cleanup",void 0),s.init(c),n(mr)})))),Ji=(0,r.WD)((({set:e})=>(t,n)=>{for(const r of(0,ve.rY)(t))e(Sr.attrs(r),n)})),Bi=(0,r.WD)((({set:e,snapshot:t})=>n=>(0,r.Cr)(void 0,null,(function*(){if(1!==(n=(0,ve.rY)(n)).length)return n;const i=n[0],o=yield t.getPromise(Sr.parentId(i));if(!o)return n;const s=[],a=[];return e(Sr.tree(o),(e=>{const t=[],i=e.children;for(const e of i)if(n.indexOf(e.id)<0)t.push(e);else{const n=(0,fe.U_)(e,s);t.push(...n),a.push(...n.map((e=>e.id)))}return(0,r.EZ)((0,r.ih)({},e),{children:t})})),s.length>0&&e(br.defsTree,(e=>[...e,...s])),a})))),Ki=class{constructor(){this.element=null}setRef(e){this.element=e}renderToString(){if(!this.element)throw new Error("Missing canvas reference");const e=this.element.cloneNode(!0);return(0,Q.PZ)(e,(e=>{e instanceof SVGElement&&e.getAttribute(Er)&&e.removeAttribute(Er)})),e.style.overflow=null,(0,Q.SH)(e)}};Ki=(0,r.u2)([s.Xn],Ki);var Yi=(0,r.jp)(Ki);function Vi(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}new RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Object.prototype.hasOwnProperty;var Wi={},Hi={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach((e=>{Wi[e]=new Vi(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((([e,t])=>{Wi[e]=new Vi(e,1,!1,t,null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((e=>{Wi[e]=new Vi(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((e=>{Wi[e]=new Vi(e,2,!1,e,null,!1,!1)})),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach((e=>{Wi[e]=new Vi(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((e=>{Wi[e]=new Vi(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((e=>{Wi[e]=new Vi(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((e=>{Wi[e]=new Vi(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((e=>{Wi[e]=new Vi(e,5,!1,e.toLowerCase(),null,!1,!1)}));var Xi=/[\-\:]([a-z])/g,qi=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach((e=>{const t=e.replace(Xi,qi);Wi[t]=new Vi(t,1,!1,e,null,!1,!1)})),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach((e=>{const t=e.replace(Xi,qi);Wi[t]=new Vi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((e=>{const t=e.replace(Xi,qi);Wi[t]=new Vi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((e=>{Wi[e]=new Vi(e,1,!1,e.toLowerCase(),null,!1,!1)})),Wi.xlinkHref=new Vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((e=>{Wi[e]=new Vi(e,1,!1,e.toLowerCase(),null,!0,!0)}));for(const e in Wi){const t=Wi[e];Hi[t.attributeName]=t}var Qi="$$target$$",$i=(e=>(e[e.SELECT=0]="SELECT",e[e.TRANSLATE=1]="TRANSLATE",e[e.ROTATE=2]="ROTATE",e[e.SCALE=3]="SCALE",e))($i||{}),{atom:eo,selector:to,selectorFamily:no}=w("selection"),ro=eo({key:"_targetState",default:a.LZ}),io=to({key:"current",get:({get:e})=>e(ro).filter((t=>(0,fe.L6)(e(Sr.type(t)))&fe.We.SOLID&&!e(Sr.locked(t)))),set:({get:e,set:t,reset:n},r)=>{t(ro,r),!(r instanceof c.nY)&&r.length>1&&e(ro).join(".")!==r.join(".")&&(n(Sr.transform(Qi)),n(Sr.bbox(Qi)))}}),oo=to({key:"mainId",get:({get:e})=>{const t=e(io);return 1===t.length?t[0]:Qi}}),so=to({key:"bbox",get:({get:e})=>e(Sr.bbox(e(oo))),set:({set:e},t)=>e(Sr.bbox(Qi),t)}),ao=to({key:"objects",get:({get:e})=>e(io).map((t=>e(Sr.objectState(t)))),set:({set:e,get:t},n)=>{if(n instanceof c.nY){for(const r of t(io))e(Sr.objectState(r),n);e(io,n)}else e(io,n.map((t=>(e(Sr.objectState(t.id),t),t.id))))}}),co=to({key:"tree",get:({get:e})=>e(io).map((t=>e(Sr.tree(t)))),set:({reset:e,set:t,get:n},r)=>{if(r instanceof c.nY){const i=n(io);for(const n of i)e(Sr.tree(n)),t(io,r)}else t(io,r.map((e=>(t(Sr.tree(e.id),e),e.id))))}}),uo=to({key:"type",get:({get:e})=>{const t=e(io);if(0===t.length)return"svg";const n=e(Sr.type(t[0]));for(let r=1,i=t.length;r<i;r++)if(n!==e(Sr.type(t[r])))return null;return n}}),lo=to({key:"attrs",get:({get:e})=>e(io).map((t=>e(Sr.attrs(t)))),set:({set:e,get:t},n)=>{const r=t(io);if(n instanceof c.nY)for(const t of r)e(Sr.attrs(t),n);else for(let t=0,i=r.length;t<i;t++)e(Sr.attrs(r[t]),n[t])}}),fo=no({key:"attribute",get:e=>({get:t})=>t(io).map((n=>t(Sr.attribute([n,e])))),set:e=>({set:t,get:n},r)=>{const i=n(io);if(r instanceof c.nY)for(const n of i)t(Sr.attribute([n,e]),r);else for(let n=0,o=i.length;n<o;n++)t(Sr.attribute([i[n],e]),r[n])}}),ho=no({key:"computedAttribute",get:e=>({get:t})=>{const[n,...r]=t(io),i=t(Sr.attribute([n,e]));let o=!1;for(const n of r)t(Sr.attribute([n,e]))!==i&&(o=!0);return o?null:i},set:e=>({set:t,get:n},r)=>{for(const i of n(io))t(Sr.attribute([i,e]),r)}}),po=to({key:"computedAttrs",get:({get:e})=>{const t=e(io).slice();return 0===t.length?{}:t.reduce(((t,n)=>{const r=e(Sr.attrs(n));for(const e in r)e in t?t[e]!==r[e]&&(t[e]=null):t[e]=r[e];return t}),(0,he.f)({},e(Sr.attrs(t.shift()))))},set:({set:e,get:t},n)=>{if(!(n instanceof c.nY))for(const r of t(io))e(Sr.attrs(r),(e=>{const t=(0,he.f)({},e);for(const e in n)null!=n[e]&&(t[e]=n[e]);return t}))}}),vo=to({key:"children",get:({get:e})=>{const t=e(io);return 0===t.length?e(br.children):t.reduce(((t,n)=>[...t,...e(Sr.children(n))]),[])}}),go=to({key:"nestedLevel",get:({get:e})=>br.objectNestedLevel(e(oo))}),mo=to({key:"nested",get:({get:e})=>{const t=e(io);return t.length>0&&e(Sr.parentId(t[0]))!==e(br.documentId)}}),yo=to({key:"siblings",get:({get:e})=>e(io).reduce(((t,n)=>[...t,...e(br.objectSiblings(n))]),[])}),xo=to({key:"parentId",get:({get:e})=>{const t=e(io);return t.length>0?e(Sr.parentId(t[0])):void 0}}),bo=function({key:e,states:t}){return(0,c.nZ)({key:e,get:({get:e})=>{const n={};for(const r of t)n[r.key]=e(r);return n},set:({set:e},n)=>{for(const r of t)e(r,n[r.key])}})}({key:"persistedSelectionState",states:[ro,Sr.bbox(Qi),Sr.transform(Qi)]}),wo=to({key:"transformAction",get:({get:e})=>null===e(_o)?0:$i[e(Be.currentBehavior).toUpperCase()]||0,set:({get:e,set:t,reset:n},r)=>{r instanceof c.nY||0===r?(n(_o),n(ot.anchors),t(Be.behaviorStack,(e=>e.filter((e=>["rotate","translate","scale"].indexOf(e)<0))))):(t(Be.currentBehavior,($i[r]||$i[0]).toLowerCase()),t(_o,e(jo)),t(Co,e(io).map((t=>e(Sr.transform(t))||pe.y3.DEFAULT))))}}),Co=eo({key:"_objectsInitialTransform",default:[]}),_o=eo({key:"initialTransform",default:void 0}),ko=to({key:"transformDelta",get:({get:e})=>{const t=e(_o),n=e(So);if(null!=t)return(0,pe.Jp)((0,pe.SO)(t),n)},set:({get:e,set:t,reset:n},r)=>{const i=e(io);if(!r||r instanceof c.nY)n(_o),n(Co),i.length>1&&n(Sr.transform(Qi));else{const n=e(Co);i.length>1&&t(Sr.transform(Qi),(0,pe.Jp)(r,e(_o)||pe.y3.DEFAULT));for(let o=0,s=i.length;o<s;o++){const s=i[o],a=n[o],c=e(Sr.parentId(s)),u=c?e(Sr.absoluteTransform(c)):pe.y3.DEFAULT,l=(0,pe.SO)(u),d=(0,pe.Jp)(u,a),f=(0,pe.Jp)(l,r);t(Sr.transform(s),(0,pe.Jp)(f,d))}}}}),Eo=to({key:"relativeTransform",get:()=>pe.y3.DEFAULT,set:({set:e,get:t},n)=>{if(n instanceof c.nY)return;const r=t(io),i=e=>e?(0,pe.Jp)(n,e):n;r.length>1&&e(Sr.transform(Qi),i);for(const t of r)e(Sr.transform(t),i)}}),So=to({key:"transform",get:({get:e})=>{var t;return null!=(t=e(Sr.transform(e(oo))))?t:pe.y3.DEFAULT},set:({set:e,get:t,reset:n},r)=>{r instanceof c.nY?n(fo("transform")):e(fo("transform"),(e=>e.map((e=>(0,pe.Jc)((0,pe.Jp)(r,null!=e?(0,pe.y3)(e):pe.y3.DEFAULT)))))),e(Sr.transform(t(oo)),r)}}),jo=to({key:"absoluteTransform",get:({get:e})=>e(Sr.absoluteTransform(e(oo)))}),No=to({key:"absoluteBBox",get:({get:e})=>(0,de.Ut)(e(so),e(jo))}),Lo=(0,c.Kz)(a.LZ),Ao={};(0,r.r2)(Ao,{absoluteOrigin:()=>Po,absolutePoints:()=>Mo,origin:()=>Ro,points:()=>Do,topPoints:()=>Io});var{selector:Oo}=w("transformBox"),To=[$.xE,$.xE,$.xE,$.xE],Do=Oo({key:"points",get:({get:e})=>{return t=e(so),[(0,$.E9)(t.x,t.y),(0,$.E9)(t.cx,t.y),(0,$.E9)(t.x2,t.y),(0,$.E9)(t.x2,t.cy),(0,$.E9)(t.x2,t.y2),(0,$.E9)(t.cx,t.y2),(0,$.E9)(t.x,t.y2),(0,$.E9)(t.x,t.cy)];var t}}),Mo=Oo({key:"absolutePoints",get:({get:e})=>{const t=e(jo);return e(Do).map((e=>(0,$.DC)(e,t)))}}),Ro=Oo({key:"origin",get:({get:e})=>{const t=e(so);return{x:t.cx,y:t.cy}}}),Po=Oo({key:"absoluteOrigin",get:({get:e})=>{const t=e(jo),n=e(Ro);return(0,$.DC)((0,$.E9)(n.x,n.y),t)}}),Io=Oo({key:"topPoints",get:({get:e})=>{const t=e(io);if(0===t.length)return To;const n=t.length>0?e(br.topObject(t[0])):e(br.documentId),r=e(Sr.bbox(n)),i=e(Sr.transform(n));return i?(0,de.Eu)(r).map((e=>(0,$.DC)(e,i))):(0,de.Eu)(r)}}),Fo=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.OBJECT_RECT=1]="OBJECT_RECT",e[e.OBJECT_MID=2]="OBJECT_MID",e[e.CANVAS_RECT=4]="CANVAS_RECT",e[e.CANVAS_MID=8]="CANVAS_MID",e[e.CANVAS=12]="CANVAS",e[e.OBJECT=3]="OBJECT",e))(Fo||{}),{atom:Go,selector:zo}=w("guides"),{CANVAS_RECT:Uo,CANVAS_MID:Zo,OBJECT_MID:Jo,OBJECT_RECT:Bo}=Fo,Ko=Object.freeze({xAxis:a.LZ,yAxis:a.LZ}),Yo=Go({key:"enabled",default:!0}),Vo=zo({key:"state",get:({get:e})=>{const t=e(Yo),n=e(wn.current),r=e(br.size);if(!t||n.length<1)return Ko;const i=[Wo(0,Uo),Wo(r.width,Uo),Wo(.5*r.width,Zo)],o=[Wo(0,Uo),Wo(r.height,Uo),Wo(.5*r.height,Zo)],s=Ho(i),a=Ho(o),c=n.map((t=>e(br.topObject(t))));for(const t of e(br.children))if(c.indexOf(t)<0){const n=e(Sr.transform(t)),r=n?(0,de.Ut)(e(Sr.bbox(t)),n):e(Sr.bbox(t));r!==de.Kn&&(s(r.x,Bo),s(r.x2,Bo),s(r.cx,Jo),a(r.y,Bo),a(r.y2,Bo),a(r.cy,Jo))}return{xAxis:i,yAxis:o}}});function Wo(e,t){return{value:e,level:t}}function Ho(e){const t=e.reduce(((e,{value:t},n)=>(e[t.toFixed(2)]=n,e)),{});return(n,r)=>{const i=n.toFixed(2);if(null==t[i])t[i]=e.push(Wo(n,r))-1;else{const o=t[i];r>e[o].level&&(e[o]=Wo(n,r))}}}var Xo={};(0,r.r2)(Xo,{snappingContext:()=>Qo});var{atom:qo}=w("grid"),Qo=qo({key:"snappingContext",default:null}),$o=e=>!e,es=(0,r.WD)((({set:e})=>()=>{e(on.enabled,$o)})),ts=e=>!e,ns=(0,r.WD)((({set:e})=>()=>{e(ln.enabled,ts)})),rs={};(0,r.r2)(rs,{clear:()=>As,editPath:()=>js,editSelectedPath:()=>Ns});var is,os=Object.keys(ye.XF.defaultProps).map((e=>[e,(0,xe.nT)(e),typeof ye.XF.defaultProps[e]]));function ss(e,t){if(null!=e)return"number"===t?parseFloat(e):e}(e=>{const{selectorFamily:t}=w("textpathNode");e.props=t({key:"props",get:e=>({get:t})=>{const n={};for(const[r,i,o]of os)n[r]=ss(t(Sr.attribute([e,i])),o);if(!n.text){const r=t(Sr.children(e));if(r.length>0)for(const e of r)(0,fe.Gs)(t(Sr.type(e)))&&(n.text=""+t(Sr.contentText(e)))}return ye.XF.getProps(n)}}),e.pathData=t({key:"pathData",get:t=>n=>(0,r.Cr)(void 0,[n],(function*({get:n}){return yield ye.XF.render(n(e.props(t)))}))}),e.textWidth=t({key:"textWidth",get:e=>t=>(0,r.Cr)(void 0,[t],(function*({get:t}){var n,r,i,o;const s=t(Sr.attribute([e,"font-family"])),a=null!=(n=t(Sr.attribute([e,"font-weight"])))?n:"400",c=null!=(r=t(Sr.attribute([e,"font-style"])))?r:"normal",u=parseFloat(null!=(i=t(Sr.attribute([e,"font-size"])))?i:"16"),l=null!=(o=t(Sr.attribute([e,"text"])))?o:"",d=yield ye.jC.getFontByFamily(s,c,a);return d?d.getAdvanceWidth(l,u):0}))})})(is||(is={}));var as={};(0,r.r2)(as,{isRedoDisabled:()=>hs,isResetDisabled:()=>ps,isUndoDisabled:()=>fs,nextVersion:()=>vs,stateHistory:()=>ds,version:()=>ls});var{atom:cs,selector:us}=w("history"),ls=cs({key:"version",default:{current:0,latest:0}}),ds=cs({key:"stateHistoryState",default:{index:-1,length:0}}),fs=us({key:"disableUndoState",get:({get:e})=>{const{index:t}=e(ds);return t<1}}),hs=us({key:"disableRedoState",get:({get:e})=>{const{index:t,length:n}=e(ds);return t>n-2}}),ps=us({key:"disableResetState",get:({get:e})=>{const{length:t}=e(ds);return 1===t}}),vs=e=>{const t=e.latest+1;return{current:t,latest:t}},gs={};(0,r.r2)(gs,{_activeHandleProps:()=>_s,activeHandleProps:()=>ks,displayAllCommands:()=>Ss,editedAttribute:()=>xs,editedPathContext:()=>bs,focusedHandle:()=>Es,pathCommands:()=>ws,pathData:()=>Cs});var{atom:ms,selector:ys}=w("pathEditor"),xs=ms({key:"editedAttribute",default:null}),bs=ys({key:"editedPathContext",get:({get:e})=>{const t=e(wn.current)[0],n=e(xs);return t&&n?{targetId:t,attributeName:n}:null},set:({set:e,get:t},n)=>{if(!n||n instanceof c.nY)e(xs,n);else{const r=t(wn.current),i=t(Sr.attribute([n.targetId,n.attributeName]));r[0]!==n.targetId&&e(wn.current,[n.targetId]),i&&(e(xs,n.attributeName),e(Cs,i))}}}),ws=ms({key:"pathCommands",default:a.LZ}),Cs=ys({key:"pathData",get:({get:e})=>e(ws).map(Ee).join(""),set:({set:e},t)=>{t instanceof c.nY?e(ws,t):e(ws,function(e,t){let n,r={x:0,y:0};const i={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};for(let t=0,o=e.length;t<o;t++){const o=e[t];"M"!==o.code&&"m"!==o.code||(n=o),o.x0=r.x,o.y0=r.y;for(const e in i)e in o&&(o[e]+=o.relative?o[i[e]]:0);"x"in o||(o.x=r.x),"y"in o||(o.y=r.y),o.relative=!1,o.code=o.code.toUpperCase(),"Z"!==o.code||(o.x=n.x,o.y=n.y),r=o}return e}(function(e){let t;const n=/[MLQTCSAZVH][^MLQTCSAZVH]*/gi,r=[];for(;t=n.exec(e);){const e=[],n=t[0],i=n[0];if("A"===i||"a"===i){const t=new we(n);e.push(t.number(),t.number(),t.number(),t.bool(),t.bool(),t.number(),t.number())}else{const t=/-?[0-9eE\.]+/g;let r;for(;r=t.exec(n);)e.push(+r[0])}be[i].call(r,e)}return r}(t)))}}),_s=ms({key:"_activeHandleProps",default:null}),ks=ys({key:"activeHandleProps",get:({get:e})=>e(_s),set:({set:e,reset:t},n)=>{!n||n instanceof c.nY?t(_s):(e(_s,n),e(Es,{commandIndex:n.index,commandKey:n.propX}))}}),Es=ms({key:"focusedHandle",default:null}),Ss=ms({key:"displayAllCommands",default:!1}),js=(0,r.WD)((({snapshot:e,set:t})=>(n,i)=>(0,r.Cr)(void 0,null,(function*(){if(!n)return;const r=Sr.attribute([n,i]);if(!e.getLoadable(r).getValue()){const[i,o]=yield e.getPromise((0,c.k9)([is.props(n),is.textWidth(n)])),s=o+i.letterSpacing*(i.text.length-1),a=s*-i.offset;t(r,["M"+a,"0C"+(a+.25*s),0,a+.75*s,0,a+s,0].join(" "))}t(Be.currentBehavior,"pathEditor"),t(gs.editedPathContext,{targetId:n,attributeName:i}),t(as.version,as.nextVersion)})))),Ns=(0,r.WD)((({send:e,snapshot:t})=>()=>{const n=t.getLoadable(wn.current).getValue();if(1!==n.length)return;const r=t.getLoadable(wn.type).getValue(),i=r&&Ls[r];return i?e(js,n[0],i):void 0})),Ls={path:"d",[kr]:"path"},As=(0,r.WD)((({reset:e})=>()=>{e(Be.currentBehavior)})),Os={};(0,r.r2)(Os,{align:()=>Ts,alignBottom:()=>Is,alignCenterX:()=>Ds,alignCenterY:()=>Fs,alignLeft:()=>Ms,alignRight:()=>Rs,alignTop:()=>Ps,clear:()=>Gs,copy:()=>zs,cut:()=>Zs,duplicate:()=>Js,flipHorizontally:()=>ma,flipVertically:()=>ya,group:()=>Bs,moveBackwards:()=>ea,moveDown:()=>Hs,moveForward:()=>$s,moveLeft:()=>Ys,moveRight:()=>Vs,moveToBack:()=>ta,moveToFront:()=>Qs,moveUp:()=>Ws,paste:()=>ra,remove:()=>Us,resetTransform:()=>fa,rotate90Anticlockwise:()=>ga,rotate90Clockwise:()=>va,select:()=>sa,selectAll:()=>da,ungroup:()=>xa});var Ts=(0,r.WD)({key:"align",callback:({snapshot:e,set:t})=>n=>(0,r.Cr)(void 0,[n],(function*({x:n,y:i}){const o=e.getLoadable(wn.current).getValue(),s=yield e.getPromise(wn.absoluteBBox);yield Promise.all(o.map((o=>(0,r.Cr)(void 0,null,(function*(){const r=yield e.getPromise(Sr.transformedBBox(o));t(Sr.transform(o),((e=pe.y3.DEFAULT)=>(0,pe.Jp)(ge(r,s,n,i),e)))}))))),t(as.version,as.nextVersion)}))}),Ds=(0,r.WD)(Ts,[{x:.5}]),Ms=(0,r.WD)(Ts,[{x:0}]),Rs=(0,r.WD)(Ts,[{x:1}]),Ps=(0,r.WD)(Ts,[{y:0}]),Is=(0,r.WD)(Ts,[{y:1}]),Fs=(0,r.WD)(Ts,[{y:.5}]),Gs=(0,r.WD)((({reset:e})=>()=>e(wn.current))),zs=(0,r.WD)((({snapshot:e,set:t})=>()=>(0,r.Cr)(void 0,null,(function*(){const[n,r]=yield e.getPromise((0,c.k9)([wn.tree,wn.absoluteBBox]));t(dn.copiedObject,{objects:n,bbox:r})})))),Us=(0,r.WD)((({snapshot:e,set:t,reset:n,send:i})=>()=>(0,r.Cr)(void 0,null,(function*(){const r=e.getLoadable(wn.current).getValue();i(Pi,r),n(wn.current),t(as.version,as.nextVersion)})))),Zs=(0,r.WD)((({send:e})=>()=>{e(zs),e(Us)})),Js=(0,r.WD)((({snapshot:e,set:t})=>()=>(0,r.Cr)(void 0,null,(function*(){const n=yield e.getPromise(Sn.unitScale),i=yield e.getPromise(br.children),o=(yield e.getPromise(wn.tree)).map((e=>{const t=(0,fe.Ho)(e),i=(0,pe.xk)(10*n,10*n),o=t.attrs.transform?(0,pe.Jp)(i,(0,pe.y3)(t.attrs.transform)):i;return t.attrs=(0,r.EZ)((0,r.ih)({},t.attrs),{transform:(0,pe.Jc)(o)}),t})).map((e=>(t(Sr.tree(e.id),e),e.id)));t(br.children,[...i,...o]),t(wn.current,o),t(as.version,as.nextVersion)})))),Bs=(0,r.WD)((({send:e,set:t,snapshot:n})=>()=>(0,r.Cr)(void 0,null,(function*(){const r=n.getLoadable(wn.current).getValue(),i=yield e(Ri,r);r!==i&&(t(wn.current,i),t(as.version,as.nextVersion))})))),Ks=(0,r.WD)((({set:e})=>(t,n)=>{e(wn.relativeTransform,(0,pe.xk)(t,n)),e(as.version,as.nextVersion)})),Ys=(0,r.WD)(Ks,[-1,0]),Vs=(0,r.WD)(Ks,[1,0]),Ws=(0,r.WD)(Ks,[0,-1]),Hs=(0,r.WD)(Ks,[0,1]),Xs=(0,r.WD)((e=>t=>{const n=y(e.snapshot),r=n(wn.current);if(0===r.length)return;let i=!1;na(e,r,((r,o)=>{const s=n(Sr.children(o)),a=[],c=[],u=[];for(const e of s){const t=n(Sr.type(e));(0,fe.Zq)(t)?r.indexOf(e)<0?c.push(e):a.push(e):u.push(e)}let l;l=t<0?[...u,...a,...c]:[...u,...c,...a],(0,ve.Mp)(s,l)&&(e.set(Sr.children(o),l),i=!0)})),i&&e.set(as.version,as.nextVersion)})),qs=(0,r.WD)((e=>t=>{const n=y(e.snapshot),r=n(wn.current);let i=!1;na(e,r,((r,o)=>{const s=n(Sr.children(o)).slice(),a=s.length;t<0&&s.reverse();for(let e=a-1;e>-1;e--){const t=s[e];if((0,fe.Zq)(n(Sr.type(t)))&&r.indexOf(t)>-1){const o=e+1,c=s[o];o<a&&(0,fe.Zq)(n(Sr.type(t)))&&r.indexOf(c)<0&&((0,ve.LF)(s,e,o),i=!0)}}e.set(Sr.children(o),t<0?s.reverse():s)})),i&&e.set(as.version,as.nextVersion)})),Qs=(0,r.WD)(Xs,[1]),$s=(0,r.WD)(qs,[1]),ea=(0,r.WD)(qs,[-1]),ta=(0,r.WD)(Xs,[-1]);function na({snapshot:e},t,n){var r;const i=y(e),o={};for(const e of t){const t=i(Sr.parentId(e));null!=t&&(null!=(r=o[t])?r:o[t]=[]).push(e)}for(const e in o)n(o[e],e)}var ra=(0,r.WD)((({send:e,set:t,snapshot:n})=>()=>(0,r.Cr)(void 0,null,(function*(){const i=n.getLoadable(Sn.unitScale).valueOrThrow(),o=n.getLoadable(dn.copiedObject).valueOrThrow();if(null==o)return;const{objects:s}=o,a=(0,pe.xk)(10*i,10*i),c=s.map((e=>{const t=(0,fe.Ho)(e),n=t.attrs.transform?(0,pe.Jp)(a,(0,pe.y3)(t.attrs.transform)):a;return t.attrs=(0,r.EZ)((0,r.ih)({},t.attrs),{transform:(0,pe.Jc)(n)}),t})).map((e=>(t(Sr.tree(e.id),e),e.id)));t(br.children,(e=>[...e,...c])),t(wn.current,c),yield e(zs),t(as.version,as.nextVersion)}))));function ia(e,{point:t,containerId:n}){const{getLoadable:r}=e;return r(n?Sr.children(n):br.children).getValue().filter((n=>oa(e,t,n))).reverse()}function oa({getLoadable:e},t,n){const r=e(Sr.absoluteTransform(n)).valueOrThrow();return function(e,t){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height}((0,$.DC)((0,$.E9)(t.x,t.y),(0,pe.SO)(r)),e(Sr.bbox(n)).getValue())}var sa=(0,r.WD)((({send:e})=>t=>(0,r.Cr)(void 0,[t],(function*({point:t,endPoint:n,method:r,containerId:i,hitStackShift:o,fallbackIfEmpty:s}){var a,c;const u={x:t.x,y:t.y,width:(null!=(a=null==n?void 0:n.x)?a:t.x)-t.x,height:(null!=(c=null==n?void 0:n.y)?c:t.y)-t.y};!function(e){return!e.width&&!e.height}(u)?yield e(aa,{rect:u,method:r,containerId:i,fallbackIfEmpty:s}):yield e(ua,{point:u,method:r,containerId:i,fallbackIfEmpty:s,hitStackShift:o})})))),aa=(0,r.WD)((({set:e,snapshot:t})=>n=>(0,r.Cr)(void 0,[n],(function*({rect:n,method:r="set",containerId:i,fallbackIfEmpty:o}){const s=i?Sr.children(i):br.children,a=t.getLoadable(wn.current).getValue(),c=t.getLoadable(s).getValue(),u=t.getLoadable(br.children).getValue(),[l,d]=yield Promise.all([ca(t,c),ca(t,u)]),f=(e,t)=>{const i=[];for(let o=0,s=e.length;o<s;o++){const s=e[o],c=t[o];la(r,s,c,n,a)&&i.push(s)}return i},h=f(c,l);o&&i&&0===h.length?e(wn.current,f(u,d)):e(wn.current,h)}))));function ca(e,t){return e.getPromise((0,c.k9)(t.map((e=>Sr.absoluteBBox(e)))))}var ua=(0,r.WD)((({snapshot:e,set:t})=>n=>(0,r.Cr)(void 0,[n],(function*({point:n,method:r="set",containerId:i,fallbackIfEmpty:o,hitStackShift:s=0}){const c=e.getLoadable(wn.current).getValue();let u=a.LZ;if(o&&i)for(;i&&0===u.length;)u=ia(e,{point:n,containerId:i}),i=e.getLoadable(Sr.parentId(i)).getValue();else u=ia(e,{point:n,containerId:i});const l=u.length;if(s=l>0?s%l:0,"set"===r)t(wn.current,[u[s]]);else{const e=[...c];for(const t of u){if(c.indexOf(t)<0){e.push(t);break}{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}t(wn.current,e)}}))));function la(e,t,n,r,i){return!(!n.width||!n.height)&&("set"===e?je(r,n):"add"===e?je(r,n)||i.indexOf(t)>-1:"remove"===e?!je(r,n)&&i.indexOf(t)>-1:void 0)}var da=(0,r.WD)((({snapshot:e,set:t})=>()=>(0,r.Cr)(void 0,null,(function*(){t(wn.current,yield e.getPromise(br.solidGraphics))})))),fa=(0,r.WD)((({reset:e,set:t})=>()=>(0,r.Cr)(void 0,null,(function*(){e(wn.transform),t(as.version,as.nextVersion)})))),ha=(0,r.WD)((({snapshot:e,set:t})=>n=>(0,r.Cr)(void 0,null,(function*(){if(0===(yield e.getPromise(wn.current)).length)return;const r=yield e.getPromise(Ao.absoluteOrigin),i=(0,pe.Wn)(n,r.x,r.y);t(wn.relativeTransform,i),t(as.version,as.nextVersion)})))),pa=(0,r.WD)((({snapshot:e,set:t})=>(n,i)=>(0,r.Cr)(void 0,null,(function*(){if(0===(yield e.getPromise(wn.current)).length)return;const r=yield e.getPromise(Ao.absoluteOrigin),o=(0,pe.w9)(n,i,r.x,r.y);t(wn.relativeTransform,o),t(as.version,as.nextVersion)})))),va=(0,r.WD)(ha,[90]),ga=(0,r.WD)(ha,[-90]),ma=(0,r.WD)(pa,[-1,1]),ya=(0,r.WD)(pa,[1,-1]),xa=(0,r.WD)((({send:e,set:t,snapshot:n})=>()=>(0,r.Cr)(void 0,null,(function*(){const r=n.getLoadable(wn.current).getValue(),i=yield e(Bi,r);i!==r&&(t(wn.current,i),t(as.version,as.nextVersion))})))),ba={};function wa(e){if(e.indexOf("url(")<0)return;for(e=e.substr(4);'"'===e[0]||"'"===e[0]||"#"===e[0];)e=e.substr(1);let t=0,n=e.length;for(;t<n&&")"!==e[t]&&"'"!==e[t]&&'"'!==e[t];)t++;return e.substr(0,t)||void 0}(0,r.r2)(ba,{attributeColor:()=>Sa,getColorType:()=>Ma,gradient:()=>Na,nodesWithColor:()=>Da,palette:()=>La,paletteOf:()=>Aa,solidColorPalette:()=>Oa,solidColorPaletteOf:()=>Ta,targetAttributeColor:()=>ja});var Ca=(()=>{const e=/^#([0-9a-f]{3})$/i,t=/^#([0-9a-f]{6})$/i,n=/^rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([\d\.]+))?\s*\)$/i,r=i=>{let o;if(o=i.match(e),o)return[17*parseInt(o[1].charAt(0),16),17*parseInt(o[1].charAt(1),16),17*parseInt(o[1].charAt(2),16),1];if(o=i.match(t),o)return[parseInt(o[1].substr(0,2),16),parseInt(o[1].substr(2,2),16),parseInt(o[1].substr(4,2),16),1];if(o=i.match(n),o){const e=+o[4];return[+o[1],+o[2],+o[3],isNaN(e)?1:e]}return r(function(e){const t=document.createElement("span");t.style.color=e,document.body.appendChild(t);const n=window.getComputedStyle(t).color;return document.body.removeChild(t),n}(i))};return r})(),_a="xlink:href",{selector:ka,selectorFamily:Ea}=w("colors"),Sa=Ea({key:"attributeColor",get:e=>({get:t})=>{const n=t(Sr.attribute(e));if(!n)return;const r=Ma(n);if(r===Ne.Mr.GRADIENT){const e=wa(n);return e?{type:r,value:t(Na(e))}:void 0}return r===Ne.Mr.NULL?Ne.J6:function(e){return{type:Ne.Mr.SOLID,value:Ia(e)}}(n)},set:e=>(t,n)=>{Ra(t,n,Sr.attribute(e))}}),ja=Ea({key:"targetAttributeColor",get:e=>({get:t})=>{const n=t(wn.current);return t(wn.computedAttribute(e))?t(Sa([n[0],e])):void 0},set:e=>(t,n)=>{Ra(t,n,wn.computedAttribute(e))}}),Na=Ea({key:"gradient",get:e=>({get:t})=>{var n;const r=(e,n)=>{const i=(e=>{const n=t(Sr.refId(e)),r=t(Sr.tree(n));return"linearGradient"!==r.type&&"radialGradient"!==r.type?null:r})(e);if(!i)return n;n.id||(n.id=i.id,n.type=i.type),n.attrs=function(e,t){for(const n in t)n in e||(e[n]=t[n]);return e}(n.attrs,i.attrs);const o=i.attrs[_a];return o&&"#"===o[0]?r(o.substr(1),n):(n.children=i.children,n)},{type:i,attrs:o,children:s}=r(e,{type:"linearGradient",attrs:{},children:a.LZ}),c=o.gradientUnits||Ne.Cp,u=function(e,t){return"userSpaceOnUse"===e?{x:t.width,y:t.height}:{x:1,y:1}}(c,t(br.size)),l=Pa(o.x1,u.x),d=Pa(o.y1,u.y),f=Pa(o.x2,u.x),h=Pa(o.y2,u.y),p=s.map(Fa);return p.length<2&&(p[0]=null!=(n=p[0])?n:(0,Ne.de)("hex","#000000",0),p[1]=(0,Ne.de)("hex","#FFFFFF",100)),(0,Ne.FK)({id:e,type:i.replace("Gradient",""),points:p,units:c,x1:l,y1:d,x2:f,y2:h})},set:e=>({set:t,get:n},i)=>{if(i instanceof c.nY)return;const o=i.type+"Gradient",s=n(Sr.refId(e)),a=(0,r.EZ)((0,r.ih)({},s?n(Sr.tree(s)):(0,fe.Wm)({type:o})),{type:o});t(br.definition(a.id),function(e,t){const n=t.attrs,r=t.children,i={};for(const e in n)"xmlns:xlink"!==e&&e!==_a&&(i[e]=n[e]);return i.x1=e.x1+"%",i.y1=e.y1+"%",i.x2=e.x2+"%",i.y2=e.y2+"%",i.id=e.id,i.gradientUnits=e.units,{id:t.id,type:t.type,attrs:i,children:e.points.map(i.id===n.id?(e,t)=>za(e,r[t]):e=>za(e))}}(i,a))}}),La=ka({key:"palette",get:({get:e})=>Aa(e(br.documentId))}),Aa=Ea({key:"paletteOf",get:e=>({get:t})=>{const n=new Map,r=t(Sr.tree(e)),i=e=>{for(const r of Ua)if(e.attrs[r]){const i=t(Sa([e.id,r]));i&&i.type!==Ne.Mr.NULL&&n.set((0,Ne.Jn)(i),i)}for(const t of e.children)i(t)};i(r);const o=Array.from(n.values());return n.clear(),o}}),Oa=ka({key:"solidColorPalette",get:({get:e})=>Ta([e(br.documentId)])}),Ta=Ea({key:"solidColorPaletteOf",get:e=>({get:t})=>{const n=new Map,i=e=>{for(const i of Ua)if(e.attrs[i]){const o=t(Sa([e.id,i]));if(o&&o.type!==Ne.Mr.NULL)if(o.type===Ne.Mr.GRADIENT)for(const e of o.value.points){const t=e,{left:i}=t,o=(0,r.S0)(t,["left"]),s={type:Ne.Mr.SOLID,value:o};n.set((0,Ne.Jn)(s),s)}else n.set((0,Ne.Jn)(o),o)}for(const t of e.children)i(t)};for(const n of e)i(t(Sr.tree(n)));const o=Array.from(n.values());return n.clear(),o}}),Da=Ea({key:"nodesWithColor",get:([e,t])=>({get:n})=>{const r=[],i=Ca(t).join(","),o=new Set,s=({id:e,children:t})=>{var a,c;o.add(e);for(const t of Za){const u=null==(a=n(Sr.attribute([e,t])))?void 0:a.trim();if(u)if(Ma(u)===Ne.Mr.GRADIENT){const e=wa(u),t=e&&n(Sr.refId(e));if(t&&!o.has(t)){const e=n(Sr.relationTree(t));s(e)}}else{const o="stop-color"===t&&n(Sr.attribute([e,"stop-opacity"]))||void 0,s=Ca(u);s[3]=void 0===o?s[3]:parseFloat(null!=(c=o.toString())?c:"1"),s.join(",")===i&&r.push([e,t])}}for(const e of t)o.has(e.id)||s(e)};for(const t of e)o.has(t)||s(n(Sr.relationTree(t)));return r}});function Ma(e){return 0===e.indexOf("url(")?Ne.Mr.GRADIENT:"none"===e?Ne.Mr.NULL:Ne.Mr.SOLID}function Ra({set:e,reset:t},n,r){if(!n||n instanceof c.nY)t(r);else if(n.type===Ne.Mr.SOLID)e(r,function(e){var t;const n=e.rgb;return 1===n.a?e.hex:"rgba("+[n.r,n.g,n.b,null!=(t=n.a)?t:1].join(Ga)+")"}(n.value));else if(n.type===Ne.Mr.GRADIENT){const t=n.value.id?n.value:(0,Ne.FK)(n.value);e(Na(t.id),t),e(r,"url(#"+t.id+")")}else e(r,n.value)}function Pa(e,t){if(null!=e)return"%"===e[e.length-1]?parseFloat(e):parseFloat(e)/t*100}function Ia(e,t){const n=Ca(e),r={r:n[0],g:n[1],b:n[2],a:null!=t?t:n[3]};return(0,Ne.p9)("rgb",r)}function Fa(e){var t;const n=e.attrs["stop-color"];if(!n)return Ne.Dp;const r=Ia(n,parseFloat(null!=(t=e.attrs["stop-opacity"])?t:"1")),i=e.attrs.offset||"0";return r.left=Math.min(Math.max((i.indexOf("%")<0?100*parseFloat(i):parseFloat(i))||0,0),100),r}var Ga=", ";function za({rgb:e,left:t},n){var i,o;const s=(0,fe.Wm)({id:null==n?void 0:n.id,type:"stop"});return s.attrs=(0,r.EZ)((0,r.ih)({},null==n?void 0:n.attrs),{offset:Math.round(t)+"%","stop-color":"rgb("+e.r+Ga+e.g+Ga+e.b+")","stop-opacity":null!=(o=null==(i=e.a)?void 0:i.toFixed(2))?o:"1",style:void 0}),s}var Ua=["fill","stroke"],Za=[...Ua,"stop-color"],Ja={};(0,r.r2)(Ja,{center:()=>Va,coords:()=>Ya,enabled:()=>Ka});var{selector:Ba}=w("gradientEditor"),Ka=Be.hasBehavior("gradientEditor"),Ya=Ba({key:"coords",get:({get:e})=>{if(!e(Ka))return null;const t=e(br.size),n=e(ja("fill"));if(!n||n.type!==Ne.Mr.GRADIENT)return null;const r=n.value;return[{x:.01*r.x1*t.width,y:.01*r.y1*t.height},{x:.01*r.x2*t.width,y:.01*r.y2*t.height}]},set:({set:e,get:t},n)=>{if(!n||n instanceof c.nY)return;const i=t(br.size),o=ja("fill"),s=t(o);if(!s||s.type!==Ne.Mr.GRADIENT)return;const a=s.value,u=(0,r.EZ)((0,r.ih)({},a),{x1:n[0].x/i.width*100,y1:n[0].y/i.height*100,x2:n[1].x/i.width*100,y2:n[1].y/i.height*100});e(o,(0,r.EZ)((0,r.ih)({},s),{value:u}))}}),Va=Ba({key:"center",get:({get:e})=>{const t=e(Ya);return t&&(0,$.SO)(t[0],t[1])},set:({get:e,set:t},n)=>{const r=e(Ya);if(!r||!n||n instanceof c.nY)return null;const[i,o]=r,s=(0,$.SO)(i,o),a=(0,$.h3)(n,s);t(Ya,[{x:i.x+a.x,y:i.y+a.y},{x:o.x+a.x,y:o.y+a.y}])}}),Wa={};function Ha(e){return(0,r.WD)((({getService:t})=>()=>e(t(Gi))))}(0,r.r2)(Wa,{commit:()=>$a,pushChange:()=>ec,redo:()=>qa,reset:()=>Qa,undo:()=>Xa});var Xa=Ha((e=>e.undo())),qa=Ha((e=>e.redo())),Qa=Ha((e=>e.reset())),$a=Ha((e=>e.commit())),ec=(0,r.WD)((({set:e})=>()=>{e(as.version,as.nextVersion)})),tc=(0,r.HW)(ec),nc=(0,r.HW)(Xa),rc=(0,r.HW)(qa),ic=((0,r.HW)(Qa),{});function oc(e){return t=>e((0,r.EZ)((0,r.ih)({},t),{commands:t.getService(r.Gh),components:t.getService(Re),events:t.getService(r.zW)}))}(0,r.r2)(ic,{activate:()=>ud});var sc=()=>{const e=(0,c.sJ)(Be.id),t=(0,c.sJ)(Sn.unitScale),n="#"+e+" .";return(0,i.tZ)("style",null,n+ac+"{stroke-width:"+t+"}",n+cc+"{stroke-width:"+2*t+"}",n+uc+"{stroke-dasharray:"+(10*t).toFixed(3)+" "+(5*t).toFixed(3)+"}")},ac="_sw1",cc="_sw2",uc="_sd",lc=uc+" "+ac,dc=uc+" "+cc,fc=({id:e,size:t,radius:n})=>(0,i.tZ)("pattern",{id:e,css:hc,x:0,y:0,width:t,height:t,patternUnits:"userSpaceOnUse"},(0,i.tZ)("rect",{x:0,y:0,width:t,height:t}),(0,i.tZ)("circle",{cx:0,cy:0,r:n}),(0,i.tZ)("circle",{cx:t,cy:0,r:n}),(0,i.tZ)("circle",{cx:t,cy:t,r:n}),(0,i.tZ)("circle",{cx:0,cy:t,r:n})),hc=(0,i.iv)({circle:{fill:"#d3dad8"},rect:{fill:"#fff"}}),pc=En.clientRectConstraint("rulerOffset"),vc=()=>{const e=(0,c.sJ)(Bn.enabled),t=(0,c.sJ)(Bn.state);return function(e){const t=(0,c.Zl)(pc),n=(0,c.rb)(pc);(0,o.useEffect)((()=>{if(0!==e)return t({top:e,left:e,width:-e,height:-e}),n}),[e,t,n])}(e?t.rulerHeight:0),e?(0,i.tZ)(gc,(0,r.ih)({},t)):null},gc=e=>{const t=(0,o.useRef)(null),n=(0,o.useRef)(null);return(0,o.useEffect)((()=>{n.current&&(t.current=new Wn({container:n.current}))}),[]),(0,o.useEffect)((()=>{t.current&&(t.current.setProps(e),t.current.render())}),[e]),(0,i.tZ)("div",{ref:n})},mc=(0,i.iv)({width:"100%",height:"100%",display:"block","> svg":{overflow:"visible"}}),yc=(0,i.iv)({stroke:"#d3dad8"}),xc=({children:e})=>{const t=(0,o.useRef)(null),n=(0,c.sJ)(En.clientRect),s=(0,c.sJ)(En.viewBox),a=(0,c.sJ)(En.style),u=(0,c._8)((({snapshot:e})=>()=>e.getLoadable(Sn.scale).getValue()),[]),l=0!==n.width,d=(0,r.ho)(),f=(0,r.aK)();return(0,o.useEffect)((()=>{l&&f(mr)}),[f,l]),(0,o.useEffect)((()=>{const e=e=>{if(e.preventDefault(),e.stopPropagation(),e.metaKey||e.ctrlKey||e.altKey){const t=-.01*Math.min(Math.max(e.deltaY,-10),10);f(fr,t*u())}else{const t=1/u();f(ar,{x:e.deltaX*t,y:e.deltaY*t})}},n=t.current;if(n)return n.addEventListener("wheel",e,{passive:!1}),()=>{n.removeEventListener("wheel",e)}}),[t,f,u]),(0,i.tZ)(React.Fragment,null,(0,i.tZ)(vc,null),(0,i.tZ)("svg",{ref:t,css:mc,width:n.width+"px",height:n.height+"px",style:a,viewBox:s.x+" "+s.y+" "+s.width+" "+s.height},(0,i.tZ)(sc,null),(0,i.tZ)(bc,null),(0,i.tZ)(o.Suspense,{fallback:(0,i.tZ)("text",{textAnchor:"middle",x:"50%",y:.5*n.height,fontSize:"20px"},d("loading")+"...")},e)))},bc=()=>{const{unitScale:e,width:t,height:n}=(0,c.sJ)(Sn.background),[r]=(0,o.useState)(fe.Ox);return(0,i.tZ)(React.Fragment,null,(0,i.tZ)("defs",null,(0,i.tZ)(fc,{id:r,size:32*e,radius:1.5*e})),(0,i.tZ)("rect",{css:yc,fill:"url(#"+r+")",strokeWidth:e,x:0,y:0,width:t,height:n}))},wc=()=>{const e=It(),t=(0,c._8)((({snapshot:e})=>t=>{const n=e.getLoadable(En.clientRect).getValue(),r=e.getLoadable(En.viewBox).getValue(),i=e.getLoadable(Sn.unitScale).getValue();return{x:(t.x-n.x)*i+r.x,y:(t.y-n.y)*i+r.y}}),[]);return Fe(kn,"viewport"),(0,o.useEffect)((()=>{e&&e.addLocalConstraint(t)}),[e,t]),(0,i.tZ)(React.Fragment,null,(0,i.tZ)(xc,null,(0,i.tZ)(Ut,{name:"background"}),(0,i.tZ)(Ut,{name:"viewport"}),(0,i.tZ)(Ut,{name:"foreground"})),(0,i.tZ)(Ec,null))},Cc=()=>{const e=(0,o.useRef)(null),t=Pt(!0);return Le(t.onStart,(0,c._8)((({snapshot:t})=>({isTertiary:n,cancel:r})=>{n?e.current=t.getLoadable(En.offset).getValue():r()}),[])),Le(t.onMove,(0,c._8)((({snapshot:t,set:n})=>({type:r})=>{var i;const o=t.getLoadable(Sn.unitScale).getValue(),[s,a]=t.getLoadable(ot.clientCursorRange).getValue(),c=null!=(i=e.current)?i:e.current=t.getLoadable(En.offset).getValue();n(En.offset,{x:c.x+(a.x-s.x)*o,y:c.y+(a.y-s.y)*o})}),[])),null},_c=(0,c.nZ)({key:"viewportScaleAndOffset",get:({get:e})=>({scale:e(Sn.scale),offset:e(En.offset)}),set:({set:e},t)=>{t instanceof c.nY||(e(Sn.scale,t.scale),e(En.offset,t.offset))}}),kc=()=>{const e=Pt(!0),t=(0,c.rb)(Be.hasBehavior("pinch")),n=(0,o.useRef)({initialScale:0,initialOffset:$.xE,initialMidPoint:$.xE,initialSnapshot:null,initialPoints:[]});return Le(e.onStart,(0,c._8)((({snapshot:e,set:t})=>({pointCount:r,points:[i,o],cancel:s})=>{2!==r?(s(),n.current.initialSnapshot=e):(n.current.initialScale=e.getLoadable(Sn.scale).getValue(),n.current.initialOffset=e.getLoadable(En.offset).getValue(),n.current.initialPoints=[i.client,o.client],n.current.initialMidPoint=(0,$.SO)(i.client,o.client),t(Be.currentBehavior,"pinch"))}),[])),Le(e.onMove,(0,c._8)((({snapshot:e,set:t,gotoSnapshot:r})=>({points:[{client:i},{client:o}]})=>{const s=n.current,[a,c]=s.initialPoints;if(null!==s.initialSnapshot){const t=e.map((({set:e})=>{e(Be.currentBehavior,"pinch")}));s.initialSnapshot=null,r(t)}else{const r=e.getLoadable(Sn.unitScale).getValue(),u=s.initialOffset,l=s.initialMidPoint,d=(0,$.SO)(i,o),f=(0,$.qw)(i,o)/(0,$.qw)(a,c);t(_c,{scale:n.current.initialScale*f,offset:{x:u.x+(l.x-d.x)*r,y:u.y+(l.y-d.y)*r}})}}),[])),Le(e.onEnd,(0,o.useCallback)((()=>{n.current.initialScale=0,n.current.initialSnapshot=null,t()}),[t])),null},Ec=()=>(0,c.sJ)(ot.touch)?(0,i.tZ)(kc,null):(0,i.tZ)(Cc,null),Sc=oc((({components:e})=>{e.section("container").add(wc)})),jc=({id:e})=>{const t=(0,c.sJ)(br.size),n=(0,c.sJ)(Sr.attribute([e,"fill"]));return n&&"none"!==n?(0,o.createElement)("rect",{[Er]:e,"data-fl-background":"",x:0,y:0,width:t.width,height:t.height,fill:n}):null},Nc=/\s*\:+\s*/g,Lc=/(?:\s*\;\s*)+/g;function Ac(e){const t={};for(const r in e)if("style"===r&&"string"==typeof e[r])t[r]=Oc(e[r]);else{const i=(n=r,Hi.hasOwnProperty(n)?Hi[n]:null);t[null===i?r:i.propertyName]=e[r]}var n;return t}function Oc(e){const t=e.split(Lc),n={};for(const e of t){const[t,r]=e.split(Nc);n[(0,xe.zW)(t)]=r}return n}var Tc=({id:e})=>{const t=(0,c.sJ)(Sr.attrs(e)),n=(0,c.sJ)(is.pathData(e));return(0,o.createElement)("path",(0,r.EZ)((0,r.ih)({},Ac(t)),{[Er]:e,"data-fl-textpath":"",d:n}))},Dc=e=>({get:t})=>jr("path",{d:t(is.pathData(e))}),Mc=()=>{const{width:e,height:t}=(0,c.sJ)(br.size),n=(0,c.sJ)(En.viewBox),r=(0,H.a)();return(0,i.tZ)("path",{css:(0,i.iv)({pointeEvents:"none",opacity:.5,fill:r.status.muted}),d:["M",n.x," ",n.y,"h",n.width,"v",n.height,"h",-n.width,"z M0 0","v",t,"h",e,"v",-t,"z"].join("")})},Rc=class{constructor(){this.nodes=new Map}add(e,t){return this.nodes.set(e,t),(0,fe.hu)(e,{flags:t.flags}),t.bbox&&ri(e,t.bbox),this}getComponent(e){var t;return null==(t=this.nodes.get(e))?void 0:t.component}dispose(){this.nodes.clear()}};Rc=(0,r.u2)([s.Xn],Rc);var Pc=(0,r.jp)(Rc),Ic=({id:e})=>{const t=(0,c.sJ)(Sr.contentText(e));return(0,o.createElement)(o.Fragment,null,t)},Fc=({id:e,type:t,children:n})=>{const r=(0,c.sJ)(Sr.attrs(e));return(0,o.createElement)(t,(0,he.f)(Ac(r),{[Er]:e}),n)},Gc=({id:e})=>{var t;const n=Pc(),r=(0,c.sJ)(Sr.type(e)),s=(0,c.sJ)(Sr.children(e));return r===wr?(0,i.tZ)(Ic,{id:e}):(0,o.createElement)(null!=(t=n.getComponent(r))?t:Fc,{id:e,type:r},s.map((e=>(0,i.tZ)(Gc,{key:e,id:e}))))},zc=()=>{const e=(0,c.sJ)(br.state),t=(0,c.sJ)(br.children),n=Yi(),i=(0,o.useRef)(null),s=Ac(e.attrs);return s.style=(0,r.EZ)((0,r.ih)({},s.style),{overflow:"visible"}),s.ref=i,(0,o.useEffect)((()=>(i.current&&n.setRef(i.current),()=>{n.setRef(null)})),[n]),(0,o.createElement)(e.type,s,t.map(Uc))},Uc=e=>(0,i.tZ)(Gc,{key:e,id:e}),Zc=()=>(Ui(br.tree),(0,i.tZ)(zc,null)),Jc=()=>(Fe(Cn,"canvas"),(0,i.tZ)(React.Fragment,null,(0,i.tZ)(Zc,null),(0,i.tZ)(Mc,null),(0,i.tZ)(Ut,{name:"canvas"}))),Bc=()=>(0,c.sJ)(_n.enabled)?(0,i.tZ)(Yc,null):null,Kc=(0,i.iv)({fill:"none",stroke:"#FFFFFF",mixBlendMode:"difference"}),Yc=()=>{const e=(0,c.sJ)(_n.obfuscatorPathData),t=(0,c.sJ)(br.viewBox);return(0,i.tZ)("g",null,(0,i.tZ)("path",{css:(0,i.iv)({fill:"rgba(0, 0, 0, 0.75)",pointerEvents:"none"}),d:e}),(0,i.tZ)("rect",(0,r.EZ)((0,r.ih)({},t),{className:cc,css:Kc})),function(e,t){const n=t.width,r=t.y,i=r+t.height,s=new Array(2),a=n/3;for(let e=0;e<2;e++){const t=a*(e+1);s[e]=(0,o.createElement)("line",{key:e,className:ac,css:Kc,x1:t,y1:r,x2:t,y2:i})}return s}(0,t),function(e,t){const n=t.height,r=t.x,i=r+t.width,s=new Array(2),a=n/3;for(let e=0;e<2;e++){const t=a*(e+1);s[e]=(0,o.createElement)("line",{key:e,className:ac,css:Kc,x1:r,y1:t,x2:i,y2:t})}return s}(0,t))},Vc=oc((({getService:e,components:t})=>{t.section("viewport").add(Jc),t.section("foreground").add(Bc),e(Rc).add(kr,{label:"obj_name_text",flags:fe.We.SOLID_GRAPHICS,bbox:Dc,component:Tc}).add(_r,{label:"obj_name_background",flags:fe.We.GRAPHICS,component:jc}),e(r.ft).onInitializeSnapshot((({set:e})=>{e(br.state,br.DEFAULT_DOCUMENT_STATE)}))})),Wc=()=>(Fe(Wa,"history"),(0,i.tZ)(Hc,null)),Hc=()=>{const e=(0,c.sJ)(as.version),t=zi(),n=(0,o.useRef)(0),r=function(){const{recoilState:e}=zi();return(0,c._8)((({snapshot:t,gotoSnapshot:n,set:r})=>i=>{"navigate"===i.action||"reset"===i.action?n(t.map((({getLoadable:t,set:n})=>{const{latest:r}=t(as.version).getValue();n(e,i.state),n(as.stateHistory,{index:i.index,length:i.length}),n(as.version,(({current:e})=>({current:e,latest:r})))}))):r(as.stateHistory,{index:i.index,length:i.length})}),[e])}();return(0,o.useEffect)((()=>t.subscribe(r)),[t,r]),(0,o.useEffect)((()=>{e.current===e.latest&&n.current<e.latest&&(n.current=e.latest,t.pushCurrentState())}),[e,t]),(0,o.useEffect)((()=>(t.register(as.version),()=>{t.unregister(as.version)})),[t]),(0,o.useEffect)((()=>{t.getTrackedState().then(t.init)}),[t]),null},Xc=oc((({components:e})=>{e.section("root").add(Wc)})),qc=e=>{const t=("gridPattern",(0,c.sJ)(Be.id)+"_gridPattern");const n=(0,c.sJ)(br.size);return(0,c.sJ)(on.enabled)?(0,i.tZ)("svg",{css:{pointerEvents:"none"},xmlns:Q.NS,x:0,y:0,width:n.width,height:n.height},(0,i.tZ)("defs",null,(0,i.tZ)(Qc,{id:t})),(0,i.tZ)("rect",{x:0,y:0,width:n.width,height:n.height,fill:"url(#"+t+")"})):null},Qc=({id:e})=>{const t=(0,c.sJ)(on.step);return(0,i.tZ)("pattern",{id:e,css:{stroke:"aqua"},x:0,y:0,width:t,height:t,patternUnits:"userSpaceOnUse"},(0,i.tZ)("line",{className:ac,x1:0,y1:t,x2:t,y2:t}),(0,i.tZ)("line",{className:ac,x1:t,y1:0,x2:t,y2:t}))},$c=(0,i.iv)({stroke:r.g4.colors.primaryAlt,pointerEvents:"none"}),eu=(0,i.iv)({stroke:r.g4.colors.tertiary}),tu=(0,i.iv)({stroke:r.g4.colors.primaryAlt}),nu=({x:e,y:t,width:n,height:r,className:o})=>{const s=(0,H.a)();return(0,i.tZ)("rect",{css:{fill:"rgba(61, 177, 255, 0.25)",stroke:s.colors.primaryAlt,pointerEvents:"none"},className:Ae(ac,o),x:e,y:t,width:n,height:r})},ru=()=>{const e=(0,c.sJ)(hn.state);return e&&(0,i.tZ)(nu,(0,r.ih)({},e))},iu=(0,r.jp)((function(){let e=0,t=0,n=0;return{set(e){n=e},update(r){e!==r.x||t!==r.y?(n=1,e=r.x,t=r.y):n++},reset(){n=1},count:()=>n}})),ou=(0,i.iv)({stroke:"transparent","&:hover":{stroke:r.g4.colors.primaryAlt}}),su=r.g4.colors.primaryAlt,au=r.g4.colors.tertiary,cu=(0,i.iv)({rect:{fill:"url(#pattern-rotatebox)"},line:{stroke:su}}),uu=(0,i.iv)({pointerEvents:"none"}),lu=(0,i.iv)({fill:"url(#pattern-scalebox)","&.nw, &.se":{cursor:"nwse-resize"},"&.n, &.s":{cursor:"ns-resize"},"&.e, &.w":{cursor:"ew-resize"},"&.ne, &.sw":{cursor:"nesw-resize"}}),du=(0,i.iv)({circle:{fill:"#fff",stroke:su}}),fu=(0,i.iv)({path:{fill:su}}),hu=(0,i.iv)({["."+ou.name]:{"&:hover":{stroke:au}},["."+cu.name]:{line:{stroke:au}},["."+fu.name]:{path:{fill:au}},["."+du.name]:{circle:{stroke:au}},"> path":{stroke:au}}),pu=(0,i.iv)({"> path":{cursor:"move",stroke:su,fill:"transparent"}}),vu=({id:e,dashed:t})=>{const n=(0,c.sJ)(Sr.absoluteTransform(e)),r=(0,c.sJ)(Sr.bbox(e)),[s,a,u,l]=((0,H.a)(),(0,o.useMemo)((()=>{const e=(0,de.Eu)(r);return n?e.map((e=>(0,$.DC)(e,n))):e}),[r,n]));return(0,i.tZ)("path",{css:ou,className:Ae(t?lc:ac),d:["M"+s.x,s.y+"L",a.x,a.y+"L"+u.x,u.y+"L"+l.x,l.y,"Z"].join(" "),fill:"transparent",stroke:"red"})},gu=({state:e,isNested:t,dashed:n})=>{const r=function(e){const t=(0,c.sJ)(e),n=(0,c.sJ)(wn.current);return(0,o.useMemo)((()=>t.filter((e=>n.indexOf(e)<0))),[n,t])}(e),s=(0,c.sJ)(ot.touch),a=(0,c.sJ)(ot.action);return s||(a&N.MOVE)>0?null:(0,i.tZ)("g",{css:t?hu:void 0},function(e,t){return e.map(((e,n)=>(0,i.tZ)(vu,{key:n+"-1",id:e,dashed:t})))}(r,n))},mu=()=>(function(){const e=Pt(!0),t=iu(),n=(0,r.aK)(),i=(0,c._8)((({set:e,reset:t})=>({isPrimary:n,cancel:r,localPosition:i})=>{n?e(hn.startPoint,i):(t(hn.startPoint),r())}),[]),o=(0,c._8)((({set:e})=>({localPosition:t})=>{e(hn.endPoint,t)})),s=(0,c._8)((({snapshot:e})=>i=>(0,r.Cr)(this,[i],(function*({keyMod:r}){const i=e.getLoadable(hn.state).getValue();if(!i)return;const o=e.getLoadable(wn.parentId).getValue(),s=(r&(Oe.D.CtrlCmd|Oe.D.Shift))>0?"add":(r&Oe.D.Alt)>0?"remove":"set";t.update(i),yield n(sa,{point:i,endPoint:{x:i.x+i.width,y:i.y+i.height},method:s,containerId:o,fallbackIfEmpty:!0})}))),[n]),a=(0,c.rb)(hn.startPoint);Le(e.onStart,i),Le(e.onMove,o),Le(e.onEnd,s),Le(e.onComplete,a),Le(e.onContextMenu,(0,c._8)((({snapshot:e})=>({localPosition:t})=>{if(!(function(e){const t=e.getLoadable(wn.current).getValue()[0];return!!t&&function(e,t){return e.getLoadable(br.topObject(t)).getValue()!==t}(e,t)}(e)&&ia(e,{point:t}).length>0))return e.getLoadable(wn.current).getValue().length<2?n(sa,{point:t}):void 0})))}(),(0,i.tZ)(React.Fragment,null,(0,i.tZ)(o.Suspense,{fallback:null},(0,i.tZ)(gu,{state:br.children})),(0,i.tZ)(ru,null))),yu=({children:e,priority:t})=>{const n=Qt();return(0,o.useEffect)((()=>n.subscribeComponent(e,t)),[n,t,e]),null},xu=bu("max-width",425);function bu(e,t){return"@media screen and ("+e+":"+t+"px)"}bu("min-width",600),bu("min-width",960),bu("min-width",1280),bu("min-width",1920);var wu=(0,i.iv)({cursor:"pointer",padding:"4px 32px",width:"100%",whiteSpace:"nowrap",userSelect:"none",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"space-between","&:hover, &:active, &:focus":{backgroundColor:"#3be2ab"}}),Cu=((0,i.iv)({"&::before":{content:'""',height:"1px",width:"100%",backgroundColor:"rgba(0, 0, 0, 0.2)",display:"block"}}),(0,i.iv)({cursor:"default",color:"#b0bdcb","&:hover, &:active, &:focus":{backgroundColor:"transparent"}})),_u=(0,i.iv)({position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"transparent"}),ku=(0,i.iv)({cursor:"default",padding:"8px 16px",paddingBottom:"4px",marginBottom:"4px","&::before":{content:'""',height:"1px",width:"100%",backgroundColor:"rgba(0, 0, 0, 0.2)",display:"block"},"&:hover":{background:"none"},"&+&, &:first-of-type, &:last-of-type":{display:"none"}}),Eu=(0,i.iv)({position:"relative","&::after":{content:'">"',display:"inline-block",verticalAlign:"middle",lineHeight:"100%",width:"auto",height:"1em",fontSize:"24px",transform:"scaleX(0.5)",position:"absolute",right:0,top:0,paddingRight:"16px"},"> ul":{position:"absolute",top:0,left:"100%",transform:"translateY(-8px)",marginLeft:"-4px",zIndex:1}}),Su=(0,i.iv)({position:"fixed",top:0,left:0,padding:"8px 0",margin:0,fontSize:"14px",lineHeight:1.5,backgroundColor:"white",listStyle:"none",background:"white",boxShadow:"0px 3px 5px 0px rgba(0, 0, 0, 0.3)",minWidth:"230px",[xu]:{"&":{width:"80% !important",left:"10% !important"},["."+Eu.name+" > ul"]:{background:"white",position:"absolute",left:"0 !important",right:"auto !important",width:"100%",top:"30px !important",margin:0}}}),ju={flex:"none",fontSize:"12px",fontEeight:"bold",marginLeft:"10px"},Nu={},Lu=({handler:e})=>{const t=(0,r.C6)(e);return(0,i.tZ)("span",{css:ju},t)},Au=(0,o.createContext)(null),Ou=({disabled:e,label:t,handler:n})=>{const s=(0,r.ho)(),a=(0,o.useContext)(Au);return(0,i.tZ)("li",{css:[wu,e&&Cu],onClick:e?void 0:e=>a(n,e)},(0,i.tZ)("span",null,s(t)),(0,i.tZ)(Lu,{handler:n}))},Tu=({children:e})=>(0,i.tZ)(React.Fragment,null,(0,i.tZ)(Du,null),e,(0,i.tZ)(Du,null)),Du=()=>(0,i.tZ)("li",{css:ku}),Mu={x:0,y:0},Ru=({position:e=Mu,style:t,version:n,children:s})=>{const a=(0,o.useRef)(null),[c,u]=(0,o.useState)({width:230,height:230}),l=Ft(),d=(0,o.useMemo)((()=>{const t=function(e,t){let{x:n,y:r}=e;const i=Math.min(t.width,e.width),o=Math.min(t.height,e.height),s=t.y+t.height,a=r+e.height;return n+e.width>t.x+t.width&&(n=Math.max(n-i,0)),a>s&&(r=Math.max(r-o,0)),{x:n,y:r,width:i,height:o}}({x:e.x,y:e.y,width:c.width,height:c.height},{x:0,y:0,width:l.width,height:l.height});return{top:t.y+"px",left:t.x+"px"}}),[e,c,l]);return(0,o.useLayoutEffect)((()=>{if(a.current){const e=a.current.getBoundingClientRect();u({width:e.width,height:e.height})}}),[n]),(0,i.tZ)("ul",{ref:a,css:Su,style:(0,r.ih)((0,r.ih)({},d),t)},s)},Pu=({name:e,label:t,disabled:n,children:s})=>{const[a]=(0,o.useState)(null!=e?e:k.i),[u,l]=(0,c.FV)($t.activeItem),[d,f]=function(){const e=(0,o.useRef)(0),t=(0,o.useCallback)((()=>{e.current&&clearTimeout(e.current)}),[e]);return[(0,o.useCallback)(((n,r)=>{t(),e.current=setTimeout(n,r)}),[e,t]),t]}(),[h,p]=(0,o.useState)(!1),v=(0,o.useCallback)((e=>l(e?a:null)),[l,a]),g=(0,r.ho)(),m=u===a;return(0,o.useEffect)((()=>(m?h||d((()=>v(!1)),500):h&&d((()=>v(!0)),300),f)),[m,h,d,f,v]),(0,i.tZ)("li",{css:[Eu,wu,!n&&m&&Nu,n&&Cu],onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onClick:()=>{f(),v(!0)}},(0,i.tZ)("span",null,g(t)),m&&(0,i.tZ)(Ru,{style:{left:"100%",top:0}},s))},Iu=()=>{const e=(0,c.sJ)(wn.current),t=nc(),n=rc(),r=(0,c._8)((({snapshot:{getLoadable:t}})=>()=>{const n=e.find((e=>"g"===t(Sr.type(e)).getValue()));return{hasClipboard:null!=t(dn.copiedObject).getValue(),hasGroup:n,hasTarget:e.length>0,hasTransform:null!=t(wn.attribute("transform")).getValue().find((e=>null!=e)),target:e,disableUndo:t(as.isUndoDisabled).getValue(),disableRedo:t(as.isRedoDisabled).getValue()}}),[e]);return(0,i.tZ)(yu,null,(e=>{const o=r();return o.hasTarget?(0,i.tZ)(React.Fragment,null,(0,i.tZ)(Tu,null,(0,i.tZ)(Ou,{label:"action_cut",handler:Zs}),(0,i.tZ)(Ou,{label:"action_copy",handler:zs}),(0,i.tZ)(Ou,{label:"action_paste",handler:ra,disabled:!o.hasClipboard}),(0,i.tZ)(Ou,{label:"action_duplicate",handler:Js})),(0,i.tZ)(Tu,null,(0,i.tZ)(Pu,{label:"action_order"},(0,i.tZ)(Ou,{label:"action_move_front",handler:Qs}),(0,i.tZ)(Ou,{label:"action_move_forward",handler:$s}),(0,i.tZ)(Ou,{label:"action_move_backwards",handler:ea}),(0,i.tZ)(Ou,{label:"action_move_back",handler:ta})),(0,i.tZ)(Pu,{label:"action_rotate"},(0,i.tZ)(Ou,{label:"action_flip_h",handler:ma}),(0,i.tZ)(Ou,{label:"action_flip_v",handler:ya}),(0,i.tZ)(Ou,{label:"action_rotate_clockwise",handler:va}),(0,i.tZ)(Ou,{label:"action_rotate_anticlockwise",handler:ga}))),(0,i.tZ)(Tu,null,(0,i.tZ)(Ou,{label:"action_group",handler:Bs,disabled:o.target.length<2}),(0,i.tZ)(Ou,{label:"action_ungroup",handler:xa,disabled:!o.hasGroup||o.target.length>1})),e.advanced&&(0,i.tZ)(Ou,{label:"action_reset_transform",handler:fa}),(0,i.tZ)(Ou,{label:"action_delete",handler:Us,disabled:!o.hasTransform})):(0,i.tZ)(React.Fragment,null,(0,i.tZ)(Ou,{label:"action_undo",handler:t,disabled:o.disableUndo}),(0,i.tZ)(Ou,{label:"action_redo",handler:n,disabled:o.disableRedo}),(0,i.tZ)(Tu,null,(0,i.tZ)(Ou,{label:"action_paste",handler:ra,disabled:!o.hasClipboard})))}))},Fu=wn.TransformAction;var Gu=wn.TransformAction;var zu=["nw","n","ne","e","se","s","sw","w"],Uu={nw:[0,0],n:[.5,0],ne:[1,0],e:[1,.5],se:[1,1],s:[.5,1],sw:[0,1],w:[0,.5]},Zu=wn.TransformAction;var Ju=()=>{const e=(0,c.sJ)(Sn.unitScale),t=2*e,n=12*e;return(0,i.tZ)("defs",null,(0,i.tZ)("pattern",{id:"pattern-scalebox",css:du,x:0,y:0,width:"100%",height:"100%"},(0,i.tZ)("circle",{cx:n,cy:n,r:7.5*e-t,strokeWidth:t})),(0,i.tZ)("pattern",{id:"pattern-rotatebox",css:fu,x:0,y:0,width:"100%",height:"100%"},(0,i.tZ)("path",{transform:"scale("+e+") translate(5, 10.5)",d:"M18,13c0,3.31-2.69,6-6,6s-6-2.69-6-6s2.69-6,6-6v2.5l3.5-3.5l-3.5-3.5v2.5c-4.42,0-8,3.58-8,8c0,4.42,3.58,8,8,8c4.42,0,8-3.58,8-8 H18z"})))},Bu=({isNested:e,unitScale:t,onTranslate:n,onScale:s,onRotate:a})=>{const u=(0,r.aK)(),l=iu(),d=(0,c.sJ)(Ao.absoluteOrigin),f=(0,c.sJ)(Ao.absolutePoints),h=(0,c.sJ)(wn.absoluteTransform),p=5*t,v=Pt(!0),g=(0,c.sJ)(Ao.topPoints),m=(0,c._8)((({snapshot:e})=>t=>{const n=e.getLoadable(wn.mainId).getValue();return oa(e,t,n)}),[]);return Le(v.onStart,(0,o.useCallback)((({isPrimary:e,sourceEvent:t,position:r,cancel:i})=>{e&&n&&m(r)?n(t):i()}),[n,m])),Le(v.onEnd,(0,c._8)((({snapshot:e})=>()=>(0,r.Cr)(void 0,null,(function*(){const t=e.getLoadable(ot.cursorStartPosition).getValue(),n=e.getLoadable(ot.cursorPosition).getValue(),r=e.getLoadable(wn.current).getValue();if(l.update(t),n.x===t.x&&n.y===t.y&&1===r.length){const i=r[0],o=e.getLoadable(Sr.parentId(i)).getValue();if(ia(e,{point:t,containerId:i}).length>0)l.reset(),yield u(sa,{point:t,endPoint:n,containerId:i});else{const r=ia(e,{point:t,containerId:o});if(r.length>0){const e=r.indexOf(i);yield u(sa,{point:t,endPoint:n,containerId:o,hitStackShift:e+(l.count()>1?1:0)})}}}}))),[l,u])),(0,i.tZ)("g",{css:[pu,e&&hu]},(0,i.tZ)(Ju,null),(0,i.tZ)(Wu,{cx:d.x,cy:d.y,strokeWidth:t,width:p,height:p}),e&&(0,i.tZ)("path",{className:dc,fill:"none",style:{pointerEvents:"none"},d:Vu(...g)}),(0,i.tZ)("path",{className:cc,fill:"transparent",d:Vu(f[0],f[2],f[4],f[6])}),(0,i.tZ)(Ku,{transform:h,points:f,onRotate:a,onScale:s}))},Ku=({points:e,transform:t=pe.y3.DEFAULT,onScale:n,onRotate:r})=>{const s=zu.length,a=(0,c.sJ)(Sn.unitScale),u=t?(0,pe._O)(t):0,l=24*a,[]=(0,o.useState)((()=>({origin:$.xE,axis:Te.XY,anchor:$.xE})));return(0,i.tZ)(React.Fragment,null,zu.map(((o,c)=>{const d=e[c],f=zu[(c+Math.round((u+180)*s/360))%s],h=(0,i.tZ)("rect",{key:c+"-s",onTouchStart:n,onMouseDown:n,"data-handle":o,css:lu,className:f,transform:"rotate("+u+","+d.x+","+d.y+")",x:d.x-.5*l,y:d.y-.5*l,width:l,height:l});return"n"===o?[Yu(e,t,a,r),h]:h})))};function Yu(e,t,n,r){const o=32*n,s=e[1],a=s.x-.5*o,c=s.y-16*n,u=function(e,t,n){const r=t,i=n>90?n-180:n<-90?n+180:n,o=r.a<0?-1:1,s=r.d<0?-1:1;return(0,pe.Jc)((0,pe.Jp)((0,pe.Wn)(i,e.x,e.y),(0,pe.w9)(o,s,e.x,e.y)))}(s,t,(l=s,d=e[2],180*Math.atan2(d.y-l.y,d.x-l.x)/Math.PI));var l,d;return(0,i.tZ)("g",{key:"_r",css:cu,transform:u,onTouchStart:r,onMouseDown:r},(0,i.tZ)("line",{className:"noevent",x1:s.x,y1:s.y,x2:s.x,y2:c,strokeWidth:2*n}),(0,i.tZ)("rect",{fill:"transparent",x:a,y:c-o,width:o,height:s.y-c+o}))}function Vu(e,t,n,r){return["M"+e.x,e.y,"L"+t.x,t.y,"L"+n.x,n.y,"L"+r.x,r.y+"Z"].join(" ")}var Wu=({cx:e=0,cy:t=0,strokeWidth:n=1,width:r=10,height:o=r})=>(0,i.tZ)("path",{css:uu,d:["M"+(e-r),t,"L"+(e+r),t,"M"+e,t-o,"L"+e,t+o].join(" "),strokeWidth:n}),Hu=(0,c.cn)({key:"selectionTransformState",default:{a:1,b:0,c:0,d:1,e:0,f:0}}),Xu=({})=>{const e=(0,c.sJ)(wn.current),t=(0,c.sJ)(wn.bbox),n=(0,c.sJ)(Sn.unitScale),s=(0,c.sJ)(Hu),a=(0,c.sJ)(wn.nested),u=function(){const e=tc(),t=(0,c.Zl)(wn.transformAction),n=Pt(),i=(0,c._8)((({snapshot:e,set:n})=>i=>(0,r.Cr)(this,[i],(function*({isPrimary:r,localPosition:i,sourceEvent:o,cancel:s}){if(r){o.stopPropagation(),t(Zu.TRANSLATE);const r=yield e.getPromise(wn.bbox),s=yield e.getPromise(wn.absoluteTransform);n(ot.anchors,(a=i,c=(0,de.k3)(r,s),[(0,$.h3)(c.topLeft,a),(0,$.h3)(c.topRight,a),(0,$.h3)(c.bottomRight,a),(0,$.h3)(c.bottomLeft,a),(0,$.h3)(c.center,a)]))}else s();var a,c}))),[t,n]),o=(0,c._8)((({snapshot:e,set:t})=>({keyMod:n,position:r})=>{const i=e.getLoadable(ot.startPointData(0)).getValue().local;if(null==i)return;let o=r.x-i.x,s=r.y-i.y;n&Oe.D.Shift&&(Math.abs(o)>Math.abs(s)?s=0:o=0),t(ot.tips,["X: "+(0,xe.Bk)(o)+"\nY: "+(0,xe.Bk)(s)]),t(wn.transformDelta,(0,pe.xk)(o,s))}),[]),s=(0,c._8)((({reset:t})=>()=>{t(wn.transformAction),t(ot.tips),e()}),[e]);return Le(n.onStart,i),Le(n.onMove,o),Le(n.onComplete,s),n.listener}(),l=function(){const e=Pt(),t=tc(),n=(0,c._8)((({snapshot:e})=>t=>function(e,t){const n=zu.indexOf(t),[r,i]=Uu[t],o=e[n],s=e[(n+4)%8];return{origin:{x:s.x,y:s.y},axis:.5===r?Te.Y:.5===i?Te.X:Te.XY,anchor:o}}(e.getLoadable(Ao.absolutePoints).getValue(),t)),[]),r=(0,o.useRef)(null),i=(0,c._8)((({set:e})=>({isPrimary:t,sourceEvent:i,cancel:o})=>{if(t){i.stopPropagation();const t=i.currentTarget.getAttribute("data-handle");if(!t)throw new Error("Invalid direction: "+t);r.current=n(t),e(wn.transformAction,Gu.SCALE)}else o()}),[]),s=(0,c._8)((({set:e,snapshot:t})=>({keyMod:n,position:i})=>{const{x:o,y:s}=i;if(!r.current)return;let a,c,{origin:u,anchor:l,axis:d}=r.current;const f=t.getLoadable(wn.initialTransform).getValue();if(f){const e=(0,pe.SO)(f),t=(0,$.DC)((0,$.E9)(o,s),e),n=(0,$.DC)((0,$.E9)(l.x,l.y),e),r=(0,$.DC)((0,$.E9)(u.x,u.y),e);a=(t.x-r.x)/(n.x-r.x||1),c=(t.y-r.y)/(n.y-r.y||1),u=r}else a=(o-u.x)/(l.x-u.x),c=(s-u.y)/(l.y-u.y);a=(0,De.sT)(d&Te.X?a:1,0)||.001,c=(0,De.sT)(d&Te.Y?c:1,0)||.001,n&Oe.D.Shift||(d&Te.XY)!==Te.XY||(c=a);let h=(0,pe.w9)(a,c,u.x,u.y);f&&(h=(0,pe.Jp)(f,(0,pe.Jp)(h,(0,pe.SO)(f)))),e(ot.tips,["X: "+(0,xe.T3)(a)+"\nY: "+(0,xe.T3)(c)]),e(wn.transformDelta,h)}),[]),a=(0,c._8)((({reset:e})=>()=>{e(wn.transformAction),e(ot.tips),t()}),[t]);return Le(e.onStart,i),Le(e.onMove,s),Le(e.onComplete,a),e.listener}(),d=function(){const e=Pt(),t=tc(),[n,r]=(0,o.useState)($.xE),i=(0,c._8)((({snapshot:e,set:t})=>({sourceEvent:n,isPrimary:i,cancel:o})=>{i?(n.stopPropagation(),r(e.getLoadable(Ao.absoluteOrigin).getValue()),t(wn.transformAction,Fu.ROTATE)):o()}),[]),s=(0,c._8)((({snapshot:e,set:t})=>()=>{const r=e.getLoadable(ot.keyMod).getValue(),[i,o]=e.getLoadable(ot.cursorRange).getValue();let s=(0,$.Y3)(n,i)-(0,$.Y3)(n,o);r&Oe.D.Shift&&(s=15*Math.round(s/15)),t(ot.tips,[(0,xe.j0)(s)]),t(wn.transformDelta,(0,pe.Wn)(s,n.x,n.y))}),[n]),a=(0,c._8)((({set:e,reset:n})=>()=>{e(wn.transformAction,Fu.SELECT),n(ot.tips),t()}),[t]);var u,l;return u=()=>{if(e)return[e.onStart(i),e.onMove(s),e.onEnd(a)]},l=[e,i,s,a],(0,o.useEffect)((()=>{const e=u();return e&&(()=>{(0,O.B9)(e)})}),l),e.listener}(),f=(0,c._8)((({snapshot:t,set:n})=>()=>(0,r.Cr)(void 0,null,(function*(){if(!t.getLoadable(Sr.transform(wn.TARGET_PROXY_ID)).getValue()){const r=yield t.getPromise((0,c.k9)(e.map((e=>Sr.absoluteBBox(e)))));n(wn.bbox,(0,de.AO)(r))}}))),[e]);return(0,o.useEffect)((()=>{e.length>1&&e.join(",")&&f()}),[e,f]),0===e.length?null:(0,i.tZ)(React.Fragment,null,a&&(0,i.tZ)(gu,{state:wn.siblings,isNested:!0}),(0,i.tZ)(Bu,{isNested:a,bbox:t,transform:pe.y3.fromMatrix(s),unitScale:n,onTranslate:u,onScale:l,onRotate:d}),(0,i.tZ)(gu,{state:wn.children,dashed:!0}))},qu=["select"],Qu=["translate","rotate","scale"],$u=[...qu,...Qu],el=()=>(Ui(wn.persistedState),Fe(Os,"selection"),(0,i.tZ)(React.Fragment,null,(0,i.tZ)(qt,{keys:qu,component:mu}),(0,i.tZ)(qt,{keys:$u,component:Xu}),(0,i.tZ)(Iu,null))),tl=()=>(0,c.sJ)(ln.enabled)?(0,i.tZ)(qt,{keys:[...Qu,"pathEditor"],render:()=>(0,i.tZ)(nl,null)}):null,nl=e=>{const t=(0,c.sJ)(ot.action),{current:n,local:r}=(0,c.sJ)(ot.pointData(0)),o=(0,c.sJ)(Xo.snappingContext),s=(0,c.sJ)(ln.lines),{width:a,height:u,x:l,y:d}=(0,c.sJ)(En.viewBox);if(!o||(t&N.DRAG)!==N.DRAG)return null;const{targetX:f,targetY:h}=o,p=n.x!==r.x,v=n.y!==r.y;return(0,i.tZ)(React.Fragment,null,p&&s.xAxis.map((({value:e,level:t},n)=>e===f?(0,i.tZ)("line",{key:"x-"+n,css:[$c,il[t]],className:ac,x1:e,y1:d,x2:e,y2:d+u}):null)),v&&s.yAxis.map((({value:e,level:t},n)=>e===h?(0,i.tZ)("line",{key:"y-"+n,css:[$c,il[t]],className:ac,x1:l,y1:e,x2:l+a,y2:e}):null)))},rl=ln.GuideLevel,il={[rl.DEFAULT]:"default",[rl.CANVAS_RECT]:eu,[rl.CANVAS_MID]:eu,[rl.OBJECT_RECT]:tu,[rl.OBJECT_MID]:tu};function ol(e,t,n){return e>t&&e<t+n||e<t&&e>t-n?t:e}function sl(e,t){return{x:Math.round(e.x/t)*t,y:Math.round(e.y/t)*t}}function al(e,t){let n=e.x,r=e.y,i=1/0,o=1/0;for(const{value:r}of t.xAxis){const t=Math.abs(r-e.x);t<i&&(n=r,i=t)}for(const{value:n}of t.yAxis){const t=Math.abs(n-e.y);t<o&&(r=n,o=t)}return{x:n,y:r}}var cl=()=>{return e=It(),t=(0,c._8)((({snapshot:e,set:t})=>{const n=t=>e.getLoadable(t).getValue();return e=>{const r=function(e,t){const n=e(on.snapThreshold)*e(Sn.unitScale),r=e(ot.anchors),i=e(ln.lines),o=e(ln.enabled),s=e(on.enabled),a=e(on.step);let c=r[0].x,u=r[0].y,l=0,d=0,f=1/0,h=1/0;const p=s?sl:()=>null,v=o?al:()=>null;for(const e of r){const n={x:t.x+e.x,y:t.y+e.y};for(const e of[p(n,a),v(n,i)])if(null!==e){const t=Math.abs(e.x-n.x),r=Math.abs(e.y-n.y);t<f&&(f=t,c=n.x,l=e.x),r<h&&(h=r,u=n.y,d=e.y)}}return{snapThreshold:n,targetX:l,targetY:d,closestAnchorX:c,closestAnchorY:u}}(n,e);return t(Xo.snappingContext,r),function(e,t){return{x:ol(t.closestAnchorX,t.targetX,t.snapThreshold)-(t.closestAnchorX-e.x),y:ol(t.closestAnchorY,t.targetY,t.snapThreshold)-(t.closestAnchorY-e.y)}}(e,r)}}),[]),(0,o.useEffect)((()=>e.addConstraint(t).dispose),[t,n,e]),Fe(rn,"magnetism"),(0,i.tZ)(React.Fragment,null,(0,i.tZ)(qc,null),(0,i.tZ)(tl,null));var e,t,n},ul=oc((({components:e})=>{e.section("foreground").add(cl)})),ll=oc((({components:e,commands:t,events:n})=>{e.section("foreground").add(el),n.on("cleanup",(()=>{t.send(Gs)}))})),dl=r.g4.colors.primaryAlt,fl="magenta",hl="#b0bdcb",pl=(0,i.iv)({stroke:dl}),vl=(0,i.iv)({".hdl-r":{fill:dl,shapeRendering:"crispEdges"},".hdl-c":{fill:dl,"&.alt":{fill:fl},"&.disabled":{fill:hl}},".hdl-e":{pointerEvents:"none",fill:"none",stroke:dl,strokeDasharray:"10 10","&.alt":{stroke:fl}},".hdl-l":{pointerEvents:"none",stroke:dl,"&.alt":{stroke:fl},"&.disabled":{stroke:hl}}});function gl(e){return(t,n)=>(0,o.createElement)(e,t,n)}var ml=gl("circle"),yl=gl("path"),xl=gl("ellipse"),bl=gl("rect"),wl=gl("line");gl("g");var Cl=()=>{const e=Pt(!0),t=(0,c.Zl)(gs.activeHandleProps),n=tc(),i=(0,c._8)((({set:e,snapshot:t})=>n=>{const r=t.getLoadable(gs.editedAttribute).getValue();r&&e(wn.computedAttrs,{[r]:null!=n?n:t.getLoadable(gs.pathData).getValue()})}),[]),s=(0,c.rb)(Be.currentBehavior),a=(0,c._8)((({snapshot:e})=>()=>({activeHandle:e.getLoadable(gs.activeHandleProps).getValue(),transform:e.getLoadable(wn.absoluteTransform).getValue()})),[]),u=(0,c._8)((({set:e,snapshot:t})=>n=>{const i=t.getLoadable(gs.activeHandleProps).getValue();i&&e(gs.pathCommands,(e=>{const t=e.slice(),o=i.index;if(o<0)return e;const s=t[o],a=t[o+1],c=(0,r.ih)({},s);if(null!=i.propRotate?c[i.propRotate]=180-(0,$.Y3)((0,$.E9)(i.originX,i.originY),n)+i.originRotate:null!=i.propToggle?c[i.propToggle]=!c[i.propToggle]:(void 0!==i.propX&&(c[i.propX]=-(i.offsetX||0)+n.x*i.multiplier),void 0!==i.propY&&(c[i.propY]=-(i.offsetY||0)+n.y*i.multiplier)),"x"===i.propX||"y"===i.propY){const e=n.x-s.x,i=n.y-s.y;if("x2"in c&&(c.x2+=e),"y2"in c&&(c.y2+=i),a){const n=(0,r.ih)({},a);"x1"in n&&(n.x1+=e),"y1"in n&&(n.y1+=i),t[o+1]=n}}return t[o]=c,t}))}),[]);return Le(e.onStart,(0,o.useCallback)((e=>{const n=function(e){const t=e.target,n=parseInt(t.getAttribute("data-i")||"");if(isNaN(n))return null;const r=null!=t.getAttribute("data-prev");let i,o,s,a,c,u=t.getAttribute("data-r")||void 0,l=t.getAttribute("data-toggle")||void 0;void 0!==u?(s=+(t.getAttribute("data-origin-x")||0),a=+(t.getAttribute("data-origin-y")||0),c=+(t.getAttribute("data-origin-r")||0)):(i=t.getAttribute("data-x")||void 0,o=t.getAttribute("data-y")||void 0);const d=+(t.getAttribute("data-offset-x")||0),f=+(t.getAttribute("data-offset-y")||0),h=t.getAttribute("data-multi");return{index:r?n-1:n,propX:i,propY:o,propRotate:u,propToggle:l,originRotate:c,originX:s,originY:a,offsetX:d,offsetY:f,multiplier:null!==h?+h:1,handleTransform:(0,Q.Rb)(t.parentNode)||pe.y3.DEFAULT}}(e.sourceEvent);t(n)}),[t])),Le(e.onMove,(0,o.useCallback)((({position:e})=>{const{activeHandle:t,transform:n}=a();if(null==t)return;let r=(0,$.DC)((0,$.E9)(e.x,e.y),(0,pe.SO)(t.handleTransform));n&&(r=(0,$.DC)(r,(0,pe.SO)(n))),u(r)}),[u,a])),Le(e.onEnd,(0,o.useCallback)((()=>{const{activeHandle:e}=a();e?(e.propToggle&&u({x:0,y:0}),i(),t(null),n()):s()}),[u,t,n,a,i,s])),null},_l="circle",kl="rect",El="hdl-l noevent "+ac,Sl="hdl-c alt",jl={x:"x",y:"y"},Nl=(e,t)=>{var n;const r=2*e.r,s=2*r+e.unitScale,a=e.data,c={"data-i":e.index,fill:"transparent",x:e.cx-r,y:e.cy-r,width:s,height:s};for(const e in a)c["data-"+e]=a[e];return(0,i.tZ)("g",{key:e.key,transform:null==(n=e.transform)?void 0:n.toString()},t||Ll[e.type](e),(0,o.createElement)("rect",c))},Ll={rect:e=>{const t=2*e.r+e.unitScale;return bl({className:e.className||"hdl-r",x:e.cx-e.r,y:e.cy-e.r,width:t,height:t})},circle:e=>ml({className:e.className||"hdl-c",cx:e.cx,cy:e.cy,r:e.r})},Al=({command:e,index:t,transform:n,unitScale:r,handleSize:i})=>{const o=Tl(e.x,e.y,n);return Nl({unitScale:r,key:t.toString(),index:t,type:kl,data:jl,cx:o.x,cy:o.y,r:i})};function Ol(e,t,n,r){return function(e,t,n){return["M",e,",",t,"m",-n,",0 ","a",n,",",n," 0 1,0 ",2*n,",0","a",n,",",n," 0 1,0 ",-2*n,",0Z"].join("")}(e,t,n)+function(e,t,n){return["M",e,",",t,"m",-n,",0 ","a",n,",",n," 0 1,0 ",2*n,",0Z"].join("")}(e,t,n-r)}function Tl(e,t,n){return n?(0,$.DC)((0,$.E9)(e,t),n):{x:e,y:t}}var Dl={L:Al,M:Al,C:({prevCommand:e,command:t,index:n,focusedIndex:r,focusedKey:o,transform:s,handleSize:a,showAll:c,unitScale:u})=>{const l=Tl(e.x,e.y,s),d=Tl(t.x,t.y,s),f=Tl(t.x1,t.y1,s),h=Tl(t.x2,t.y2,s),p=Nl({key:n+"-0",type:kl,unitScale:u,index:n,data:jl,cx:d.x,cy:d.y,r:a}),v=[],g=n===r,m=n-1===r,y="x1"===o;return(c||n+1===r&&y||g&&!y)&&v.push(wl({key:n+"-l1",className:El,x1:h.x,y1:h.y,x2:d.x,y2:d.y}),Nl({key:n+"-h1",type:_l,unitScale:u,index:n,cx:h.x,cy:h.y,r:a,data:{x:"x2",y:"y2"}})),(c||m&&("x2"===o||"x"===o)||g&&y)&&v.push(wl({key:n+"-l2",className:El,x1:l.x,y1:l.y,x2:f.x,y2:f.y}),Nl({key:n+"-h2",type:_l,unitScale:u,index:n,cx:f.x,cy:f.y,r:a,data:{x:"x1",y:"y1"}})),v.push(p),(0,i.tZ)(React.Fragment,null,v)},Q:({index:e,focusedIndex:t,prevCommand:n,command:r,transform:o,handleSize:s,unitScale:a})=>{const c=Tl(n.x,n.y,o),u=Tl(r.x,r.y,o),l=Tl(r.x1,r.y1,o),d=Nl({key:e+"-0",type:kl,unitScale:a,index:e,cx:u.x,cy:u.y,r:s,data:jl});return e!==t&&e!==t-1&&e!==t+1?(0,i.tZ)(React.Fragment,null,d):(0,i.tZ)(React.Fragment,null,wl({key:e+"-l1",className:El,x1:c.x,y1:c.y,x2:l.x,y2:l.y}),wl({key:e+"-l2",className:El,x1:l.x,y1:l.y,x2:u.x,y2:u.y}),Nl({key:e+"-h1",type:_l,unitScale:a,index:e,cx:l.x,cy:l.y,r:s,data:{x:"x1",y:"y1"}}),d)},T:({index:e,focusedIndex:t,prevCommand:n,command:r,transform:o,handleSize:s,unitScale:a})=>{const c=Tl(n.x,n.y,o),u=(0,pe.w9)(-1,-1,c.x,c.y),l=Tl(n.x1,n.y1,(0,pe.g0)(u,o)),d=Tl(n.x1,n.y1,o),f=Tl(r.x,r.y,o),h=Nl({key:e+"-0",type:kl,unitScale:a,index:e,cx:f.x,cy:f.y,r:s,data:jl});return e===t||e-1===t?(0,i.tZ)(React.Fragment,null,wl({key:e+"-l1",className:El,transform:u,x1:c.x,y1:c.y,x2:d.x,y2:d.y}),wl({key:e+"-l2",className:El,x1:l.x,y1:l.y,x2:f.x,y2:f.y}),Nl({key:e+"-h1",type:_l,unitScale:a,index:e,cx:d.x,cy:d.y,r:s,transform:u,data:{prev:!0,x:"x1",y:"y1"}}),Nl({key:e+"-h2",type:kl,unitScale:a,index:e,cx:f.x,cy:f.y,r:s,data:{x:"x",y:"y"}}),h):(0,i.tZ)(React.Fragment,null,h)},S:({index:e,focusedIndex:t,focusedKey:n,prevCommand:r,command:o,transform:s,handleSize:a,unitScale:c})=>{const u=Tl(r.x,r.y,s),l=(0,pe.w9)(-1,-1,u.x,u.y),d=Tl(o.x,o.y,s),f=Tl(o.x2,o.y2,s),h=Tl(r.x2,r.y2,s),p=Nl({key:e+"-0",type:kl,unitScale:c,index:e,cx:d.x,cy:d.y,r:a,data:jl});return e===t?(0,i.tZ)(React.Fragment,null,wl({key:e+"-l1",className:El,x1:d.x,y1:d.y,x2:f.x,y2:f.y}),Nl({key:e+"-h1",type:_l,unitScale:c,index:e,cx:f.x,cy:f.y,r:a,data:{x:"x2",y:"y2"}}),p):e-1!==t||"x"!==n&&"x2"!==n?(0,i.tZ)(React.Fragment,null,p):(0,i.tZ)(React.Fragment,null,wl({key:e+"-l2",className:El,transform:l,x1:h.x,y1:h.y,x2:u.x,y2:u.y}),Nl({key:e+"-h2",type:_l,unitScale:c,index:e,cx:h.x,cy:h.y,r:a,transform:l,data:{x:"x2",y:"y2",prev:!0}}),p)},A:({index:e,focusedIndex:t,prevCommand:n,command:r,transform:o,unitScale:s,handleSize:a})=>{const c=Tl(r.x,r.y,o),u=(l=r,d=n,(0,$.E9)(.5*(d.x+l.x),.5*(d.y+l.y)));var l,d;const f=Tl(u.x,u.y,o),h=(0,pe.Wn)(r.xAxisRotation,f.x,f.y),p=(0,$.DC)(u,(0,pe.Jp)(o||(0,pe.yR)(),(0,pe.xk)(r.rx,r.ry))),v=p.y-2*r.ry,g=p.x-2*r.rx,m=Nl({key:e+"-0",type:kl,unitScale:s,index:e,cx:c.x,cy:c.y,r:a,data:jl});if(e!==t&&e-1!==t)return(0,i.tZ)(React.Fragment,null,m);const y=f.x,x=f.y;return(0,i.tZ)(React.Fragment,null,wl({key:e+"-l1",className:"hdl-l noevent alt "+ac,transform:h,x1:y,y1:v,x2:y,y2:v-30}),Nl({key:e+"-h1",className:"hdl-c alt fl-c-rotate",type:_l,unitScale:s,index:e,transform:h,cx:y,cy:v-30,r:a,data:{r:"xAxisRotation","origin-x":u.x,"origin-y":u.y,"origin-r":r.xAxisRotation}}),xl({key:e+"-e1",className:"hdl-e alt "+ac,transform:h,cx:y,cy:x,rx:Math.abs(r.rx),ry:Math.abs(r.ry)}),yl({key:e+"-p1","fill-rule":"evenodd",d:Ol(y,x,a,s),transform:r.sweep?void 0:(0,pe.w9)(1,-1,y,x),className:Sl}),Nl({key:e+"-h2",type:_l,index:e,unitScale:s,cx:y,cy:x,r:a,data:{toggle:"sweep"}}),Nl({key:e+"-h3",type:_l,unitScale:s,className:Sl,index:e,transform:h,cx:g,cy:x,r:a,data:{x:"rx","offset-x":-u.x,multi:-1}}),Nl({key:e+"-h4",className:Sl,type:_l,unitScale:s,index:e,transform:h,cx:p.x,cy:x,r:a,data:{x:"rx","offset-x":u.x}}),Nl({className:Sl,type:_l,unitScale:s,key:e+"-h5",index:e,cx:y,cy:p.y,r:a,transform:h,data:{y:"ry","offset-y":u.y}}),Nl({index:e,key:e+"-h6",className:Sl,type:_l,unitScale:s,transform:h,cx:y,cy:v,r:a,data:{y:"ry","offset-y":-u.y,multi:-1}}),m)}},Ml=()=>{const e=(0,c.sJ)(Sn.unitScale),t=(0,c.sJ)(gs.pathCommands),n=5*e,r=(0,c.sJ)(gs.focusedHandle),s=(0,c.sJ)(gs.displayAllCommands)||t.length<3,a=(0,c.sJ)(wn.absoluteTransform),u=null==r?void 0:r.commandIndex,l=null==r?void 0:r.commandKey;return(0,i.tZ)(React.Fragment,null,t.map(((r,i)=>{const c=Dl[r.code];return c?(0,o.createElement)(c,{key:i,index:i,focusedIndex:u,focusedKey:l,showAll:s,command:r,prevCommand:t[i-1],nextCommand:t[i+1],unitScale:e,transform:a,handleSize:n}):null})))},Rl=()=>(0,i.tZ)("g",{css:vl},(0,i.tZ)(Pl,null),(0,i.tZ)(Ml,null),(0,i.tZ)(Cl,null)),Pl=()=>{const e=(0,c.sJ)(wn.absoluteTransform),t=(0,c.sJ)(gs.pathData);return(0,i.tZ)("path",{css:pl,className:ac,d:t,transform:(0,pe.Jc)(e),fill:"none"})},Il=(0,c.nZ)({key:"canEditPathState",get:({get:e})=>{const t=e(wn.type);return"path"===t||t===kr}}),Fl=()=>{const e=(0,c.sJ)(wn.type),t=(0,c.sJ)(wn.current),n=(0,c.sJ)(Il);return e!==kr||t.length>1?null:(0,i.tZ)(yu,{priority:2},(()=>(0,i.tZ)(Ou,{label:"action_edit_path",handler:Ns,disabled:!n})))},Gl="pathEditor",zl=()=>(Ui(gs.pathCommands),Fe(rs,Gl),(0,i.tZ)(React.Fragment,null,(0,i.tZ)(qt,{keys:[Gl],component:Rl}),(0,i.tZ)(Fl,null))),Ul=oc((({components:e,commands:t,events:n})=>{e.section("foreground").add(zl),n.on("cleanup",(()=>{t.send(Gs)}))})),Zl=()=>{const e=(0,o.useRef)(null),t=It(),n=Qt(),{send:s,sendByName:a}=(0,r.Yb)(),[{position:u,active:l,version:d},f]=(0,c.FV)($t.state),h=(0,o.useCallback)(((e,t)=>{"string"==typeof e?a(e):s(e),n.close(),a("editor.focus")}),[n,a,s]);(0,o.useEffect)((()=>n.onChange(f).dispose),[n,f]),Le(t.onContextMenu,(0,o.useCallback)((({clientPosition:e,sourceEvent:t})=>{n.open(e,t.shiftKey),t.preventDefault()}),[n]));const p=t=>{t.target===e.current&&n.close(),t.stopPropagation()};return l?(0,i.tZ)(Yt,null,(0,i.tZ)(Au.Provider,{value:h},(0,i.tZ)("div",{ref:e,css:_u,onTouchStart:p,onMouseDown:p},(0,o.createElement)(Ru,{position:u,version:d},...n.render())))):null},Jl=oc((({components:e})=>{e.section("container").add(Zl)})),Bl={};function Kl(e){return({id:t,children:n})=>{const r=(0,c.sJ)(Sr.attrs(t)),i=Ac(e(r));return i[Er]=t,(0,o.createElement)("path",i,n)}}(0,r.r2)(Bl,{circle:()=>Wl,ellipse:()=>Vl,line:()=>Hl,polygon:()=>$l,polyline:()=>ql,rect:()=>ed});var Yl=.5522847498,Vl=Kl((e=>{var t=e,{cx:n=0,cy:i=0,rx:o=0,ry:s=0}=t,a=(0,r.S0)(t,["cx","cy","rx","ry"]);n=+n,i=+i;const c=(o=+o)*Yl,u=(s=+s)*Yl;return(0,r.EZ)((0,r.ih)({},a),{"data-cx":n,"data-cy":i,"data-rx":o,"data-ry":s,d:["M"+(n-o),i,"C"+(n-o),i-u,n-c,i-s,n,i-s,"C"+(n+c),i-s,n+o,i-u,n+o,i,"C"+(n+o),i+u,n+c,i+s,n,i+s,"C"+(n-c),i+s,n-o,i+u,n-o,i,"Z"].join(" ")})})),Wl=Kl((e=>{var t=e,{cx:n=0,cy:i=0,r:o=0}=t,s=(0,r.S0)(t,["cx","cy","r"]);return o=+o,n=+n,i=+i,(0,r.EZ)((0,r.ih)({},s),{"data-type":"circle","data-cx":n,"data-cy":i,"data-r":o,d:["M"+n,i+"m"+-o,"0a"+o,o+" 0 1, 0 "+2*o,"0a"+o,o+" 0 1, 0 "+-2*o,0].join(",")})})),Hl=Kl((e=>{var t=e,{x1:n=0,y1:i=0,x2:o=0,y2:s=0}=t,a=(0,r.S0)(t,["x1","y1","x2","y2"]);return n=+n,i=+i,o=+o,s=+s,(0,r.EZ)((0,r.ih)({},a),{"data-type":"line","data-x1":n,"data-y1":i,"data-x2":o,"data-y2":s,d:["M"+n,i+"L"+o,s].join(" ")})})),Xl=/[,\s]+/g,ql=Kl((e=>{var t=e,{points:n=""}=t,i=(0,r.S0)(t,["points"]);return(0,r.EZ)((0,r.ih)({},i),{"data-type":"polyline",d:Ql(n)})}));function Ql(e){const t=e.trim().split(Xl),n=new Array(Math.ceil(e.length/2));let r=1;n[0]="M"+t[0]+" "+t[1];for(let e=2,i=t.length;e<i;e+=2)n[r++]="L"+t[e]+" "+t[e+1];return n.join("")}var $l=Kl((e=>{var t=e,{points:n=""}=t,i=(0,r.S0)(t,["points"]);return(0,r.EZ)((0,r.ih)({},i),{"data-type":"polygon",d:Ql(n)+"Z"})})),ed=Kl((e=>{var t=e,{x:n=0,y:i=0,width:o=0,height:s=0}=t,a=(0,r.S0)(t,["x","y","width","height"]);return n=+n,i=+i,o=+o,s=+s,(0,r.EZ)((0,r.ih)({},a),{"data-type":"rect","data-x":n,"data-y":i,"data-width":o,"data-height":s,d:["M"+n,i+"H"+(n+o),"V"+(i+s),"H"+n,"Z"].join(" ")})})),td=oc((({getService:e})=>{const t=e(Rc);for(const e in Bl){const n=Bl[e];"function"==typeof n&&t.add(e,{component:n,flags:fe.We.SOLID_GRAPHICS|fe.We.SHAPE})}})),nd=(0,i.iv)({cursor:"pointer",fill:"white",stroke:r.g4.colors.primaryAlt}),rd=(0,i.iv)({stroke:"white",fill:"none",mixBlendMode:"difference",pointerEvents:"none"}),id=(0,i.iv)({cursor:"move",fill:"transparent",stroke:"white",mixBlendMode:"difference"}),od=()=>{const e=Pt(!0),t=(0,c.sJ)(Sn.unitScale),n=(0,c.Zl)(Ja.enabled),[r,s]=(0,c.FV)(Ja.coords),[a,u]=(0,c.FV)(Ja.center),[l,d]=(0,o.useState)(0),[f,h]=null!=r?r:[$.xE,$.xE];if(Le(e.onStart,(({isPrimary:e,cancel:t,sourceEvent:r})=>{if(!e)return t();{r.stopPropagation();const e=parseInt(r.currentTarget.getAttribute("data-index")||"-1");e<0?n(!1):e!==l&&d(e)}})),Le(e.onMove,(({position:e})=>{2===l?u(e):s((t=>{if(!t)return t;const n=[...t];return n[l]=e,n}))})),null==r||null==a)return null;const p=["M",f.x,f.y,"L",h.x,h.y].join(" ");return(0,i.tZ)(React.Fragment,null,(0,i.tZ)("path",{css:rd,d:p,fill:"none",stroke:"white",strokeWidth:2*t}),(0,i.tZ)("circle",{"data-index":2,fill:"transparent",css:id,r:32*t,cx:a.x,cy:a.y,onMouseDown:e.listener,onMouseUp:e.listener}),(0,i.tZ)(sd,{index:0,point:f,onStart:e.listener}),(0,i.tZ)(sd,{index:1,point:h,onStart:e.listener}))};function sd({index:e,point:t,onStart:n}){const r=(0,c.sJ)(Sn.unitScale);return(0,i.tZ)("circle",{"data-index":e,css:nd,cx:t.x,cy:t.y,r:8*r,fill:"white",strokeWidth:2*r,onMouseDown:n,onTouchStart:n})}var ad=()=>{const[e,t]=(0,c.FV)(Ja.enabled);return e?(0,i.tZ)(od,null):null},cd=oc((({components:e})=>{e.section("foreground").add(ad)}));function ud(e){(0,s.BA)(e,[Jl,Xc,Sc,Vc,ll,ul,Ul,td,cd])}},1753:function(e,t,n){n.d(t,{y:function(){return r}});var r=function(){function e(t,n){if(void 0===n&&(n={}),!(this instanceof e))return new e(t,n);if(null!=n.comparator&&"function"!=typeof n.comparator)throw new Error("comparator must be a function");if(null!=n.middleware&&"function"!=typeof n.middleware)throw new Error("middleware must be a function");this._listeners=[];var r=this.dispatch.bind(this);this._comparator=n.comparator,this.subscribe=this.subscribe.bind(this),this.get=this.get.bind(this),this.set=null!=this._comparator?this._diffSet.bind(this):this.set.bind(this),this.dispatch=n.middleware&&n.middleware(r)||r,this._value="function"==typeof t?t():t}return e.prototype._diffSet=function(e){return this._comparator(e,this._value)?this._value:this.notify(this._value=e)},e.prototype.subscribe=function(e){var t=this._listeners;return t.push(e),function(){var n=t.indexOf(e);n<0||t.splice(n,1)}},e.prototype.dispose=function(){this._listeners.splice(0,this._listeners.length)},e.prototype.dispatch=function(e,t){return this.set("function"==typeof e?e.call(void 0,this._value,t):e)},e.prototype.set=function(e){return this.notify(this._value=e)},e.prototype.get=function(){return this._value},e.prototype.notify=function(e){for(var t=this._listeners.slice(),n=0,r=t.length;n<r;n++)t[n].call(void 0,e);return e},e}()},8370:function(e,t,n){n.d(t,{Gs:function(){return G},Ho:function(){return T},Ie:function(){return je},L6:function(){return B},Lm:function(){return U},Ox:function(){return O},SQ:function(){return I},U_:function(){return V},We:function(){return E},Wm:function(){return R},Zq:function(){return ee},hu:function(){return K},op:function(){return Se},sD:function(){return Ne},yQ:function(){return W}});var r=n(1131),i=n(9443),o=n(3422),s=n(3550),a=n(3415),c=n(4239),u=n(2674),l=n(2660),d=Object.defineProperty,f=Object.defineProperties,h=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))v.call(t,n)&&m(e,n,t[n]);if(p)for(var n of p(t))g.call(t,n)&&m(e,n,t[n]);return e},x=(e,t)=>f(e,h(t));((e,t)=>{for(var n in t)d(e,n,{get:t[n],enumerable:!0})})({},{ATTR_UID:()=>k,BACKGROUND_TYPE:()=>C,CONTENT_TEXT:()=>w,TEXTPATH_TYPE:()=>_,TEXT_TYPE:()=>b});var b="#text",w=b,C="fl:background",_="fl:textpath",k="data-uid",E=(e=>(e[e.NONE=0]="NONE",e[e.GRAPHICS=1]="GRAPHICS",e[e.SHAPE=2]="SHAPE",e[e.SOLID=4]="SOLID",e[e.TEXT=4]="TEXT",e[e.SVG=8]="SVG",e[e.CUSTOM=16]="CUSTOM",e[e.CONTAINER=32]="CONTAINER",e[e.WRAPPER=64]="WRAPPER",e[e.SOLID_GRAPHICS=5]="SOLID_GRAPHICS",e))(E||{}),S={};function j(e,t){var n;for(const r of e.split(",")){const e=null!=(n=S[r])?n:S[r]={flags:t};e.flags=e.flags|t}}j("a,clipPath,foreignObject,g,svg,switch,text,textPath,tspan,use",5),j("circle,ellipse,image,line,path,polygon,polyline,rect",7),j("a,defs,g,marker,mask,pattern,svg,switch,symbol",32),j("svg,g,switch,foreignObject",64),j("svg",8),j("defs",1),j(b,4);var N=S,L=new Set("alignment-baseline,baseline-shift,clip-path,clip-rule,clip,color-interpolation-filters,color-interpolation,color-profile,color-rendering,color,cursor,direction,display,dominant-baseline,enable-background,fill-opacity,fill-rule,fill,filter,flood-color,flood-opacity,font-family,font-size-adjust,font-size,font-stretch,font-style,font-variant,font-weight,glyph-orientation-horizontal,glyph-orientation-vertical,image-rendering,kerning,letter-spacing,lighting-color,marker-end,marker-mid,marker-start,mask,opacity,overflow,pointer-events,shape-rendering,stop-color,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,stroke,text-anchor,text-decoration,text-rendering,unicode-bidi,visibility,word-spacing,writing-mode".split(","));function A(e){return L.has(e)}function O(){return"o_"+(0,s.i)()}function T(e){const t=(0,r.f)({},e);return t.id=O(),t.children=t.children.map(T),t}function D(e){var t;return"g"===e.type&&"svg"===(null==(t=e.children[0])?void 0:t.type)}function M(e,t){const n=(0,r.f)({},e);return n.attrs=(0,r.f)({},n.attrs),(0,r.f)(n.attrs,t),n}function R({type:e,id:t=O(),attrs:n=i.wO,children:r=i.LZ}){if("string"!=typeof e)throw new Error("type is required");return{id:t,type:e,attrs:n,children:r}}function P(e){const t=I((e=function(e){const t=y({},e),n=t.attrs=y({},e.attrs),r=(0,a.HX)(n.x),i=(0,a.HX)(n.y),o=(0,a.HX)(n.width),s=(0,a.HX)(n.height),c=U(t.attrs.viewBox)||{x:0,y:0,width:o,height:s};return Object.assign(t.attrs,function(e,t){const n=Math.min(e.width/t.width,e.height/t.height),r=t.width*n,i=t.height*n;return{x:.5*(e.width-r),y:.5*(e.height-i),width:r,height:i}}({x:r,y:i,width:o||c.width,height:s||c.height},c)),t}(e)).attrs),n=T(e),r=R({type:"g"});return r.children=n.children,M(r,{transform:(0,o.Jc)(t)})}function I(e){if(null==e.viewBox)return o.y3.DEFAULT;const t=(0,a.HX)(e.x),n=(0,a.HX)(e.y),r=(0,a.HX)(e.width),i=(0,a.HX)(e.height),s=U(e.viewBox)||{x:0,y:0,width:r,height:i},c=Math.min(r/s.width,i/s.height),u=(0,o.xk)(-s.x,-s.y),l=(0,o.w9)(c,c),d=(0,o.xk)(t,n+.5*(i-s.height*c));return(0,o.Jp)(d,(0,o.Jp)(l,u))}var F=/[^A-Za-z0-9-+\.]+/g;function G(e){return e===b}function z(e){return"string"!=typeof e?[]:e.split(F)}function U(e){if(null==e)return null;const t=z(e);return{x:+t[0],y:+t[1],width:+t[2],height:+t[3]}}var Z={flags:0},J=new class{constructor(){this.nodes=function(e){const t=new Map;for(const n in e)t.set(n,e[n]);return t}(N)}getFlags(e){var t;return(null!=(t=this.nodes.get(e))?t:Z).flags}defineNode(e,t){this.nodes.set(e,t)}getNodeInfo(e){var t;return null!=(t=this.nodes.get(e))?t:Z}},B=J.getFlags.bind(J),K=J.defineNode.bind(J);function Y(e,t){const n=[];for(const i of e)if("defs"===i.type)t.push(...i.children);else if(5&B(i.type))n.push(i);else if($(i.type)&&i.children.length>0){const e=R(x(y({},i),{type:"g"}));n.push(...Y(X(e,!0),t))}else r=i.type,32==(32&B(r))&&t.push(i);var r;return n}function V(e,t){const n=[];for(const r of(0,c.rY)(e))if(D(r))n.push(...V(q(r),t));else if($(r.type)){const e=Y(X(r,!0),t);if(1===e.length&&$(e[0].type))n.push(...V(e[0],t));else for(const r of e){let e=r;for(;Q(e);)e=D(e)?R({type:"g",children:V(q(e),t)}):X(e,!1)[0];(!$(e.type)||e.children.length>0)&&n.push(e)}}else n.push(r);return n}function W(e,t){const n=V(e,t);return n.find((e=>"g"===e.type))?W(n,t):n}J.getNodeInfo.bind(J);var H=(()=>{const e=(e,t)=>t||e,t={transform:(e,t)=>e?t?(0,o.g0)((0,o.y3)(e),(0,o.y3)(t)):e:t};return(n,r,i)=>{var o;const s=null!=(o=t[n])?o:A(n)?e:void 0;return s?s(r,i):void 0}})();function X(e,t){const n=e.attrs;return e.children.map((e=>function(e,t,n){if(!n&&0==(9&B(e.type)))return e;const r=x(y({},e),{attrs:y({},e.attrs)});for(const e in t){const n=H(e,t[e],r.attrs[e]);n&&(r.attrs[e]=n)}return r}(e,n,t)))}function q(e){return R(x(y({},e),{children:X(P(e.children[0]),!1)}))}function Q(e){if(!$(e.type))return!1;let t=0;for(const n of e.children)(9&B(n.type))>0&&t++;return 1===t}function $(e){return 64==(64&B(e))}function ee(e){return 4==(4&B(e))}var te=/(?:['"])/g;function ne(e,t){return"font-family"!==t?e:e.trim().replace(te,"")}function re(e,t){if("transform"!==t)return e;const n=(0,u.$L)(e);return n&&(0,o.Jc)(n)}function ie(e){return(0,u.PZ)(e,(e=>{var t;if(e instanceof SVGElement&&"defs"!==e.nodeName)return;const n=[];e.childNodes.forEach((e=>{if(e.nodeName.indexOf("linearGradient")<0&&e.nodeName.indexOf("radialGradient")<0)return;const t=function(e){const t={};e.childNodes.forEach((n=>{if(n instanceof SVGStopElement){const r=n.getAttribute("stop-color")||n.style.stopColor,i=n.getAttribute("stop-opacity")||n.style.stopOpacity;r&&!i&&(t[r+i]={id:e.id,color:r,opacity:i,node:e})}}));const n=Object.keys(t);return 1!==n.length?null:t[n[0]]}(e);t&&n.push(t)}));for(const e of n){const n=oe(e.node);if(n){const r=(0,u.Oq)(n,(t=>{var n;return t instanceof SVGElement&&-1!==(null==(n=t.getAttribute("fill"))?void 0:n.indexOf("#"+e.id))}));for(const t of r)t.setAttribute("fill",e.color);null==(t=e.node.parentNode)||t.removeChild(e.node)}}return e})),e}function oe(e){for(;e.parentNode;){if(e.parentNode instanceof SVGSVGElement)return e.parentNode;e=e.parentNode}return null}function se(e){if(!(e instanceof SVGElement))return e;const t=(0,u.Oq)(e,(e=>"style"===e.nodeName));if(0===t.length)return e;const n=new Set,r=new Map,i=new Set;return t.forEach((e=>{var t,r;e.textContent&&function(e,t){let n;e=e.replace(ce,"");const r=/(?:\S[^\{]+\{[^\}]*\})/gm;for(;n=r.exec(e);){const e=n[0].split(ue),r=e[0].trim().split(le),i=e[1].split(";");for(const e of r){const n=de(e);for(const r of i){const i=r.split(":");2===i.length&&t.add({selectorText:e,priority:n,key:i[0].trim(),value:i[1].trim()})}}}}(null!=(t=e.textContent)?t:"",n),null==(r=e.parentNode)||r.removeChild(e)})),Array.from(n).sort(ae).forEach((t=>{if(!r.has(t.selectorText))try{r.set(t.selectorText,e.querySelectorAll(t.selectorText))}catch(e){console.warn("Failed to select:",t.selectorText)}const n=r.get(t.selectorText);n&&n.forEach((e=>{var n;(null==(n=e.style)?void 0:n.length)&&i.add(e),A(t.key)?e.setAttribute(t.key,t.value):(console.warn("Unknown style:",t.key,t.value),e.setAttribute("data-style-"+t.key,t.value))}))})),i.forEach((e=>{const t=e.style,n=t.length;for(let r=0;r<n;r++){const n=t[r];e.setAttribute(n,t[n])}e.removeAttribute("style")})),r.clear(),i.clear(),e}function ae(e,t){return e.priority===t.priority?0:e.priority>t.priority?1:-1}var ce=/(?:\/\*.*\*\/)/gm,ue=/[\{\}]/gm,le=/\s*,\s*/g;function de(e){const t=e.length;let n=0,r=!1;for(let i=0;i<t;i++)if(" +>".indexOf(e[i])>-1)r=!1;else if("#"===e[i])n+=65536,r=!0;else if("."===e[i])n+=256,r=!0;else if("["===e[i])for(n+=256,r=!0;"]"!==e[i]&&i<t;)i++;else r||(n+=1,r=!0);return n}function fe(e){var t;if(!(e instanceof SVGSVGElement))return e;const n=null!=(t=e.querySelector("defs"))?t:document.createElementNS(u.NS,"defs"),r=new Map,i=e=>(r.has(e)||r.set(e,O()),r.get(e));e.querySelectorAll("linearGradient,radialGradient").forEach((t=>{const r=t.id;r&&!e.querySelector("defs > #"+r)&&n.appendChild(t),t.id=i(t.id)}));const o=["fill","stroke"];return(0,u.PZ)(e,(e=>{e instanceof Element&&o.forEach((t=>{const n=e.getAttribute(t);0===(null==n?void 0:n.indexOf("url("))&&e.setAttribute(t,n.replace(/['"]?#([^\)'"]+)['"]?/g,((e,t)=>"#"+i(t))))}))})),!n.parentNode&&n.childNodes.length>0&&e.appendChild(n),e}function he(e,t){const n=e.attrs,r=n.style;if(r){const e=(0,u.QK)(r),t={};Object.keys(e).forEach((r=>{A(r)?n[r]=e[r].toString():t[r]=e[r]})),Object.keys(t).length>0?n.style=(0,u.Qe)(t):delete n.style}}var pe="data-fl-background";function ve(e,t){var n;if("path"===e.type){const t=!!e.attrs["data-textpathprops"],n=!!e.attrs["data-textpath"],r="data-fl-textpath"in e.attrs;(n||t||r)&&(e.type=_,r||(e.attrs=n?function(e){const t={},n=["d"],r={start:"0",middle:"0.5",end:"1"};for(const r in e){let i=e[r];if(!(n.indexOf(r)>-1))if(0===r.indexOf("data-")){const e=r.replace("data-","");"font-src"===e?t[e]="/fonts/"+i.substr(i.lastIndexOf("/")+1):"textpath"===e?t.text=i:"letterspacing"===e?t["letter-spacing"]=i:"xmlspace"===e?t.space=i:"font"===e?t["font-family"]=i:"side"===e?t.side="left":"path"===e?t.path=i||void 0:t[e]=i}else t[r]=i}const i=t["font-src"],o=t.path,s=t.href;if(i&&t["font-family"]&&(i.indexOf("-bold")>-1&&(t["font-weight"]="700"),i.indexOf("-italic")>-1&&(t["font-style"]="italic"),t["font-src"]=void 0),o&&(t.href=void 0),!o&&!s){const e=t.align;if(e){const n=r[e];n&&(t["text-anchor"]=e,t.offset=n,delete t.align)}else t["text-anchor"]="start",t.offset="0"}return t.transform=void 0,t}(e.attrs):function(e){const t=y({},e),n=JSON.parse(e["data-textpathprops"]);for(const e in n)t[(0,l.nT)(e)]=n[e];return t}(e.attrs)),delete e.attrs.d)}else pe in e.attrs?(e.type=C,delete e.attrs[pe]):"data-logo-bg"in e.attrs?(e.type=C,delete e.attrs["data-logo-bg"]):"background"===e.attrs.elementtype&&(e.type=C,e.attrs.fill=null==(n=e.children[0])?void 0:n.attrs.fill,delete e.attrs.elementtype)}function ge(e,t){const n=e.attrs;n.stroke&&isNaN(parseFloat(n["stroke-width"]+""))&&(n["stroke-width"]="1")}var me=/^[A-Za-z0-9]+:/g,ye=/(?:xlink):/g;function xe(e){const t=e.attrs,n={};for(const e in t)if(e.match(ye)){const[r,i]=e.split(":");n[null!=i?i:r]=t[e]}else e.match(me)||(n[e]=t[e]);e.attrs=n}function be(e){if("stop"===e.type){const t=e.attrs["stop-color"];t&&"#"===t[0]&&(e.attrs["stop-color"]="rgb("+function(e){0===e.indexOf("#")&&(e=e.substr(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const t=parseInt(e,16);return[t>>16&255,t>>8&255,255&t]}(t).join(", ")+")")}}var we=/\s*,\s*/g;function Ce(e,t){var n;const r=e.attrs;if("path"===e.type&&r.d){const e=null!=(n=r.d)?n:"M0 0Z";r.d=e.replace(we," ")}}function _e(e,{getParent:t,create:n,append:r}){const o=t(e);if("svg"!==e.type||"g"===(null==o?void 0:o.type)&&1===o.children.length)return;const s=e.attrs,a=z(s.viewBox).map((e=>+e||0));void 0===s.width&&(s.width=a[2]+""),void 0===s.height&&(s.height=a[3]+"");const c=n("g",i.wO);r(c,o),r(e,c)}var ke="[root]",Ee=class{constructor(e={}){this.nodes=new Map,this.styles=new Map,this.root={id:ke,type:ke,parentId:null,attrs:i.wO,children:[]};const t=function({onAttributeValue:e=i.LZ,onObjectNode:t=i.LZ,onDomNode:n=i.LZ}={}){return{onDomNode:[ie,fe,se,...n],onAttributeValue:[re,ne,...e],onObjectNode:[he,xe,ge,be,Ce,ve,_e,...t]}}(e);for(const e in t)this[e]=t[e]}parse(e){const t=(0,u.M3)(e).map((e=>{return t=e,Oe(this.onDomNode,t,void 0);var t})).map((e=>Le(e,this))).filter((e=>null!=e));return Ae.call(this,t)}serialize(e){const t=[];return De(e,t),t.join("")}create(e,t){const n={id:O(),parentId:ke,type:e,attrs:t,children:[]};return this.nodes.set(n.id,n),this.root.children.push(n),n}text(e){return{id:O(),parentId:ke,type:b,attrs:{[w]:e},children:i.LZ}}remove(e){const t=e.parentId&&this.nodes.get(e.parentId);return t&&t.children.splice(t.children.indexOf(e),1),e.parentId=ke,this.nodes.delete(e.id),e}append(e,t){if(e===this.root)return e;if(e===t)throw Te("Cannot append to itself");const n=this.getParent(e);return n.children.splice(n.children.indexOf(e),1),t.children.push(e),e.parentId=t.id,this.nodes.set(e.id,e),e}getParent(e){return e.parentId&&e.parentId!==this.root.id?this.nodes.get(e.parentId):this.root}dispose(){this.nodes.clear(),this.styles.clear()}};function Se(e,t){const n=new Ee(t);try{const t=function(e){var t;if(null!=e)for(const n of e)return"svg"===n.type?n:null!=(t=n.children.find((e=>"svg"===e.type)))?t:null;return null}(n.parse(e));if(!t)throw Te("unable to find document root");return function(e){const t=e.attrs,n=U(t.viewBox);n&&(t.width=n.width+"px",t.height=n.height+"px",t.viewBox="0 0 "+n.width+" "+n.height);const r=I(e.attrs);e.children=e.children.map((e=>M(e,{transform:e.attrs.transform?(0,o.Jc)((0,o.g0)(r,(0,o.y3)(e.attrs.transform))):e.attrs.transform})))}(t),t}finally{n.dispose()}}function je(e,t){const n=new Ee(t);try{return n.parse(e)}finally{n.dispose()}}function Ne(e){return(new Ee).serialize(e)}function Le(e,t){var n;if(e instanceof SVGElement){const n=t.create(e.nodeName,function(e,{onAttributeValue:t}){const n=e.attributes,r=n.length,i={};for(let e=0;e<r;e++){const r=n.item(e),o=Oe(t,r.value,r.name);null!=o&&(i[r.name]=o)}return i}(e,t));return e.childNodes.forEach((e=>{const r=Le(e,t);r&&t.append(r,n)})),n}if(e instanceof Text){const r=null==(n=e.textContent)?void 0:n.replace(/(?:^\s+|\s+$)/g,"");return r?t.text(r):null}return null}function Ae(e){const t=this.root,n=this.onObjectNode,r={root:t,getParent:this.getParent.bind(this),text:this.text.bind(this),create:this.create.bind(this),remove:this.remove.bind(this),append:this.append.bind(this)};return t.children=e,this.nodes.forEach((e=>{n.forEach((t=>t(e,r)))})),t.children}function Oe(e,t,n){return e.reduce(((e,t)=>t(e,n)),t)}function Te(e){const t=new Error(e);return t.name="ParserError",t}function De(e,t){const{type:n}=e,r=function(e){const t=[];for(const n in e){let r=e[n];null!=r&&("style"===n&&"object"==typeof r&&(r=(0,u.Qe)(r)),n&&t.push(n+'="'+(0,l.Xv)(r+"")+'"'))}return t.join(" ")}(e.attrs);if(4===B(n))t.push(e.attrs[w]);else{t.push("<",n,r?" "+r:"",">");for(const n of e.children)De(n,t);t.push("</",n,">")}}Ee.ROOT=ke},3831:function(e,t,n){n.d(t,{Gc:function(){return E},Q2:function(){return I},QZ:function(){return S},_n:function(){return P},cl:function(){return N},l0:function(){return O},nS:function(){return A},u9:function(){return h}});var r=n(1753),i=n(3313),o=n.n(i),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function l(e){return Array.isArray(e)?e:[e]}function d(e,t,n,r){var i=n+1,o=t[n];return t[i]?e[o]?d(e[o]=s({},e[o]),t,i,r):d(e[o]={},t,i,r):e[o]=r,e}function f(e,t,n){return d(s({},e),t.split("."),0,n)}function h(e,t){return function(e,t){for(var n,r=t.length,i=0;i<r;i++){if(n=t[i],!t[i+1])return e[n];if("object"!=typeof e[n])return;e=e[n]}}(e,t.split("."))}function p(e,t){if(null==e)return t;if(null==t)return e;var n=s({},e);for(var r in t){var i=e[r],o=t[r];"object"!=typeof o||null===o||Array.isArray(o)?n[r]=t[r]:"object"!=typeof i||null===i||Array.isArray(i)?n[r]=o:n[r]=p(i,o)}return n}var v=function(e){return e};function g(){var e=[],t=!1,n=function(){t=!0};return{subscribe:function(t){return e.push(t),function(){var n=e.indexOf(t);n<0||e.splice(n,1)}},dispatch:function(n){for(var r=e.slice(),i=e.length,o=new Array(i),s=0;s<i&&!t;s++)o[s]=r[s](n);return t=!1,Promise.all(o)},cancel:n,dispose:function(){n(),e.splice(0,e.length)}}}var m=function(){function e(){var e;this.store=(e={},(0,r.y)({valid:!0,values:s({},e.values),errors:s({},e.errors),touched:s({},e.touched)})),this.fields=[],this.subscribe=this.store.subscribe,this.getState=this.store.get,this.handleSubmit=this.handleSubmit.bind(this),this.handleReset=this.handleReset.bind(this),this.handleChange=this.handleChange.bind(this),this.registerField=this.registerField.bind(this),this.registerValidator=this.registerValidator.bind(this),this.registerChange=this.registerChange.bind(this),this.registerReset=this.registerReset.bind(this),this.registerSubmit=this.registerSubmit.bind(this),this.setFieldValue=this.setFieldValue.bind(this),this.setValues=this.setValues.bind(this),this._subs={validate:g(),submit:g(),change:g(),reset:g()},this._ref={current:null}}return e.prototype.isAvailable=function(){var e=this.getState();return!e.submitting&&!e.validating},e.prototype.setRef=function(e){this._ref.current=e},e.prototype.triggerSubmit=function(){var e=this._ref.current;e&&function(e){e.dispatchEvent(new Event("submit",{bubbles:!0}))}(e)},e.prototype.handleChange=function(e){return c(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return y(e)&&e.preventDefault(),[4,this._subs.change.dispatch(this.getState().values)];case 1:return t.sent(),[2]}}))}))},e.prototype.handleSubmit=function(e){return c(this,void 0,void 0,(function(){var t,n,r,i,o;return u(this,(function(a){switch(a.label){case 0:return y(e)&&e.preventDefault(),this.isAvailable()?(t=this.store,n=this.fields,r=b(function(e,t){for(var n={},r=0,i=t;r<i.length;r++)n[i[r].name]=!0;return s(s({},e),{validating:!0,submitting:!0,touched:n})}(t.get(),n),n),t.set(r),[4,w(t,this._subs.validate)]):(console.warn("Tried to submit while already submitting or validating."),[2]);case 1:return i=a.sent(),o=Object.keys(i).length<1,r=t.get(),t.set(x(r,{errors:s(s({},r.errors),i),valid:o,validating:!1,submitting:o})),o?[4,this._subs.submit.dispatch(t.get().values)]:[3,3];case 2:a.sent(),t.set(x(t.get(),{submitting:!1})),a.label=3;case 3:return[2]}}))}))},e.prototype.handleReset=function(){return c(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.store.set({errors:{},submitting:!1,touched:{},valid:!0,validating:!1,values:{}}),[4,this._subs.reset.dispatch()];case 1:return e.sent(),[2]}}))}))},e.prototype.registerField=function(e){var t=this.fields;return t.push(e),function(){var n=t.indexOf(e);n<0||t.splice(n,1)}},e.prototype.registerValidator=function(e){var t=this._subs.validate.cancel;return this._subs.validate.subscribe((function(n){var r,i=e(n);if("object"==typeof i&&(null===(r=i)||"object"!=typeof r||"function"!=typeof r.then)&&null!==i)for(var o in i)if(i[o]){t();break}return i}))},e.prototype.registerSubmit=function(e){return this._subs.submit.subscribe(e)},e.prototype.registerChange=function(e){return this._subs.change.subscribe(e)},e.prototype.registerReset=function(e){return this._subs.reset.subscribe(e)},e.prototype.validate=function(e){for(var t={},n=this.fields,r=e.values,i=0,o=n;i<o.length;i++){var a=o[i],c=a.name,u=a.validate,l=C(u?Array.isArray(u)?u:[u]:[],r[c],e);null!=l&&(t[c]=l)}return s(s({},e),{valid:Object.keys(t).length<1,errors:t})},e.prototype.setFieldValue=function(e,t){var n=s({},this.store.get());n.values=f(n.values,e,t),this.store.set(b(n,this.fields))},e.prototype.setFieldTouched=function(e,t){var n,r=s({},this.store.get());r.touched[e]||(r.touched=s(s({},r.touched),((n={})[e]=t,n))),this.store.set(r)},e.prototype.setFieldError=function(e,t){var n,r=s({},this.store.get());r.errors=s(s({},r.errors),((n={})[e]="string"==typeof t?t:void 0,n)),this.store.set(r)},e.prototype.setValues=function(e){var t=this.store.get();this.store.set(s(s({},t),{values:s(s({},t.values),e)}))},e.prototype.dispose=function(){for(var e in this.store.dispose(),this.fields.splice(0,this.fields.length),this._subs)this._subs[e].dispose();this._ref.current=null},e}();function y(e){return"function"==typeof e.preventDefault||e.constructor&&"SyntheticEvent"===e.constructor.name}function x(e,t){return s(s({},e),t)}function b(e,t){for(var n={},r=e.values,i=0,o=t;i<o.length;i++){var a=o[i],c=a.name,u=a.validate,l=C(u?Array.isArray(u)?u:[u]:[],h(r,c),e);null!=l&&(n[c]=l)}return s(s({},e),{valid:Object.keys(n).length<1,errors:n})}function w(e,t){return c(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return n=e.get(),[4,t.dispatch(n)];case 1:return[2,r.sent().reduce((function(e,t){return s(s({},e),t)}),e.get().errors)]}}))}))}function C(e,t,n){for(var r=0,i=e;r<i.length;r++){var o=(0,i[r])(t,n);if(void 0!==o)return o}}var _=(0,i.createContext)(null),k=function(e){var t=e.form,n=e.children,r=e.values,s=e.onStateChange,a=e.handleChange,c=e.handleSubmit,u=e.handleReset,l=(0,i.useRef)(t);l.current||(l.current=new m,r&&l.current.setValues(r));var d=l.current,f=d.registerSubmit,h=d.registerChange,p=d.registerReset;(0,i.useEffect)((function(){return s&&l.current.subscribe(s)}),[s]),(0,i.useEffect)((function(){return a&&h(a)}),[a]),(0,i.useEffect)((function(){return c&&f(c)}),[c]),(0,i.useEffect)((function(){return u&&p(u)}),[u]);var v="function"==typeof n?n:function(){return n};return o().createElement(_.Provider,{value:l.current},v(l.current))};function E(){return(0,i.useContext)(_)}function S(e){var t=E();(0,i.useEffect)((function(){if(e){var n=l(e);if(0!==n.length){var r=n.map(t.registerValidator);return function(){for(var e=0,t=r;e<t.length;e++)(0,t[e])()}}}}),[e,t])}var j=function(e){return e};function N(e,t){void 0===e&&(e=j),void 0===t&&(t=[e]);var n=(0,i.useCallback)(e,t),r=E(),o=r.subscribe,s=r.store.get,a=(0,i.useState)((function(){return n(s())})),c=a[0],u=a[1],l=(0,i.useRef)(c);return(0,i.useEffect)((function(){return o((function(e){var t=n(e);t!==l.current&&u(l.current=t)}))}),[n,o]),c}var L=function(e){return S(l(e.handler).filter((function(e){return"function"==typeof e}))),null};function A(e){var t=e.render,n=N(),r=t?t(n):null;return null!=r?r:null}function O(e){var t=e.children,n=e.validate,r=e.values,c=e.onStateChange,u=e.onSubmit,l=void 0===u?v:u,d=e.onReset,f=e.onChange,h=a(e,["children","validate","values","onStateChange","onSubmit","onReset","onChange"]),p=E(),g=(0,i.useRef)(null);return o().createElement(k,{form:p,values:r,handleSubmit:l,handleReset:d,handleChange:f,onStateChange:c},(function(e){var r=e.handleSubmit,i=e.handleReset,a=e.handleChange;return o().createElement("form",s({},h,{ref:g,onSubmit:r,onReset:i,onChange:a}),o().createElement(L,{handler:n}),o().createElement(T,{formRef:g}),t)}))}var T=function(e){var t=e.formRef,n=E();return(0,i.useEffect)((function(){var e=t.current;if(e)return n.setRef(e),function(){n.setRef(null)}}),[n,t]),null},D=(0,i.createContext)("");function M(e){var t,n,r=e.name,o=e.validate,c=e.component,u=e.onChange,d=e.onTouchChange,f=a(e,["name","validate","component","onChange","onTouchChange"]),h=E(),p=(t=r,""!==(n=(0,i.useContext)(D))?n+"."+t:t),v=function(e){var t=E().store,n=(0,i.useRef)(R(t.get(),e)),r=(0,i.useState)(n.current),o=r[0],s=r[1];return(0,i.useEffect)((function(){return t.subscribe((function(t){var r=R(t,e),i=n.current;r.value===i.value&&r.error===i.error&&r.touched===i.touched||s(n.current=r)}))}),[t,e]),o}(p);return(0,i.useEffect)((function(){var e=l(o).filter((function(e){return"function"==typeof e}));return h.registerField({name:p,validate:e})}),[h,p,o]),(0,i.createElement)(c,s(s({},f),{name:r,value:v.value,touched:v.touched,error:v.error,onChange:function(e){h.setFieldValue(p,e),u&&u(e)},onTouchChange:function(e){h.setFieldTouched(p,e),d&&d(e)}}))}function R(e,t){return{value:h(e.values,t),error:e.errors[t],touched:e.touched[t]}}function P(e,t){if(void 0===t&&(t=e),"function"!=typeof t)throw new Error("withForm: Invalid component definition");var n="function"==typeof e?{}:e,r=n.values,s="function"==typeof r?r:function(){return r};return function(e){var r=e.children,c=a(e,["children"]);return o().createElement(k,{values:p(s(e),e.values),handleSubmit:n.handleSubmit,handleReset:n.handleReset,handleChange:n.handleChange},(0,i.createElement)(t,c,r))}}function I(e){return function(t){return o().createElement(M,s({},t,{component:e}))}}},1890:function(e,t,n){e.exports=n.p+"assets/7b7b5525d76c812ddce7.svg"},3313:function(e){e.exports=window.React},4012:function(e){e.exports=window.ReactDOM},8881:function(e,t,n){n.d(t,{I7:function(){return i},XF:function(){return v},jC:function(){return s}});var r=(e,t,n)=>new Promise(((r,i)=>{var o=e=>{try{a(n.next(e))}catch(e){i(e)}},s=e=>{try{a(n.throw(e))}catch(e){i(e)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,s);a((n=n.apply(e,t)).next())})),i=(()=>{const e=/@font-face\s*{[^}]*}/g,t=/\s*;\s*/g,n=/\s*:\s*/g,r=/url\(["']?([^"'\)]+\.woff)["']?\)/g,i=/^["']|["']$/g;function o(t){const n=[];for(let r=0,i=t.cssRules.length;r<i;r++){const i=t.cssRules[r].cssText.match(e);if(i)for(const e of i){const t=s(e);t&&n.push(t)}}return n}function s(e){const o=e.indexOf("{")+1,s=e.substr(o,e.indexOf("}")-o).trim().split(t),a={},c=(e,t)=>t;for(const e of s){const[t,...o]=e.trim().split(n),s=o.join(":");if("src"===t){const e=s.match(r);e&&(a.src=e[0].replace(r,c))}else"font-weight"===t?a.weight=s.replace(i,""):"font-style"===t?a.style=s.replace(i,""):"font-family"===t&&(a.family=s.replace(i,""))}return null==a.style&&(a.style="normal"),null==a.weight&&(a.weight="400"),a.src?a:null}return{extractFontFaces:o,extractAllFontFaces:function(){const e=document.styleSheets,t=[];for(let n=0,r=e.length;n<r;n++)try{const r=e[n];t.push(...o(r))}catch(e){}return t}}})(),o={100:100,200:200,300:300,400:400,500:500,600:600,700:700,800:800,900:900,normal:400,bold:700},s=function(){const e=[];let t={},n=null;const s=t=>{for(var n=0,r=e.length;n<r;n++)if(e[n].url===t)return e[n];return null},a=()=>new Promise(((e,t)=>{window.opentype.load(n,((n,r)=>{n?t(n):e(r)}))})),c=t=>{if("string"!=typeof t)throw new Error('Invalid font url "'+t+'"');const n=s(t);let r;if(n)r=n.promise;else{r=new Promise(((e,n)=>{const[r,i]=t.split("?"),o=r+"?v=opentype"+(i?"&"+i:"");window.opentype.load(o,(function(t,r){if(t){const r=new Error('Failed to load font "'+o+'", '+t.message);if(null!=f())return console.warn(r),a().then(e).catch((()=>{n(r)}));n(r)}e(r)}))}));const n={url:t,promise:r,font:null},i=e.push(n)-1;r.then((function(t){return e[i].font=t,t}))}return r},u=e=>r(this,null,(function*(){const t=s(e);return t&&t.font?t.font:t?yield t.promise:yield c(e)})),l=e=>{for(const n of e)t[n.family+"|"+n.style+"|"+n.weight]=n.src},d=e=>{const t=s(e);return t&&t.font},f=()=>n;return l(i.extractAllFontFaces()),{getDefaultFontUrl:f,setDefaultFontUrl:e=>n=e,getFont:u,getFontByFamily:(e,n,i)=>r(this,null,(function*(){const r=e+"|"+n+"|"+o[i];let s=t[r];return void 0===s&&(s=t[r],(s=t[r])||(console.warn('Could not find font source "'+e+'", '+n+", "+i),t[r]=null)),s||null==f()?yield u(s):yield a()})),getLoadedFont:d,getLoadedFontByFamily:(e,n,r)=>d(t[e+"|"+n+"|"+r]),loadFont:c,registerFonts:l,clearCache:()=>{e.splice(0,e.length),t={}}}}(),a=/^\s+|\s+$/gm,c=/\s+/gm,u=/(\-?\d*\.?\d+)\s*(\-?\d*\.?\d+)/gm,l=/[A-Z-a-z]+[\d\s\.,-]*/gm,d=(e=>(e[e.start=0]="start",e[e.middle=.5]="middle",e[e.end=1]="end",e))(d||{}),f=Math.sin,h=Math.cos,p=(Math.abs,Math.max),v=class{static render(e){return r(this,null,(function*(){const t=g(e),n=null!=t.fontSrc?s.getFont(t.fontSrc):s.getFontByFamily(t.fontFamily,t.fontStyle,t.fontWeight),r=t.href?document.querySelector(t.href):null!=t.path?E(t.path):null;return m(yield n,r,t)}))}static renderSync(e){const t=g(e),n=t.href?document.querySelector(t.href):null!=t.path?E(t.path):null,r=null!=t.fontSrc?s.getLoadedFont(t.fontSrc):s.getLoadedFontByFamily(t.fontFamily,t.fontStyle,t.fontWeight);return null!=r?m(r,n,t):""}};function g(e){const t=function(e,t){const n=Object.keys(t);for(const r of n){const n=t[r];void 0!==n&&(e[r]=y(r,n))}return e}(function(e,t){let n,r=Object.keys(t);for(var i=0,o=r.length;i<o;i++)n=r[i],e[n]=t[n];return e}({},v.defaultProps),e);if(!t.fontSrc&&!t.fontFamily)throw function(e){const t=new Error(e);return t.name="TextPathError",t}('"fontSrc" or "fontFamily" must be defined, got "'+t.fontSrc+'"');return t}function m(e,t,n){const r=function(e,t,n){const r=(i=n.text,"preserve"===n.space?i:i.replace(a,"").replace(c," "));var i;const o=e.getAdvanceWidth(r,n.fontSize)+n.letterSpacing*(r.length-1),s=p(t?t.getTotalLength():o,1),u="contain"===n.fontScale&&o>s?s/o*n.fontSize:n.fontSize,l=u/n.fontSize,d=n.letterSpacing*l;return{fontSize:u,fontScaleRatio:l,letterSpacing:d,pathLength:s,text:r,textWidth:o*l,spaceWidth:e.getAdvanceWidth(" ",u),spacingDelta:d/s}}(e,t,n),i=null!=t,o=r.text,s=o.length,u=r.pathLength,l=d[n.textAnchor],f=n.dx,h=n.dy,v=new Array(s),g="right"===n.side;let m=(i?n.offset*u:0)-r.textWidth*l;const y=i?g?e=>t.getPointAtLength(u-e):e=>t.getPointAtLength(e):x,C=i?g?(e,n)=>w(t,u-e,u-n):(e,n)=>w(t,e,n):b;for(let t=0,n=s;t<n;t++){const n=o[t],s=e.getPath(n,0,0,r.fontSize).toPathData(),a=e.getAdvanceWidth(n,r.fontSize)+k(e,o,t,r.fontSize),c=.5*a;if(s){const e=m,n=e+a,o=y(e+c),u=C(e,n);i&&(e>=r.pathLength||n<=0)?v[t]="":v[t]=_(s,o.x,o.y,u,-.5*a+f,h),m+=a+r.letterSpacing}else m+=a+r.letterSpacing}return v.join("")}v.defaultProps={text:"",fontSize:14,letterSpacing:0,offset:0,textAnchor:"start",side:"left",fontSrc:null,fontFamily:null,fontWeight:"normal",fontStyle:"normal",href:null,x:null,y:null,dx:0,dy:0,space:null,fontScale:"none",path:null},v.getProps=g;var y=(()=>{const e={},t=e=>e,n=v.defaultProps;for(const r in n)e[r]="number"==typeof n[r]?C:t;return(n,r)=>(e[n]||t)(r)})(),x=e=>({x:e,y:0}),b=(e,t)=>0;function w(e,t,n){const r=e.getPointAtLength(t),i=e.getPointAtLength(n);return 180*Math.atan2(i.y-r.y,i.x-r.x)/Math.PI}function C(e,t){var n=+e;return isNaN(n)?t:n}function _(e,t,n,r,i,o){const s=r*Math.PI/180;return function(e,t,n,r){const i=r*Math.PI/180,o=h(i),s=f(i),a=(e,r,i)=>{const a=+r,c=+i,u=o*(a+t)-s*(c+n),l=s*(a+t)+o*(c+n);return(u<0?"":" ")+u.toString()+(l<0?"":" ")+l.toString()};return e.replace(l,(e=>e.replace(u,a)))}(e,n*f(s)+t*h(s)+i,n*h(s)-t*f(s)+o,r)}function k(e,t,n,r){const i=t[n],o=t[n+1];return o?e.getKerningValue(e.charToGlyph(i),e.charToGlyph(o))*r/e.unitsPerEm:0}var E=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d",e),t}}},function(e){e.O(0,[79],(function(){return 2014,e(e.s=2014)})),e.O()}]);
//# sourceMappingURL=main.b3e5fb54170bb01006a1.js.map